<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optimal Tree Height - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html" class="active"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-primitive-types.html"><strong aria-hidden="true">10.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch9-api-design.html"><strong aria-hidden="true">11.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch10-algorithm-in-depth.html"><strong aria-hidden="true">12.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch11-improvements.html"><strong aria-hidden="true">13.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch12-how-to-make-aabb.html"><strong aria-hidden="true">14.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch13-code-layout.html"><strong aria-hidden="true">15.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch14-general-thoughts.html"><strong aria-hidden="true">16.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="comparison-of-tree-height"><a class="header" href="#comparison-of-tree-height">Comparison of Tree Height</a></h3>
<p>The below charts show the performance of building and querying colliding pairs when manually selecting a height other than the default one chosen.
You can see that the theory is a downward curve, but the benching is more of a bowl. Theory would tell us to have a big enough height such that every leaf node had only one bot in it. But in the real world, this is overhead due to excessive recursive calls. Its not that pronounced, and I think it is because most of the aabbs don't make it to the bottom of the tree anyway. Most will intersect a divider somewhere in the tree. If we used smaller aabbs it might be more pronounced.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><g  class="poloto0fill" ><rect  x="150" y="100" width="47" height="300" /><rect  x="200" y="268.5444105231834" width="47" height="131.4555894768166" /><rect  x="250" y="267.90373954349576" width="47" height="132.09626045650424" /><rect  x="300" y="345.0460141293686" width="47" height="54.95398587063141" /><rect  x="350" y="345.8000947835958" width="47" height="54.199905216404204" /><rect  x="400" y="382.9604443807655" width="47" height="17.039555619234477" /><rect  x="450" y="382.6522874808504" width="47" height="17.34771251914958" /><rect  x="500" y="398.6873574113057" width="47" height="1.3126425886943025" /><rect  x="550" y="398.06189589234344" width="47" height="1.9381041076565566" /><rect  x="600" y="400" width="47" height="0" /></g><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="369.0657203002215" y2="369.0657203002215" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="369.0657203002215" > 1e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="313.9589785414348" y2="313.9589785414348" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="313.9589785414348" > 1.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="258.852236782648" y2="258.852236782648" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="258.852236782648" > 2.0e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="203.74549502386128" y2="203.74549502386128" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="203.74549502386128" > 2.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="148.6387532650745" y2="148.6387532650745" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="148.6387532650745" > 3.0e6</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.333333333333334;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:5.510674175878676;stroke-dashoffset:-30.934279699778457;" d=" M 150 400 L 150 100" /></svg>
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><path  class="scatter poloto0stroke" d=" M 150 100 h 0 M 150 111.49539933021117 h 0 M 150 110.09740685865819 h 0 M 150 100.79850821067129 h 0 M 150 111.40105680855766 h 0 M 150 112.16579125805248 h 0 M 150 113.68561051099186 h 0 M 150 120.06686974959456 h 0 M 150 125.53692669686586 h 0 M 150 125.15645493830687 h 0 M 150 128.79540538995917 h 0 M 150 116.1699635812019 h 0 M 150 122.65383646664424 h 0 M 150 124.53655133712215 h 0 M 150 126.15769187359075 h 0 M 150 126.18500381821565 h 0 M 150 126.5074915429181 h 0 M 150 128.55149335452427 h 0 M 150 124.26274263044178 h 0 M 150 127.20622930603253 h 0 M 200 270.51458747906736 h 0 M 200 267.6459717179213 h 0 M 200 271.66668629144283 h 0 M 200 272.428405226547 h 0 M 200 272.83929060167554 h 0 M 200 271.21470376304603 h 0 M 200 270.8673165052314 h 0 M 200 273.6412451145077 h 0 M 200 269.5475550927299 h 0 M 200 272.5535059949862 h 0 M 200 272.3816216747133 h 0 M 200 272.1045389809801 h 0 M 200 272.8435984793766 h 0 M 200 272.80801540956577 h 0 M 200 272.96930235069397 h 0 M 200 272.7925932073959 h 0 M 200 271.8782030865657 h 0 M 200 270.8381952519721 h 0 M 200 271.8282317052332 h 0 M 200 271.49876521865497 h 0 M 250 279.46248025197065 h 0 M 250 283.34422269085553 h 0 M 250 283.85686013728343 h 0 M 250 285.4387989866723 h 0 M 250 278.26282246977524 h 0 M 250 282.1570577539932 h 0 M 250 283.0182025064381 h 0 M 250 280.5048143405228 h 0 M 250 285.045058964794 h 0 M 250 285.01791933527727 h 0 M 250 275.2828049912794 h 0 M 250 278.3893879166328 h 0 M 250 278.241972341702 h 0 M 250 276.34469684459447 h 0 M 250 272.0661988694406 h 0 M 250 281.21027239285087 h 0 M 250 280.93293122645565 h 0 M 250 282.78704178899847 h 0 M 250 284.31694147575826 h 0 M 250 282.41053327792446 h 0 M 300 348.5044053793331 h 0 M 300 349.60541276217384 h 0 M 300 350.33042857926483 h 0 M 300 349.8996408091573 h 0 M 300 352.25174203394437 h 0 M 300 351.921758602042 h 0 M 300 351.6217579989391 h 0 M 300 347.38513259503964 h 0 M 300 351.4332452707401 h 0 M 300 350.7562192112391 h 0 M 300 351.12032103453396 h 0 M 300 348.40144710227736 h 0 M 300 350.2735645936106 h 0 M 300 351.3908557541615 h 0 M 300 351.22638098353445 h 0 M 300 347.65868282905797 h 0 M 300 351.11153296402375 h 0 M 300 347.65583962977524 h 0 M 300 350.72442707380515 h 0 M 300 349.4268943102413 h 0 M 350 358.9665171641643 h 0 M 350 361.25916967667655 h 0 M 350 361.5026509243413 h 0 M 350 362.79122330228694 h 0 M 350 363.66830720222583 h 0 M 350 362.1640824665644 h 0 M 350 363.2183924551256 h 0 M 350 357.04012041379747 h 0 M 350 361.7428581849533 h 0 M 350 361.9067298527022 h 0 M 350 362.13160106869833 h 0 M 350 361.4145117465773 h 0 M 350 362.67818459141074 h 0 M 350 362.12772397876734 h 0 M 350 362.0170976794037 h 0 M 350 356.3067473139664 h 0 M 350 361.1437185542877 h 0 M 350 361.4481131926457 h 0 M 350 362.6933483209185 h 0 M 350 358.9082746576458 h 0 M 400 382.463577612017 h 0 M 400 387.6683554504561 h 0 M 400 384.2779695421559 h 0 M 400 386.6281753007545 h 0 M 400 387.49940048701995 h 0 M 400 384.2247241737706 h 0 M 400 386.97616566144734 h 0 M 400 386.55554448271437 h 0 M 400 387.81086004480767 h 0 M 400 386.97427019525884 h 0 M 400 389.1067558148451 h 0 M 400 385.44014878835196 h 0 M 400 388.0429684953416 h 0 M 400 387.8470462174967 h 0 M 400 383.87768154617197 h 0 M 400 386.74267869004905 h 0 M 400 388.2205392141799 h 0 M 400 389.3198234459403 h 0 M 400 385.74962672239724 h 0 M 400 387.591933700039 h 0 M 450 392.1688814423234 h 0 M 450 390.4038577906389 h 0 M 450 393.44185930299113 h 0 M 450 394.15472690496506 h 0 M 450 393.77356588597394 h 0 M 450 394.3190293604841 h 0 M 450 394.3458243597848 h 0 M 450 394.4011375094666 h 0 M 450 394.3805458540554 h 0 M 450 394.2999023834913 h 0 M 450 394.34134416697566 h 0 M 450 394.5775020225486 h 0 M 450 394.735342661516 h 0 M 450 394.49410151025575 h 0 M 450 394.51159149372216 h 0 M 450 394.6095526326446 h 0 M 450 394.45472750806795 h 0 M 450 395.15889319708566 h 0 M 450 391.61842082968 h 0 M 450 395.15355142873636 h 0 M 500 385.6434806158427 h 0 M 500 385.83707663972905 h 0 M 500 394.61463592833184 h 0 M 500 398.03569392586377 h 0 M 500 396.19011296116906 h 0 M 500 393.08577013222026 h 0 M 500 396.48279017218016 h 0 M 500 397.6478987752129 h 0 M 500 391.82821447372237 h 0 M 500 395.4013405541022 h 0 M 500 395.7442476191078 h 0 M 500 396.1277348920575 h 0 M 500 396.38189967642097 h 0 M 500 397.77024250192346 h 0 M 500 398.65163427956344 h 0 M 500 399.5896315701956 h 0 M 500 400 h 0 M 500 399.1890851015496 h 0 M 500 399.7724578998292 h 0 M 500 399.6422738357027 h 0 M 550 380.8718168014697 h 0 M 550 384.3442247011984 h 0 M 550 384.6691248374135 h 0 M 550 386.02645094346826 h 0 M 550 385.86800720162273 h 0 M 550 385.9706208484624 h 0 M 550 385.63581259353475 h 0 M 550 387.2800433544812 h 0 M 550 382.3252085802585 h 0 M 550 385.46056812865504 h 0 M 550 381.70409877331747 h 0 M 550 386.24460187025073 h 0 M 550 389.0535104464598 h 0 M 550 381.35343752844994 h 0 M 550 381.30010600251063 h 0 M 550 384.29847504001305 h 0 M 550 385.4696146718273 h 0 M 550 388.7948654692873 h 0 M 550 389.21462507248003 h 0 M 550 389.71072026853585 h 0 M 600 357.0651061044637 h 0 M 600 358.8136736633302 h 0 M 600 357.3734639903067 h 0 M 600 358.7648223302 h 0 M 600 359.24937241401693 h 0 M 600 358.0340339569896 h 0 M 600 359.2196480578795 h 0 M 600 363.2596619235019 h 0 M 600 366.2385593537954 h 0 M 600 356.58038370553874 h 0 M 600 366.2172784379521 h 0 M 600 368.3119408913229 h 0 M 600 369.46843373895354 h 0 M 600 369.0599607753376 h 0 M 600 369.6535001649917 h 0 M 600 369.1758426854965 h 0 M 600 369.9434203342741 h 0 M 600 369.2436486805114 h 0 M 600 369.4435342058413 h 0 M 600 363.88137483332105 h 0 M 650 340.70240807491575 h 0 M 650 329.98397756687046 h 0 M 650 332.2221785052411 h 0 M 650 346.5918799951637 h 0 M 650 332.6115244918643 h 0 M 650 334.35707653633995 h 0 M 650 333.3859085874096 h 0 M 650 346.24819751217194 h 0 M 650 343.031160602563 h 0 M 650 343.7850392002511 h 0 M 650 344.20703889984844 h 0 M 650 347.3591991712792 h 0 M 650 347.20842345174157 h 0 M 650 347.3029382885032 h 0 M 650 348.09688014881135 h 0 M 650 347.8843294630403 h 0 M 650 345.11401947103286 h 0 M 650 343.988887973066 h 0 M 650 344.4344086849112 h 0 M 650 336.5857139862142 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="394.32342339573916" y2="394.32342339573916" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="394.32342339573916" > 0.002</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="308.16586937423483" y2="308.16586937423483" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="308.16586937423483" > 0.003</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="222.00831535273045" y2="222.00831535273045" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="222.00831535273045" > 0.004</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="135.85076133122612" y2="135.85076133122612" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="135.85076133122612" > 0.005</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.333333333333334;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.615755402150434;stroke-dashoffset:-5.676576604260838;" d=" M 150 400 L 150 100" /></svg></p>
<h3 id="odd-vs-even-height-trees"><a class="header" href="#odd-vs-even-height-trees">ODD vs Even height trees.</a></h3>
<p>You can see that the even heights are barely better than the odds for sub optimal heights. With odd trees, the direction that the root nodes aabbs are sorted is the same as the leaves. If its even they are different. When the direction's match, we can use sweep and prune to speed things up. When the directions don't match, the sorted property can't be exploited since they are in different dimensions even though some pruning can still be done
based off of the bounding rectangles of the dividers. In 'normal' looking trees where the aabbs arn't extremely clumped up, these two methods seem to be around the same speed. In degenerate cases, not enough aabbs can be exluded using the dividers bounding box for the perpendicular cases. </p>
<p>The below chart compares the empirically best height against the height that our heuristic tree height function produces. </p>
<style>
.test .poloto0stroke{
    stroke-width:20;
}
</style>
<div class="test">
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >Optimal</text><line  class="scatter poloto0stroke poloto0legend" stroke="black" x1="685" x2="685" y1="81.25" y2="81.25" /><path  class="scatter poloto0stroke" d=" M 170.83333333333334 290.9090909090909 h 0 M 191.66666666666666 236.36363636363637 h 0 M 212.5 209.0909090909091 h 0 M 233.33333333333331 209.0909090909091 h 0 M 254.16666666666666 209.0909090909091 h 0 M 275 181.8181818181818 h 0 M 295.8333333333333 181.8181818181818 h 0 M 316.66666666666663 181.8181818181818 h 0 M 337.5 181.8181818181818 h 0 M 358.3333333333333 181.8181818181818 h 0 M 379.16666666666663 154.54545454545453 h 0 M 400 181.8181818181818 h 0 M 420.8333333333333 181.8181818181818 h 0 M 441.66666666666663 181.8181818181818 h 0 M 462.5 154.54545454545453 h 0 M 483.3333333333333 154.54545454545453 h 0 M 504.16666666666663 100 h 0 M 525 154.54545454545453 h 0 M 545.8333333333333 127.27272727272725 h 0 M 566.6666666666666 127.27272727272725 h 0 M 587.5 154.54545454545453 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 127.27272727272725 h 0 M 650 127.27272727272725 h 0" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >Heuristic</text><line  class="scatter poloto1stroke poloto1legend" stroke="black" x1="685" x2="685" y1="131.25" y2="131.25" /><path  class="scatter poloto1stroke" d=" M 150 400 h 0 M 170.83333333333334 263.6363636363636 h 0 M 191.66666666666666 236.36363636363637 h 0 M 212.5 209.0909090909091 h 0 M 233.33333333333331 209.0909090909091 h 0 M 254.16666666666666 181.8181818181818 h 0 M 275 181.8181818181818 h 0 M 295.8333333333333 181.8181818181818 h 0 M 316.66666666666663 181.8181818181818 h 0 M 337.5 154.54545454545453 h 0 M 358.3333333333333 154.54545454545453 h 0 M 379.16666666666663 154.54545454545453 h 0 M 400 154.54545454545453 h 0 M 420.8333333333333 154.54545454545453 h 0 M 441.66666666666663 154.54545454545453 h 0 M 462.5 154.54545454545453 h 0 M 483.3333333333333 154.54545454545453 h 0 M 504.16666666666663 127.27272727272725 h 0 M 525 127.27272727272725 h 0 M 545.8333333333333 127.27272727272725 h 0 M 566.6666666666666 127.27272727272725 h 0 M 587.5 127.27272727272725 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 127.27272727272725 h 0 M 650 127.27272727272725 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of optimal vs heuristic with abspiral(x,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Tree Height</text><line  class="poloto_axis_lines" stroke="black" x1="254.15625" x2="254.15625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="254.15625" y="430" > 10000</text><line  class="poloto_axis_lines" stroke="black" x1="358.32291666666663" x2="358.32291666666663" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="358.32291666666663" y="430" > 20000</text><line  class="poloto_axis_lines" stroke="black" x1="462.4895833333333" x2="462.4895833333333" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="462.4895833333333" y="430" > 30000</text><line  class="poloto_axis_lines" stroke="black" x1="566.65625" x2="566.65625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="566.65625" y="430" > 40000</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="372.72727272727275" y2="372.72727272727275" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="372.72727272727275" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="318.1818181818182" y2="318.1818181818182" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="318.1818181818182" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="263.6363636363636" y2="263.6363636363636" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="263.6363636363636" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="209.09090909090912" y2="209.09090909090912" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="209.09090909090912" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="154.54545454545453" y2="154.54545454545453" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="154.54545454545453" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100" y2="100" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="100" > 12</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:5.208333333333333;stroke-dashoffset:-104.15625;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:6.818181818181818;stroke-dashoffset:-27.272727272727273;" d=" M 150 400 L 150 100" /></svg>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch5-tree-data-layout.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch7-parallelism.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch5-tree-data-layout.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch7-parallelism.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
