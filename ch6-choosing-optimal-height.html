<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optimal Tree Height - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html" class="active"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-primitive-types.html"><strong aria-hidden="true">10.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch9-api-design.html"><strong aria-hidden="true">11.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch10-algorithm-in-depth.html"><strong aria-hidden="true">12.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch11-improvements.html"><strong aria-hidden="true">13.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch12-how-to-make-aabb.html"><strong aria-hidden="true">14.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch13-code-layout.html"><strong aria-hidden="true">15.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch14-general-thoughts.html"><strong aria-hidden="true">16.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="comparison-of-tree-height"><a class="header" href="#comparison-of-tree-height">Comparison of Tree Height</a></h3>
<p>The below charts show the performance of building and querying colliding pairs when manually selecting a height other than the default one chosen.
You can see that the theory is a downward curve, but the benching is more of a bowl. Theory would tell us to have a big enough height such that every leaf node had only one bot in it. But in the real world, this is overhead due to excessive recursive calls. Its not that pronounced, and I think it is because most of the aabbs don't make it to the bottom of the tree anyway. Most will intersect a divider somewhere in the tree. If we used smaller aabbs it might be more pronounced.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><g  class="poloto0fill" ><rect  x="150" y="100" width="47" height="300" /><rect  x="200" y="233.3142514748727" width="47" height="166.6857485251273" /><rect  x="250" y="232.80749736873764" width="47" height="167.19250263126236" /><rect  x="300" y="293.82503311235183" width="47" height="106.17496688764817" /><rect  x="350" y="294.4214913256971" width="47" height="105.5785086743029" /><rect  x="400" y="323.81436276957" width="47" height="76.18563723043002" /><rect  x="450" y="323.5706186648472" width="47" height="76.42938133515281" /><rect  x="500" y="336.2539425347411" width="47" height="63.7460574652589" /><rect  x="550" y="335.75921871703656" width="47" height="64.24078128296344" /><rect  x="600" y="337.2922087318972" width="47" height="62.707791268102824" /></g><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="312.82399688026146" y2="312.82399688026146" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="312.82399688026146" > 1e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="225.64799376052287" y2="225.64799376052287" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="225.64799376052287" > 2.0e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="138.47199064078433" y2="138.47199064078433" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="138.47199064078433" > 3.0e6</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:12.5;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:10.897000389967321;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg>
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><path  class="scatter poloto0stroke" d=" M 150 104.90730591186053 h 0 M 150 102.59330990879823 h 0 M 150 106.70497020917685 h 0 M 150 100 h 0 M 150 114.09481811521812 h 0 M 150 115.15355082457893 h 0 M 150 114.41312956245963 h 0 M 150 113.30209864941526 h 0 M 150 115.99516352454776 h 0 M 150 116.74090505153828 h 0 M 150 116.34662022193663 h 0 M 150 115.3801941080904 h 0 M 150 114.2825702625214 h 0 M 150 115.2009011819323 h 0 M 150 114.4225996339303 h 0 M 150 116.37742455554059 h 0 M 150 116.4931935191371 h 0 M 150 113.30151342027943 h 0 M 150 111.9561248396605 h 0 M 150 116.23893806094435 h 0 M 200 213.15729877383853 h 0 M 200 213.9575198131097 h 0 M 200 209.3069166812826 h 0 M 200 212.52562372568573 h 0 M 200 213.26748145932027 h 0 M 200 212.27477323701052 h 0 M 200 211.35532506197663 h 0 M 200 213.34260359930104 h 0 M 200 211.9664638877268 h 0 M 200 213.1886883365784 h 0 M 200 213.17778179359252 h 0 M 200 212.29036161308304 h 0 M 200 212.16895316872314 h 0 M 200 210.47120344568728 h 0 M 200 210.2994120929975 h 0 M 200 212.11436725114504 h 0 M 200 209.43284735078296 h 0 M 200 213.07430264184845 h 0 M 200 213.50136030305646 h 0 M 200 213.63798470494785 h 0 M 250 218.83535145758407 h 0 M 250 219.56938840185805 h 0 M 250 219.42941223309782 h 0 M 250 217.8668504404381 h 0 M 250 220.01118319675916 h 0 M 250 219.5555025105443 h 0 M 250 218.07833096906674 h 0 M 250 217.86929776227885 h 0 M 250 218.10956092386044 h 0 M 250 219.3843495896391 h 0 M 250 213.88527061615937 h 0 M 250 215.4085688540699 h 0 M 250 217.62440597025937 h 0 M 250 219.17781690734066 h 0 M 250 219.7576725756484 h 0 M 250 218.83162727217427 h 0 M 250 218.8239128881111 h 0 M 250 219.48091239705064 h 0 M 250 219.47702860369472 h 0 M 250 219.17499716695895 h 0 M 300 261.558036020676 h 0 M 300 263.32447036319854 h 0 M 300 264.6155390394829 h 0 M 300 263.2013062314312 h 0 M 300 263.8994845904735 h 0 M 300 262.0137699095395 h 0 M 300 264.16932842473875 h 0 M 300 263.93321506975667 h 0 M 300 264.8800094062283 h 0 M 300 263.06649071959595 h 0 M 300 262.847136198958 h 0 M 300 264.4036860923133 h 0 M 300 264.5809573178204 h 0 M 300 263.8834705932113 h 0 M 300 264.60553694152514 h 0 M 300 264.4081551148051 h 0 M 300 263.80148531154674 h 0 M 300 264.0829805258798 h 0 M 300 264.0040809978405 h 0 M 300 264.3311176794707 h 0 M 350 267.7835439596639 h 0 M 350 268.4976831133197 h 0 M 350 267.71060312828024 h 0 M 350 268.9695906073916 h 0 M 350 268.36031387434633 h 0 M 350 268.0884483394301 h 0 M 350 268.82801835917 h 0 M 350 268.6297852900706 h 0 M 350 267.9066016861338 h 0 M 350 267.8037077635256 h 0 M 350 269.2636948494693 h 0 M 350 268.84844817627527 h 0 M 350 267.9035691351572 h 0 M 350 269.2377851595468 h 0 M 350 268.56796381226775 h 0 M 350 267.74332275723793 h 0 M 350 268.6323922198575 h 0 M 350 266.3744186058884 h 0 M 350 268.95740720083666 h 0 M 350 268.1642621138441 h 0 M 400 286.2159208216901 h 0 M 400 286.5254538318942 h 0 M 400 287.51688519063487 h 0 M 400 284.13692091798686 h 0 M 400 287.93250428236985 h 0 M 400 287.9593184173205 h 0 M 400 288.0515186075377 h 0 M 400 288.1607436453426 h 0 M 400 289.0008134684988 h 0 M 400 287.59041125115425 h 0 M 400 287.9827807854023 h 0 M 400 288.54523918758133 h 0 M 400 286.4817212546532 h 0 M 400 286.3497786858485 h 0 M 400 287.3039149878423 h 0 M 400 287.2572562649222 h 0 M 400 287.63563350255913 h 0 M 400 286.92995357004844 h 0 M 400 288.2202774092509 h 0 M 400 287.05178763559803 h 0 M 450 289.7254867465995 h 0 M 450 291.31619274042765 h 0 M 450 290.6469566222844 h 0 M 450 289.00682536780323 h 0 M 450 290.21409987236683 h 0 M 450 285.1801184539239 h 0 M 450 288.9980469307658 h 0 M 450 290.9974024693477 h 0 M 450 291.09322043967734 h 0 M 450 291.6681282616549 h 0 M 450 290.8531700886906 h 0 M 450 291.21798065090604 h 0 M 450 291.29480527564556 h 0 M 450 291.09987077076624 h 0 M 450 290.89301887257557 h 0 M 450 290.5863056027532 h 0 M 450 291.3603509388583 h 0 M 450 291.74958151683234 h 0 M 450 289.75629108020354 h 0 M 450 291.4302592192653 h 0 M 500 291.11673601040786 h 0 M 500 291.7420267407153 h 0 M 500 292.53384176149007 h 0 M 500 294.46339542496236 h 0 M 500 292.91769887194425 h 0 M 500 290.2494264311113 h 0 M 500 291.02086483742954 h 0 M 500 286.38249831480607 h 0 M 500 287.6028074683041 h 0 M 500 294.1246541606156 h 0 M 500 290.47426082456656 h 0 M 500 293.36827210388276 h 0 M 500 293.1468426799451 h 0 M 500 293.580923090783 h 0 M 500 289.6568553297615 h 0 M 500 291.53373837100935 h 0 M 500 291.5087863287636 h 0 M 500 294.34374266801 h 0 M 500 292.23846065584326 h 0 M 500 293.7386157415642 h 0 M 550 283.2299221627515 h 0 M 550 283.64623288891977 h 0 M 550 284.14596536826787 h 0 M 550 288.5912062760682 h 0 M 550 285.67729720613386 h 0 M 550 288.89355692869617 h 0 M 550 283.65761825574407 h 0 M 550 285.4527820285709 h 0 M 550 282.69395867963084 h 0 M 550 281.6743831197217 h 0 M 550 287.8510510271924 h 0 M 550 283.98055833342346 h 0 M 550 289.57056063355134 h 0 M 550 284.1945393865415 h 0 M 550 283.95704276269294 h 0 M 550 285.2588583740171 h 0 M 550 282.0486105507591 h 0 M 550 285.7854581909645 h 0 M 550 288.4959203322257 h 0 M 550 283.6682587854864 h 0 M 600 270.3216827217482 h 0 M 600 270.5256084742598 h 0 M 600 269.4500105252573 h 0 M 600 270.31886298136646 h 0 M 600 270.85977431081733 h 0 M 600 269.0406693460703 h 0 M 600 270.66686150658904 h 0 M 600 274.5486863645335 h 0 M 600 273.2005312461816 h 0 M 600 268.5858399022348 h 0 M 600 270.710221665289 h 0 M 600 270.08679302768644 h 0 M 600 270.01193690094925 h 0 M 600 269.8754189043553 h 0 M 600 270.5042210094777 h 0 M 600 270.1020621878667 h 0 M 600 269.9499026125515 h 0 M 600 270.4057961093612 h 0 M 600 271.34828103128723 h 0 M 600 273.50336072264804 h 0 M 650 252.3291321566208 h 0 M 650 260.89795075811116 h 0 M 650 254.01602853931948 h 0 M 650 260.19120677262623 h 0 M 650 253.60780461575538 h 0 M 650 259.66125518880995 h 0 M 650 252.9653294299141 h 0 M 650 253.5348637843718 h 0 M 650 253.37653270180607 h 0 M 650 254.57859334679597 h 0 M 650 258.9724936985896 h 0 M 650 254.56513307667194 h 0 M 650 252.4002640979482 h 0 M 650 260.55133550175503 h 0 M 650 250.3336604113948 h 0 M 650 253.73288404287635 h 0 M 650 259.9061469808295 h 0 M 650 254.13738378103068 h 0 M 650 254.594820154653 h 0 M 650 252.98666369204747 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0e0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.7973512883997" y2="346.7973512883997" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.7973512883997" > 0.001</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.59470257679936" y2="293.59470257679936" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="293.59470257679936" > 0.002</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="240.39205386519905" y2="240.39205386519905" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="240.39205386519905" > 0.003</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="187.18940515359873" y2="187.18940515359873" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="187.18940515359873" > 0.004</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="133.98675644199835" y2="133.98675644199835" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="133.98675644199835" > 0.005</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:12.5;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.300662177900081;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg></p>
<h3 id="odd-vs-even-height-trees"><a class="header" href="#odd-vs-even-height-trees">ODD vs Even height trees.</a></h3>
<p>You can see that the even heights are barely better than the odds for sub optimal heights. With odd trees, the direction that the root nodes aabbs are sorted is the same as the leaves. If its even they are different. When the direction's match, we can use sweep and prune to speed things up. When the directions don't match, the sorted property can't be exploited since they are in different dimensions even though some pruning can still be done
based off of the bounding rectangles of the dividers. In 'normal' looking trees where the aabbs arn't extremely clumped up, these two methods seem to be around the same speed. In degenerate cases, not enough aabbs can be exluded using the dividers bounding box for the perpendicular cases. </p>
<p>The below chart compares the empirically best height against the height that our heuristic tree height function produces. </p>
<style>
.test .poloto0stroke{
    stroke-width:20;
}
</style>
<div class="test">
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >Optimal</text><line  class="scatter poloto0stroke poloto0legend" stroke="black" x1="685" x2="685" y1="81.25" y2="81.25" /><path  class="scatter poloto0stroke" d=" M 170.83333333333334 209.0909090909091 h 0 M 191.66666666666666 209.0909090909091 h 0 M 212.5 181.8181818181818 h 0 M 233.33333333333331 154.54545454545453 h 0 M 254.16666666666666 154.54545454545453 h 0 M 275 154.54545454545453 h 0 M 295.83333333333337 154.54545454545453 h 0 M 316.66666666666663 154.54545454545453 h 0 M 337.5 154.54545454545453 h 0 M 358.33333333333337 154.54545454545453 h 0 M 379.16666666666663 127.27272727272725 h 0 M 400 127.27272727272725 h 0 M 420.8333333333333 154.54545454545453 h 0 M 441.66666666666663 127.27272727272725 h 0 M 462.49999999999994 127.27272727272725 h 0 M 483.3333333333333 127.27272727272725 h 0 M 504.16666666666663 127.27272727272725 h 0 M 525 100 h 0 M 545.8333333333333 100 h 0 M 566.6666666666666 127.27272727272725 h 0 M 587.5 100 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 127.27272727272725 h 0 M 650 100 h 0" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >Heuristic</text><line  class="scatter poloto1stroke poloto1legend" stroke="black" x1="685" x2="685" y1="131.25" y2="131.25" /><path  class="scatter poloto1stroke" d=" M 150 372.72727272727275 h 0 M 170.83333333333334 236.36363636363637 h 0 M 191.66666666666666 209.0909090909091 h 0 M 212.5 181.8181818181818 h 0 M 233.33333333333331 181.8181818181818 h 0 M 254.16666666666666 154.54545454545453 h 0 M 275 154.54545454545453 h 0 M 295.83333333333337 154.54545454545453 h 0 M 316.66666666666663 154.54545454545453 h 0 M 337.5 127.27272727272725 h 0 M 358.33333333333337 127.27272727272725 h 0 M 379.16666666666663 127.27272727272725 h 0 M 400 127.27272727272725 h 0 M 420.8333333333333 127.27272727272725 h 0 M 441.66666666666663 127.27272727272725 h 0 M 462.49999999999994 127.27272727272725 h 0 M 483.3333333333333 127.27272727272725 h 0 M 504.16666666666663 100 h 0 M 525 100 h 0 M 545.8333333333333 100 h 0 M 566.6666666666666 100 h 0 M 587.5 100 h 0 M 608.3333333333333 100 h 0 M 629.1666666666666 100 h 0 M 650 100 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of optimal vs heuristic with abspiral(x,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Tree Height</text><line  class="poloto_axis_lines" stroke="black" x1="254.15625" x2="254.15625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="254.15625" y="430" > 10000</text><line  class="poloto_axis_lines" stroke="black" x1="358.32291666666663" x2="358.32291666666663" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="358.32291666666663" y="430" > 20000</text><line  class="poloto_axis_lines" stroke="black" x1="462.4895833333333" x2="462.4895833333333" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="462.4895833333333" y="430" > 30000</text><line  class="poloto_axis_lines" stroke="black" x1="566.65625" x2="566.65625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="566.65625" y="430" > 40000</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="345.45454545454544" y2="345.45454545454544" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="345.45454545454544" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="290.9090909090909" y2="290.9090909090909" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="290.9090909090909" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="236.36363636363637" y2="236.36363636363637" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="236.36363636363637" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="181.8181818181818" y2="181.8181818181818" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="181.8181818181818" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="127.27272727272725" y2="127.27272727272725" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="127.27272727272725" > 10</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.020833333333332;stroke-dashoffset:-104.15624999999999;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.636363636363637;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch5-tree-data-layout.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch7-parallelism.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch5-tree-data-layout.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch7-parallelism.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
