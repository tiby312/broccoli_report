<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optimal Tree Height - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html" class="active"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-primitive-types.html"><strong aria-hidden="true">10.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch9-api-design.html"><strong aria-hidden="true">11.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch10-algorithm-in-depth.html"><strong aria-hidden="true">12.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch11-improvements.html"><strong aria-hidden="true">13.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch12-how-to-make-aabb.html"><strong aria-hidden="true">14.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch13-code-layout.html"><strong aria-hidden="true">15.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch14-general-thoughts.html"><strong aria-hidden="true">16.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="comparison-of-tree-height"><a class="header" href="#comparison-of-tree-height">Comparison of Tree Height</a></h3>
<p>The below charts show the performance of building and querying colliding pairs when manually selecting a height other than the default one chosen.
You can see that the theory is a downward curve, but the benching is more of a bowl. Theory would tell us to have a big enough height such that every leaf node had only one bot in it. But in the real world, this is overhead due to excessive recursive calls. Its not that pronounced, and I think it is because most of the aabbs don't make it to the bottom of the tree anyway. Most will intersect a divider somewhere in the tree. If we used smaller aabbs it might be more pronounced.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg  width="800" class="poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect  class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><g  class="poloto0fill" ><rect  x="150" y="100" width="47" height="300" /><rect  x="200" y="268.5444105231834" width="47" height="131.4555894768166" /><rect  x="250" y="267.90373954349576" width="47" height="132.09626045650424" /><rect  x="300" y="345.0460141293686" width="47" height="54.95398587063141" /><rect  x="350" y="345.8000947835958" width="47" height="54.199905216404204" /><rect  x="400" y="382.9604443807655" width="47" height="17.039555619234477" /><rect  x="450" y="382.6522874808504" width="47" height="17.34771251914958" /><rect  x="500" y="398.6873574113057" width="47" height="1.3126425886943025" /><rect  x="550" y="398.06189589234344" width="47" height="1.9381041076565566" /><rect  x="600" y="400" width="47" height="0" /></g><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path  stroke="black" fill="none" class="poloto_axis_lines" d=" M 150 100 L 150 400 L 650 400" /><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="369.0657203002215" y2="369.0657203002215" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="369.0657203002215" > 1e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="313.9589785414348" y2="313.9589785414348" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="313.9589785414348" > 1.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="258.852236782648" y2="258.852236782648" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="258.852236782648" > 2.0e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="203.74549502386128" y2="203.74549502386128" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="203.74549502386128" > 2.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="148.6387532650745" y2="148.6387532650745" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="148.6387532650745" > 3.0e6</text></svg>
<svg  width="800" class="poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect  class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><path  class="scatter poloto0stroke" d=" M 150 103.24658247987782 h 0 M 150 104.29505480688158 h 0 M 150 102.66555885925419 h 0 M 150 100 h 0 M 150 104.19084859033973 h 0 M 150 103.48129301177335 h 0 M 150 104.68196558565046 h 0 M 150 101.92526737770146 h 0 M 150 104.08894345744397 h 0 M 150 103.80664980301077 h 0 M 150 105.8563400607157 h 0 M 150 106.27119256947219 h 0 M 150 103.75520414721018 h 0 M 150 103.93904429421656 h 0 M 150 104.08894345744397 h 0 M 150 104.79504741054132 h 0 M 150 103.97610817722943 h 0 M 150 103.87765466980267 h 0 M 150 103.59527883381077 h 0 M 150 104.32529762051513 h 0 M 200 288.8125422207758 h 0 M 200 288.1868118321721 h 0 M 200 285.1492992378482 h 0 M 200 289.60049900642497 h 0 M 200 289.51733126893254 h 0 M 200 289.6487395814329 h 0 M 200 287.51588158623554 h 0 M 200 289.5781456224349 h 0 M 200 289.1245855994898 h 0 M 200 288.949374516156 h 0 M 200 288.31674087661423 h 0 M 200 289.467775788984 h 0 M 200 289.5405064685105 h 0 M 200 290.05594920522213 h 0 M 200 285.1972932681798 h 0 M 200 288.54553433627706 h 0 M 200 287.6866548653948 h 0 M 200 289.7730802798775 h 0 M 200 289.0567036319318 h 0 M 200 286.9295983458496 h 0 M 250 279.52397153888256 h 0 M 250 273.6834925190127 h 0 M 250 278.55603713949006 h 0 M 250 278.9671092965423 h 0 M 250 279.62760248451286 h 0 M 250 279.4264220286025 h 0 M 250 280.9383161656057 h 0 M 250 278.84104278536313 h 0 M 250 278.65449064691677 h 0 M 250 278.91730727191737 h 0 M 250 279.0310465492785 h 0 M 250 278.95157698193157 h 0 M 250 277.91855478797976 h 0 M 250 279.911046680769 h 0 M 250 280.30329926085903 h 0 M 250 280.0135270845763 h 0 M 250 278.5149463600966 h 0 M 250 278.97286200565736 h 0 M 250 278.2028207998238 h 0 M 250 279.77076275991976 h 0 M 300 357.9352869533488 h 0 M 300 357.11412881794973 h 0 M 300 359.7181336896725 h 0 M 300 355.6376549327837 h 0 M 300 356.7164522549798 h 0 M 300 361.8452389757548 h 0 M 300 358.18594070764897 h 0 M 300 359.0417794608561 h 0 M 300 356.68390835770015 h 0 M 300 354.06921988333505 h 0 M 300 357.373247272805 h 0 M 300 357.31185764839114 h 0 M 300 358.9678982395066 h 0 M 300 355.7067696237235 h 0 M 300 359.6290488799475 h 0 M 300 356.46505886665057 h 0 M 300 359.3053357198858 h 0 M 300 359.23465957932905 h 0 M 300 358.4347864676558 h 0 M 300 359.87625100877864 h 0 M 350 358.81890307342593 h 0 M 350 359.38307947449823 h 0 M 350 359.0961014712143 h 0 M 350 359.985634663524 h 0 M 350 359.54251169854484 h 0 M 350 358.50850332588766 h 0 M 350 358.90650861509283 h 0 M 350 360.506747927792 h 0 M 350 357.9403822099936 h 0 M 350 359.4341964040637 h 0 M 350 359.69306831424257 h 0 M 350 360.3171550716705 h 0 M 350 359.2280850546261 h 0 M 350 360.0797325483351 h 0 M 350 359.6114620263671 h 0 M 350 359.9373119069573 h 0 M 350 358.6203524273967 h 0 M 350 359.20869020675235 h 0 M 350 360.3833934080528 h 0 M 350 359.2122240137802 h 0 M 400 388.8191989270376 h 0 M 400 391.7138799721898 h 0 M 400 391.00752947441606 h 0 M 400 391.76532562799036 h 0 M 400 391.3034652676078 h 0 M 400 391.90347282831124 h 0 M 400 388.0561431537009 h 0 M 400 391.82786579422725 h 0 M 400 387.9076410769729 h 0 M 400 390.9972567795677 h 0 M 400 391.94497451549864 h 0 M 400 389.94262083565496 h 0 M 400 392.59692082135535 h 0 M 400 392.11221398763 h 0 M 400 391.9669991732535 h 0 M 400 391.5004544640201 h 0 M 400 386.777480280535 h 0 M 400 391.11263968810454 h 0 M 400 392.1898755606837 h 0 M 400 391.60186650756316 h 0 M 450 394.2068575579914 h 0 M 450 395.1335368148729 h 0 M 450 392.8513549273597 h 0 M 450 395.8416131253811 h 0 M 450 394.61061555631164 h 0 M 450 394.78886735732044 h 0 M 450 394.9672013398881 h 0 M 450 394.71975266638066 h 0 M 450 394.22173242013184 h 0 M 450 396.08536362874315 h 0 M 450 395.44114238941233 h 0 M 450 395.8494203734659 h 0 M 450 395.28401124901177 h 0 M 450 393.8483815985628 h 0 M 450 394.8649674807572 h 0 M 450 394.4059012933734 h 0 M 450 394.50838169718065 h 0 M 450 397.1247959842803 h 0 M 450 390.5310407965694 h 0 M 450 396.82491547626677 h 0 M 500 395.92313723169775 h 0 M 500 393.8413961660659 h 0 M 500 394.4001485842583 h 0 M 500 400 h 0 M 500 395.3072686301484 h 0 M 500 394.3832191831482 h 0 M 500 394.5527597389256 h 0 M 500 395.0267007884499 h 0 M 500 393.9659834091869 h 0 M 500 394.6403652805925 h 0 M 500 394.9419716013405 h 0 M 500 393.54693964093235 h 0 M 500 394.041919169506 h 0 M 500 391.2641003009489 h 0 M 500 393.9369733189351 h 0 M 500 393.0563157349743 h 0 M 500 394.74563985739854 h 0 M 500 395.21136275104413 h 0 M 500 395.2811348944542 h 0 M 500 394.08933792892606 h 0 M 550 386.5275661602639 h 0 M 550 385.8790714798762 h 0 M 550 385.1816787720103 h 0 M 550 391.13647234015275 h 0 M 550 385.7721532718944 h 0 M 550 387.3626951606567 h 0 M 550 389.3744997197609 h 0 M 550 385.1977863575325 h 0 M 550 385.9544319692838 h 0 M 550 384.5451825992055 h 0 M 550 389.59039067469416 h 0 M 550 386.5390715784941 h 0 M 550 385.6626052540314 h 0 M 550 386.63859344618504 h 0 M 550 386.6201847770168 h 0 M 550 388.7919146495203 h 0 M 550 385.71700944594835 h 0 M 550 386.5501660889303 h 0 M 550 386.07170505367276 h 0 M 550 386.81881760460476 h 0 M 600 363.8936143285191 h 0 M 600 364.4215486621664 h 0 M 600 365.4083026385211 h 0 M 600 364.16949782136686 h 0 M 600 364.7188815418575 h 0 M 600 369.8797190705594 h 0 M 600 364.25545973185797 h 0 M 600 365.41011063281445 h 0 M 600 362.26321438374515 h 0 M 600 365.9110072336208 h 0 M 600 367.9340706662788 h 0 M 600 364.5906783101499 h 0 M 600 363.95697631034386 h 0 M 600 363.9227066003297 h 0 M 600 366.3626770807138 h 0 M 600 364.2963039665751 h 0 M 600 363.7521798658468 h 0 M 600 365.53642368866997 h 0 M 600 365.00684572384694 h 0 M 600 363.7043501986328 h 0 M 650 340.27857904797594 h 0 M 650 341.59003236309786 h 0 M 650 339.51034583643565 h 0 M 650 340.2266403028226 h 0 M 650 339.0253102764752 h 0 M 650 340.76139570584917 h 0 M 650 341.23582984472614 h 0 M 650 338.53871326689773 h 0 M 650 340.4358745514941 h 0 M 650 339.43999842211406 h 0 M 650 340.22064104903114 h 0 M 650 339.4516682034618 h 0 M 650 340.12259844939837 h 0 M 650 340.53835495530143 h 0 M 650 339.8249368434721 h 0 M 650 340.0291580170576 h 0 M 650 340.920745748337 h 0 M 650 340.83527692719866 h 0 M 650 340.3517206352963 h 0 M 650 340.9255122787467 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path  stroke="black" fill="none" class="poloto_axis_lines" d=" M 150 100 L 150 400 L 650 400" /><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="397.0304515547929" y2="397.0304515547929" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="397.0304515547929" > 0.0020</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="355.9396721613257" y2="355.9396721613257" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="355.9396721613257" > 0.0025</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="314.84889276785844" y2="314.84889276785844" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="314.84889276785844" > 0.0030</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="273.7581133743912" y2="273.7581133743912" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="273.7581133743912" > 0.0035</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="232.667333980924" y2="232.667333980924" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="232.667333980924" > 0.0040</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.57655458745677" y2="191.57655458745677" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="191.57655458745677" > 0.0045</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="150.48577519398955" y2="150.48577519398955" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="150.48577519398955" > 0.0050</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="109.39499580052234" y2="109.39499580052234" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="109.39499580052234" > 0.0055</text></svg></p>
<h3 id="odd-vs-even-height-trees"><a class="header" href="#odd-vs-even-height-trees">ODD vs Even height trees.</a></h3>
<p>You can see that the even heights are barely better than the odds for sub optimal heights. With odd trees, the direction that the root nodes aabbs are sorted is the same as the leaves. If its even they are different. When the direction's match, we can use sweep and prune to speed things up. When the directions don't match, the sorted property can't be exploited since they are in different dimensions even though some pruning can still be done
based off of the bounding rectangles of the dividers. In 'normal' looking trees where the aabbs arn't extremely clumped up, these two methods seem to be around the same speed. In degenerate cases, not enough aabbs can be exluded using the dividers bounding box for the perpendicular cases. </p>
<p>The below chart compares the empirically best height against the height that our heuristic tree height function produces. </p>
<style>
.test .poloto0stroke{
    stroke-width:20;
}
</style>
<div class="test">
<svg  width="800" class="poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect  class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >Optimal</text><line  class="scatter poloto0stroke" stroke="black" x1="685" x2="685" y1="81.25" y2="81.25" /><path  class="scatter poloto0stroke" d=" M 170.83333333333334 263.6363636363636 h 0 M 191.66666666666666 236.36363636363637 h 0 M 212.5 209.0909090909091 h 0 M 233.33333333333331 209.0909090909091 h 0 M 254.16666666666666 209.0909090909091 h 0 M 275 181.8181818181818 h 0 M 295.8333333333333 181.8181818181818 h 0 M 316.66666666666663 154.54545454545453 h 0 M 337.5 181.8181818181818 h 0 M 358.3333333333333 181.8181818181818 h 0 M 379.16666666666663 154.54545454545453 h 0 M 400 181.8181818181818 h 0 M 420.8333333333333 127.27272727272725 h 0 M 441.66666666666663 181.8181818181818 h 0 M 462.5 154.54545454545453 h 0 M 483.3333333333333 154.54545454545453 h 0 M 504.16666666666663 127.27272727272725 h 0 M 525 154.54545454545453 h 0 M 545.8333333333333 154.54545454545453 h 0 M 566.6666666666666 127.27272727272725 h 0 M 587.5 100 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 127.27272727272725 h 0 M 650 127.27272727272725 h 0" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >Heuristic</text><line  class="scatter poloto1stroke" stroke="black" x1="685" x2="685" y1="131.25" y2="131.25" /><path  class="scatter poloto1stroke" d=" M 150 400 h 0 M 170.83333333333334 263.6363636363636 h 0 M 191.66666666666666 236.36363636363637 h 0 M 212.5 209.0909090909091 h 0 M 233.33333333333331 209.0909090909091 h 0 M 254.16666666666666 181.8181818181818 h 0 M 275 181.8181818181818 h 0 M 295.8333333333333 181.8181818181818 h 0 M 316.66666666666663 181.8181818181818 h 0 M 337.5 154.54545454545453 h 0 M 358.3333333333333 154.54545454545453 h 0 M 379.16666666666663 154.54545454545453 h 0 M 400 154.54545454545453 h 0 M 420.8333333333333 154.54545454545453 h 0 M 441.66666666666663 154.54545454545453 h 0 M 462.5 154.54545454545453 h 0 M 483.3333333333333 154.54545454545453 h 0 M 504.16666666666663 127.27272727272725 h 0 M 525 127.27272727272725 h 0 M 545.8333333333333 127.27272727272725 h 0 M 566.6666666666666 127.27272727272725 h 0 M 587.5 127.27272727272725 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 127.27272727272725 h 0 M 650 127.27272727272725 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of optimal vs heuristic with abspiral(x,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Tree Height</text><path  stroke="black" fill="none" class="poloto_axis_lines" d=" M 150 100 L 150 400 L 650 400" /><line  class="poloto_axis_lines" stroke="black" x1="254.15625" x2="254.15625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="254.15625" y="430" > 10000</text><line  class="poloto_axis_lines" stroke="black" x1="358.32291666666663" x2="358.32291666666663" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="358.32291666666663" y="430" > 20000</text><line  class="poloto_axis_lines" stroke="black" x1="462.4895833333333" x2="462.4895833333333" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="462.4895833333333" y="430" > 30000</text><line  class="poloto_axis_lines" stroke="black" x1="566.65625" x2="566.65625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="566.65625" y="430" > 40000</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="372.72727272727275" y2="372.72727272727275" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="372.72727272727275" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="318.1818181818182" y2="318.1818181818182" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="318.1818181818182" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="263.6363636363636" y2="263.6363636363636" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="263.6363636363636" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="209.09090909090912" y2="209.09090909090912" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="209.09090909090912" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="154.54545454545453" y2="154.54545454545453" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="154.54545454545453" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100" y2="100" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="100" > 12</text></svg>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch5-tree-data-layout.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch7-parallelism.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch5-tree-data-layout.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch7-parallelism.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
