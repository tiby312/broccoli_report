<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optimal Tree Height - broccoli_report</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html" class="active"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-primitive-types.html"><strong aria-hidden="true">10.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch9-api-design.html"><strong aria-hidden="true">11.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch10-algorithm-in-depth.html"><strong aria-hidden="true">12.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch11-improvements.html"><strong aria-hidden="true">13.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch12-how-to-make-aabb.html"><strong aria-hidden="true">14.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch13-code-layout.html"><strong aria-hidden="true">15.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch14-general-thoughts.html"><strong aria-hidden="true">16.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="comparison-of-tree-height"><a class="header" href="#comparison-of-tree-height">Comparison of Tree Height</a></h3>
<p>The below charts show the performance of building and querying colliding pairs when manually selecting a height other than the default one chosen.
You can see that the theory is a downward curve, but the benching is more of a bowl. Theory would tell us to have a big enough height such that every leaf node had only one bot in it. But in the real world, this is overhead due to excessive recursive calls. Its not that pronounced, and I think it is because most of the aabbs don't make it to the bottom of the tree anyway. Most will intersect a divider somewhere in the tree. If we used smaller aabbs it might be more pronounced.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg"><text  class="poloto_text poloto_legend_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><g  class="poloto_histo poloto0fill" ><rect  x="150" y="100" width="47" height="300" /><rect  x="200" y="233.3142514748727" width="47" height="166.6857485251273" /><rect  x="250" y="232.80749736873764" width="47" height="167.19250263126236" /><rect  x="300" y="293.82503311235183" width="47" height="106.17496688764817" /><rect  x="350" y="294.4214913256971" width="47" height="105.5785086743029" /><rect  x="400" y="323.81436276957" width="47" height="76.18563723043002" /><rect  x="450" y="323.5706186648472" width="47" height="76.42938133515281" /><rect  x="500" y="336.2539425347411" width="47" height="63.7460574652589" /><rect  x="550" y="335.75921871703656" width="47" height="64.24078128296344" /><rect  x="600" y="337.2922087318972" width="47" height="62.707791268102824" /></g><text  class="poloto_labels poloto_text poloto_title" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_labels poloto_text poloto_xname" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_labels poloto_text poloto_yname" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="312.82399688026146" y2="312.82399688026146" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="312.82399688026146" > 1e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="225.64799376052287" y2="225.64799376052287" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="225.64799376052287" > 2.0e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="138.47199064078433" y2="138.47199064078433" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="138.47199064078433" > 3.0e6</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:12.5;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:10.897000389967321;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg>
<svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg"><text  class="poloto_text poloto_legend_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><path  class="poloto_scatter poloto0stroke" d=" M 150 109.78152469670783 h 0 M 150 114.36429751782981 h 0 M 150 113.5057168230748 h 0 M 150 108.79982313419697 h 0 M 150 112.07194755265158 h 0 M 150 112.57112237518356 h 0 M 150 113.64869762210782 h 0 M 150 114.55352893848936 h 0 M 150 113.32071433656859 h 0 M 150 114.000341526581 h 0 M 150 113.53066218149843 h 0 M 150 115.10773343582702 h 0 M 150 103.87723671806873 h 0 M 150 103.33625433131186 h 0 M 150 100 h 0 M 150 105.98056938583568 h 0 M 150 103.73612949745814 h 0 M 150 103.06008887185425 h 0 M 150 102.75448146575928 h 0 M 150 104.25789432268272 h 0 M 200 216.07059215249 h 0 M 200 216.8167581419027 h 0 M 200 216.52806647242122 h 0 M 200 216.46613132285879 h 0 M 200 216.85192788543122 h 0 M 200 216.15683029073122 h 0 M 200 216.095858695786 h 0 M 200 217.26861172656677 h 0 M 200 216.87312608701006 h 0 M 200 216.70455755980865 h 0 M 200 215.99500664585034 h 0 M 200 216.4533374587746 h 0 M 200 216.6302567926586 h 0 M 200 216.71189128106192 h 0 M 200 216.67399146611794 h 0 M 200 216.00854994130347 h 0 M 200 216.02027318914634 h 0 M 200 216.02782103364788 h 0 M 200 216.8205588295595 h 0 M 200 216.61740939776232 h 0 M 250 211.56667021754387 h 0 M 250 216.35355602508028 h 0 M 250 215.98767292459704 h 0 M 250 217.7802592283105 h 0 M 250 218.74595507801314 h 0 M 250 215.26746937903724 h 0 M 250 217.39066197808128 h 0 M 250 213.29967672742595 h 0 M 250 213.95045080973384 h 0 M 250 214.93584599827741 h 0 M 250 214.12779839011438 h 0 M 250 214.19706726093005 h 0 M 250 212.70189814906513 h 0 M 250 211.98426408248457 h 0 M 250 215.48469741440826 h 0 M 250 213.12238267785747 h 0 M 250 215.0733666544795 h 0 M 250 214.98739617029864 h 0 M 250 213.65067826215432 h 0 M 250 213.3266562567081 h 0 M 300 264.65692370199827 h 0 M 300 265.1664835020714 h 0 M 300 265.7432244712896 h 0 M 300 265.79761177635044 h 0 M 300 265.4808164305333 h 0 M 300 266.4012252132266 h 0 M 300 264.89203102859994 h 0 M 300 264.4914599618968 h 0 M 300 265.3050747745148 h 0 M 300 265.13126022773076 h 0 M 300 265.1120961970105 h 0 M 300 264.9602828139863 h 0 M 300 264.3948903769265 h 0 M 300 264.67362531536344 h 0 M 300 265.33034131781085 h 0 M 300 264.97420082512394 h 0 M 300 265.78465731983 h 0 M 300 263.6913349139198 h 0 M 300 265.27584695112586 h 0 M 300 265.4856877344315 h 0 M 350 265.69290550794585 h 0 M 350 267.0607248179016 h 0 M 350 263.98768148952695 h 0 M 350 266.6407755972299 h 0 M 350 264.99149127742186 h 0 M 350 266.92957432833555 h 0 M 350 266.3896090270079 h 0 M 350 264.9300914359801 h 0 M 350 266.3187877626423 h 0 M 350 266.1707215364628 h 0 M 350 267.04102547906064 h 0 M 350 264.8925663367206 h 0 M 350 267.19219649234003 h 0 M 350 267.1254971005036 h 0 M 350 266.4891228066419 h 0 M 350 265.3671169857014 h 0 M 350 266.51294401801204 h 0 M 350 265.0845278287956 h 0 M 350 267.32516702951636 h 0 M 350 265.9153260320875 h 0 M 400 282.295165685893 h 0 M 400 285.88001710844753 h 0 M 400 287.0790002371415 h 0 M 400 287.5552103412964 h 0 M 400 287.7075590324413 h 0 M 400 287.66409201304225 h 0 M 400 288.23478400049675 h 0 M 400 288.8190728142165 h 0 M 400 287.9365638464672 h 0 M 400 287.70498955346204 h 0 M 400 288.43167032728206 h 0 M 400 288.5672638742497 h 0 M 400 286.21319288275737 h 0 M 400 287.6676250466387 h 0 M 400 286.94485202209967 h 0 M 400 287.54364768588977 h 0 M 400 265.51705679030323 h 0 M 400 286.9754181157904 h 0 M 400 287.8702927011273 h 0 M 400 288.25078971330504 h 0 M 450 287.9603315270253 h 0 M 450 287.9832427145903 h 0 M 450 286.75428233113837 h 0 M 450 290.6540555210877 h 0 M 450 287.70911142599124 h 0 M 450 290.85897146968307 h 0 M 450 288.3480551988322 h 0 M 450 290.72691095631194 h 0 M 450 289.3363410512274 h 0 M 450 291.85566165957295 h 0 M 450 291.5209334917132 h 0 M 450 290.29679088134736 h 0 M 450 290.648006539324 h 0 M 450 290.6912059046627 h 0 M 450 290.85308308035565 h 0 M 450 290.99194200685946 h 0 M 450 288.86446694284996 h 0 M 450 290.67102478851314 h 0 M 450 291.28796739759423 h 0 M 450 288.93009571844505 h 0 M 500 287.82404207950077 h 0 M 500 288.9812176439698 h 0 M 500 291.6036385963579 h 0 M 500 291.9771766029668 h 0 M 500 294.4232135295916 h 0 M 500 291.4539664458164 h 0 M 500 291.2936951944855 h 0 M 500 294.03880876813287 h 0 M 500 291.4493627959786 h 0 M 500 291.7696911753921 h 0 M 500 294.1033133966746 h 0 M 500 294.9782745199223 h 0 M 500 292.76482897173196 h 0 M 500 294.89696121639133 h 0 M 500 295.04577687393976 h 0 M 500 294.98807065853066 h 0 M 500 294.1587713179768 h 0 M 500 295.33404029692474 h 0 M 500 292.10784531522427 h 0 M 500 292.26613592650864 h 0 M 550 283.32397436302347 h 0 M 550 286.0809182461379 h 0 M 550 282.3734812639481 h 0 M 550 284.40556442085284 h 0 M 550 288.33060415409807 h 0 M 550 283.2922305914673 h 0 M 550 285.8329099938279 h 0 M 550 283.04175992180217 h 0 M 550 284.52729348749494 h 0 M 550 286.2000778338008 h 0 M 550 286.39401996592227 h 0 M 550 286.5827160784612 h 0 M 550 286.9424966663687 h 0 M 550 286.79319923151166 h 0 M 550 286.9513292503599 h 0 M 550 286.75037458185744 h 0 M 550 286.92889984010344 h 0 M 550 286.189211078951 h 0 M 550 283.33644704223525 h 0 M 550 288.6650646678975 h 0 M 600 268.61654433983927 h 0 M 600 270.4696739920014 h 0 M 600 270.79144770334085 h 0 M 600 270.8612518822772 h 0 M 600 270.9192257517466 h 0 M 600 270.902202953509 h 0 M 600 269.6851264103362 h 0 M 600 270.6336924001771 h 0 M 600 270.77956386306175 h 0 M 600 269.69128245372394 h 0 M 600 272.1674572275429 h 0 M 600 272.28377968216614 h 0 M 600 272.5205464639419 h 0 M 600 272.8220855283197 h 0 M 600 272.54501004505687 h 0 M 600 270.41148599928374 h 0 M 600 269.6222812369686 h 0 M 600 271.90419269379356 h 0 M 600 272.6038404075194 h 0 M 600 271.53782781600177 h 0 M 650 250.01180354406097 h 0 M 650 252.3629303408896 h 0 M 650 256.89388533592995 h 0 M 650 261.4472697412267 h 0 M 650 261.73135776087037 h 0 M 650 261.8793169254257 h 0 M 650 261.7631550632386 h 0 M 650 262.1073046540223 h 0 M 650 262.1389948947665 h 0 M 650 262.41837220294815 h 0 M 650 260.74184069979765 h 0 M 650 259.4741775392207 h 0 M 650 260.565242550786 h 0 M 650 260.2628469934152 h 0 M 650 260.15193115081075 h 0 M 650 261.4796558825277 h 0 M 650 261.89955157238734 h 0 M 650 262.1366395390355 h 0 M 650 262.1738434534226 h 0 M 650 262.1831578147224 h 0" /><text  class="poloto_labels poloto_text poloto_title" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_labels poloto_text poloto_xname" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_labels poloto_text poloto_yname" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0e0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.46918793222784" y2="346.46918793222784" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.46918793222784" > 0.001</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.9383758644557" y2="292.9383758644557" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="292.9383758644557" > 0.002</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.40756379668358" y2="239.40756379668358" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="239.40756379668358" > 0.003</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="185.87675172891142" y2="185.87675172891142" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="185.87675172891142" > 0.004</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.34593966113925" y2="132.34593966113925" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="132.34593966113925" > 0.005</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:12.5;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.382703016943037;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg></p>
<h3 id="odd-vs-even-height-trees"><a class="header" href="#odd-vs-even-height-trees">ODD vs Even height trees.</a></h3>
<p>You can see that the even heights are barely better than the odds for sub optimal heights. With odd trees, the direction that the root nodes aabbs are sorted is the same as the leaves. If its even they are different. When the direction's match, we can use sweep and prune to speed things up. When the directions don't match, the sorted property can't be exploited since they are in different dimensions even though some pruning can still be done
based off of the bounding rectangles of the dividers. In 'normal' looking trees where the aabbs arn't extremely clumped up, these two methods seem to be around the same speed. In degenerate cases, not enough aabbs can be excluded using the dividers bounding box for the perpendicular cases. </p>
<p>The below chart compares the empirically best height against the height that our heuristic tree height function produces. </p>
<style>
.test .poloto0stroke{
    stroke-width:20;
}
</style>
<div class="test">
<svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg"><text  class="poloto_text poloto_legend_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >Optimal</text><line  class="poloto_scatter poloto_legend_icon poloto0stroke poloto0legend" stroke="black" x1="685" x2="685" y1="81.25" y2="81.25" /><path  class="poloto_scatter poloto0stroke" d=" M 170.83333333333334 209.0909090909091 h 0 M 191.66666666666666 181.8181818181818 h 0 M 212.5 209.0909090909091 h 0 M 233.33333333333331 154.54545454545453 h 0 M 254.16666666666666 154.54545454545453 h 0 M 275 154.54545454545453 h 0 M 295.83333333333337 154.54545454545453 h 0 M 316.66666666666663 154.54545454545453 h 0 M 337.5 154.54545454545453 h 0 M 358.33333333333337 154.54545454545453 h 0 M 379.16666666666663 154.54545454545453 h 0 M 400 127.27272727272725 h 0 M 420.8333333333333 100 h 0 M 441.66666666666663 100 h 0 M 462.49999999999994 154.54545454545453 h 0 M 483.3333333333333 100 h 0 M 504.16666666666663 100 h 0 M 525 127.27272727272725 h 0 M 545.8333333333333 127.27272727272725 h 0 M 566.6666666666666 100 h 0 M 587.5 127.27272727272725 h 0 M 608.3333333333333 127.27272727272725 h 0 M 629.1666666666666 100 h 0 M 650 100 h 0" /><text  class="poloto_text poloto_legend_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >Heuristic</text><line  class="poloto_scatter poloto_legend_icon poloto1stroke poloto1legend" stroke="black" x1="685" x2="685" y1="131.25" y2="131.25" /><path  class="poloto_scatter poloto1stroke" d=" M 150 372.72727272727275 h 0 M 170.83333333333334 236.36363636363637 h 0 M 191.66666666666666 209.0909090909091 h 0 M 212.5 181.8181818181818 h 0 M 233.33333333333331 181.8181818181818 h 0 M 254.16666666666666 154.54545454545453 h 0 M 275 154.54545454545453 h 0 M 295.83333333333337 154.54545454545453 h 0 M 316.66666666666663 154.54545454545453 h 0 M 337.5 127.27272727272725 h 0 M 358.33333333333337 127.27272727272725 h 0 M 379.16666666666663 127.27272727272725 h 0 M 400 127.27272727272725 h 0 M 420.8333333333333 127.27272727272725 h 0 M 441.66666666666663 127.27272727272725 h 0 M 462.49999999999994 127.27272727272725 h 0 M 483.3333333333333 127.27272727272725 h 0 M 504.16666666666663 100 h 0 M 525 100 h 0 M 545.8333333333333 100 h 0 M 566.6666666666666 100 h 0 M 587.5 100 h 0 M 608.3333333333333 100 h 0 M 629.1666666666666 100 h 0 M 650 100 h 0" /><text  class="poloto_labels poloto_text poloto_title" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of optimal vs heuristic with abspiral(x,1.5)</text><text  class="poloto_labels poloto_text poloto_xname" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text  class="poloto_labels poloto_text poloto_yname" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Tree Height</text><line  class="poloto_axis_lines" stroke="black" x1="254.15625" x2="254.15625" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="254.15625" y="430" > 10000</text><line  class="poloto_axis_lines" stroke="black" x1="358.32291666666663" x2="358.32291666666663" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="358.32291666666663" y="430" > 20000</text><line  class="poloto_axis_lines" stroke="black" x1="462.4895833333333" x2="462.4895833333333" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="462.4895833333333" y="430" > 30000</text><line  class="poloto_axis_lines" stroke="black" x1="566.65625" x2="566.65625" y1="400" y2="405" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="start" text-anchor="middle" x="566.65625" y="430" > 40000</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" > 0</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="345.45454545454544" y2="345.45454545454544" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="345.45454545454544" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="290.9090909090909" y2="290.9090909090909" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="290.9090909090909" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="236.36363636363637" y2="236.36363636363637" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="236.36363636363637" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="181.8181818181818" y2="181.8181818181818" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="181.8181818181818" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="127.27272727272725" y2="127.27272727272725" /><text  class="poloto_tick_labels poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="127.27272727272725" > 10</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.020833333333332;stroke-dashoffset:-104.15624999999999;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:13.636363636363637;stroke-dashoffset:-0;" d=" M 150 400 L 150 100" /></svg>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch5-tree-data-layout.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="ch7-parallelism.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch5-tree-data-layout.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="ch7-parallelism.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
