<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optimal Tree Height - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html" class="active"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-primitive-types.html"><strong aria-hidden="true">10.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch9-api-design.html"><strong aria-hidden="true">11.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch10-algorithm-in-depth.html"><strong aria-hidden="true">12.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch11-improvements.html"><strong aria-hidden="true">13.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch12-how-to-make-aabb.html"><strong aria-hidden="true">14.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch13-code-layout.html"><strong aria-hidden="true">15.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch14-general-thoughts.html"><strong aria-hidden="true">16.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="comparison-of-tree-height"><a class="header" href="#comparison-of-tree-height">Comparison of Tree Height</a></h3>
<p>The below charts show the performance of building and querying colliding pairs when manually selecting a height other than the default one chosen.
You can see that the theory is a downward curve, but the benching is more of a bowl. Theory would tell us to have a big enough height such that every leaf node had only one bot in it. But in the real world, this is overhead due to excessive recursive calls. Its not that pronounced, and I think it is because most of the aabbs don't make it to the bottom of the tree anyway. Most will intersect a divider somewhere in the tree. If we used smaller aabbs it might be more pronounced.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><g  class="poloto0fill" ><rect  x="150" y="100" width="47" height="300" /><rect  x="200" y="268.5444105231834" width="47" height="131.4555894768166" /><rect  x="250" y="267.90373954349576" width="47" height="132.09626045650424" /><rect  x="300" y="345.0460141293686" width="47" height="54.95398587063141" /><rect  x="350" y="345.8000947835958" width="47" height="54.199905216404204" /><rect  x="400" y="382.9604443807655" width="47" height="17.039555619234477" /><rect  x="450" y="382.6522874808504" width="47" height="17.34771251914958" /><rect  x="500" y="398.6873574113057" width="47" height="1.3126425886943025" /><rect  x="550" y="398.06189589234344" width="47" height="1.9381041076565566" /><rect  x="600" y="400" width="47" height="0" /></g><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="369.0657203002215" y2="369.0657203002215" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="369.0657203002215" > 1e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="313.9589785414348" y2="313.9589785414348" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="313.9589785414348" > 1.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="258.852236782648" y2="258.852236782648" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="258.852236782648" > 2.0e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="203.74549502386128" y2="203.74549502386128" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="203.74549502386128" > 2.5e6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="148.6387532650745" y2="148.6387532650745" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="148.6387532650745" > 3.0e6</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.333333333333334;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:5.510674175878676;stroke-dashoffset:-30.934279699778457;" d=" M 150 400 L 150 100" /></svg>
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" ></text><path  class="scatter poloto0stroke" d=" M 150 105.1272651613479 h 0 M 150 107.31167119828683 h 0 M 150 104.94926519814817 h 0 M 150 107.3920089679371 h 0 M 150 102.81224655599232 h 0 M 150 105.59324121004875 h 0 M 150 108.38909750225406 h 0 M 150 100 h 0 M 150 104.64184159758366 h 0 M 150 102.85207574623121 h 0 M 150 102.05150053006514 h 0 M 150 106.51822956843222 h 0 M 150 105.94703312163762 h 0 M 150 105.47995306553139 h 0 M 150 105.68869538878761 h 0 M 150 105.99493005830016 h 0 M 150 107.51378947711095 h 0 M 150 103.1386081297407 h 0 M 150 105.70576504174704 h 0 M 150 105.35154851192544 h 0 M 200 269.0662503520793 h 0 M 200 270.37101725790035 h 0 M 200 273.10708730292407 h 0 M 200 270.00737420331006 h 0 M 200 271.1033987858749 h 0 M 200 270.22961938637 h 0 M 200 270.94221370469506 h 0 M 200 273.1222037120126 h 0 M 200 271.65812004523605 h 0 M 200 270.7601374064601 h 0 M 200 270.0448255314451 h 0 M 200 267.89973914286566 h 0 M 200 269.9842749714444 h 0 M 200 269.56025120414654 h 0 M 200 269.3228046883515 h 0 M 200 271.6070809336506 h 0 M 200 269.92856505929797 h 0 M 200 272.0688957236698 h 0 M 200 272.7054833783193 h 0 M 200 271.00454766127353 h 0 M 250 276.1038729429016 h 0 M 250 276.9112420507928 h 0 M 250 277.2066914171917 h 0 M 250 277.05340423514224 h 0 M 250 269.68967484151125 h 0 M 250 276.55184517853075 h 0 M 250 276.6521400051238 h 0 M 250 275.8402699439646 h 0 M 250 276.79039570173114 h 0 M 250 277.34562650297164 h 0 M 250 276.60458276304746 h 0 M 250 278.13320840121327 h 0 M 250 277.48209880300124 h 0 M 250 277.8458267812381 h 0 M 250 277.48821330555387 h 0 M 250 277.40566752109294 h 0 M 250 275.9764874730544 h 0 M 250 278.70644301552545 h 0 M 250 277.2736961743313 h 0 M 250 277.9174174152922 h 0 M 300 347.0728659041467 h 0 M 300 350.34718202109786 h 0 M 300 349.3917060735977 h 0 M 300 350.27083566283613 h 0 M 300 346.8997915124477 h 0 M 300 350.1215398921753 h 0 M 300 349.7308911179773 h 0 M 300 349.3466965409183 h 0 M 300 347.3076797868983 h 0 M 300 349.710084824569 h 0 M 300 350.26438146569717 h 0 M 300 350.66649493218137 h 0 M 300 350.3634873612383 h 0 M 300 350.4164797166947 h 0 M 300 348.4498179095478 h 0 M 300 349.1936641298086 h 0 M 300 349.53590642546465 h 0 M 300 349.9379349683022 h 0 M 300 351.08559312797854 h 0 M 300 350.3099854639025 h 0 M 350 357.09529990078084 h 0 M 350 358.35089601524095 h 0 M 350 359.84818482782435 h 0 M 350 359.5761743878774 h 0 M 350 360.9519374622267 h 0 M 350 359.2847164328671 h 0 M 350 358.40737024020655 h 0 M 350 357.22879987318066 h 0 M 350 359.959859423057 h 0 M 350 357.2552111272623 h 0 M 350 359.38594541957235 h 0 M 350 360.4334785999487 h 0 M 350 358.758104900519 h 0 M 350 358.84158484509214 h 0 M 350 358.6939875473626 h 0 M 350 358.26588744502965 h 0 M 350 358.82952568728 h 0 M 350 357.7920984208448 h 0 M 350 356.9866825568245 h 0 M 350 359.09160006057886 h 0 M 400 385.71567280051295 h 0 M 400 386.8449874525312 h 0 M 400 384.73650315562116 h 0 M 400 385.45147533604995 h 0 M 400 387.81498534359395 h 0 M 400 387.0392078322248 h 0 M 400 387.30739670807634 h 0 M 400 387.3601342925931 h 0 M 400 386.57127853965295 h 0 M 400 388.10364081826765 h 0 M 400 386.62019456007425 h 0 M 400 387.9624127940304 h 0 M 400 387.7889137840986 h 0 M 400 388.03757022124023 h 0 M 400 386.73373747553137 h 0 M 400 388.14041275723014 h 0 M 400 387.70704738881017 h 0 M 400 388.7719899167323 h 0 M 400 386.7691506361489 h 0 M 400 385.84407735411884 h 0 M 450 394.97642661110774 h 0 M 450 391.6264435250673 h 0 M 450 395.2912385689233 h 0 M 450 396.1167813371794 h 0 M 450 395.8699082966156 h 0 M 450 394.727005861147 h 0 M 450 397.1176065119452 h 0 M 450 395.64783296084875 h 0 M 450 396.51320491934376 h 0 M 450 398.26594406079397 h 0 M 450 392.9560930593319 h 0 M 450 395.5896602629519 h 0 M 450 395.3877118314209 h 0 M 450 396.331892933928 h 0 M 450 396.5661972748002 h 0 M 450 391.9782821927851 h 0 M 450 396.77358081971136 h 0 M 450 392.76017420670695 h 0 M 450 395.82821078615234 h 0 M 450 397.26376010768314 h 0 M 500 396.3234005692715 h 0 M 500 395.55102000376496 h 0 M 500 395.95381285942165 h 0 M 500 396.7644939895289 h 0 M 500 397.45967896030805 h 0 M 500 399.3651108182818 h 0 M 500 396.5222917495262 h 0 M 500 399.19059272459117 h 0 M 500 394.97999340426344 h 0 M 500 395.32300001273853 h 0 M 500 396.943597960134 h 0 M 500 397.07319144479186 h 0 M 500 400 h 0 M 500 395.38210687074763 h 0 M 500 398.6908170645575 h 0 M 500 395.5439713411001 h 0 M 500 397.50681158415154 h 0 M 500 399.46914228532364 h 0 M 500 396.54598544691777 h 0 M 500 399.23076160941633 h 0 M 550 386.8302956616755 h 0 M 550 384.70907281778074 h 0 M 550 390.8194990354089 h 0 M 550 385.5837014537513 h 0 M 550 388.1752314523217 h 0 M 550 392.35704165646405 h 0 M 550 384.91908899573536 h 0 M 550 390.35513653599276 h 0 M 550 384.76469780628065 h 0 M 550 384.5725155941046 h 0 M 550 387.146296550543 h 0 M 550 384.3838152514377 h 0 M 550 391.40776513516306 h 0 M 550 383.4398039962237 h 0 M 550 384.77251078176465 h 0 M 550 385.78785790009294 h 0 M 550 386.844647757945 h 0 M 550 388.52222947218536 h 0 M 550 385.31823013458984 h 0 M 550 384.0864975648144 h 0 M 600 360.0825740923431 h 0 M 600 360.2919108811253 h 0 M 600 360.38914845644194 h 0 M 600 359.6205045313842 h 0 M 600 360.9323200998702 h 0 M 600 354.5310303927577 h 0 M 600 358.23667371061134 h 0 M 600 362.5778006757091 h 0 M 600 359.9867802190181 h 0 M 600 361.0427208404044 h 0 M 600 360.28834408796956 h 0 M 600 360.2815501962444 h 0 M 600 361.50232761561296 h 0 M 600 360.60825146457904 h 0 M 600 362.2423522717783 h 0 M 600 360.33411793346795 h 0 M 600 360.73427815608113 h 0 M 600 362.05348208181823 h 0 M 600 359.67714860364293 h 0 M 600 359.48165436925086 h 0 M 650 335.6341602537518 h 0 M 650 327.24981847570547 h 0 M 650 344.8617089185398 h 0 M 650 324.3034774817874 h 0 M 650 333.9716949486 h 0 M 650 332.84679632620305 h 0 M 650 333.82469211639636 h 0 M 650 334.00371116335486 h 0 M 650 331.66890534834977 h 0 M 650 333.8373457397345 h 0 M 650 335.11739986440523 h 0 M 650 335.6321220862343 h 0 M 650 334.7071337278509 h 0 M 650 333.5091158457617 h 0 M 650 333.6271597144867 h 0 M 650 335.2336603365524 h 0 M 650 333.9859621212228 h 0 M 650 333.07023044031496 h 0 M 650 337.0433832448476 h 0 M 650 335.785154497344 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of differing num elem per node with abspiral(10000,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Tree Height</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="250" x2="250" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="250" y="430" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="350" x2="350" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="350" y="430" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="450" x2="450" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="450" y="430" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="550" x2="550" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="550" y="430" > 10</text><line  class="poloto_axis_lines" stroke="black" x1="650" x2="650" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="650" y="430" > 12</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="397.01408458678276" y2="397.01408458678276" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="397.01408458678276" > 0.002</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="312.09043802201506" y2="312.09043802201506" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="312.09043802201506" > 0.003</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="227.1667914572473" y2="227.1667914572473" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="227.1667914572473" > 0.004</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="142.24314489247962" y2="142.24314489247962" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="142.24314489247962" > 0.005</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.333333333333334;stroke-dashoffset:-0;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:8.49236465647677;stroke-dashoffset:-2.985915413217252;" d=" M 150 400 L 150 100" /></svg></p>
<h3 id="odd-vs-even-height-trees"><a class="header" href="#odd-vs-even-height-trees">ODD vs Even height trees.</a></h3>
<p>You can see that the even heights are barely better than the odds for sub optimal heights. With odd trees, the direction that the root nodes aabbs are sorted is the same as the leaves. If its even they are different. When the direction's match, we can use sweep and prune to speed things up. When the directions don't match, the sorted property can't be exploited since they are in different dimensions even though some pruning can still be done
based off of the bounding rectangles of the dividers. In 'normal' looking trees where the aabbs arn't extremely clumped up, these two methods seem to be around the same speed. In degenerate cases, not enough aabbs can be exluded using the dividers bounding box for the perpendicular cases. </p>
<p>The below chart compares the empirically best height against the height that our heuristic tree height function produces. </p>
<style>
.test .poloto0stroke{
    stroke-width:20;
}
</style>
<div class="test">
<svg  width="800" class="poloto_background poloto" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >Optimal</text><line  class="scatter poloto0stroke poloto0legend" stroke="black" x1="685" x2="685" y1="81.25" y2="81.25" /><path  class="scatter poloto0stroke" d=" M 170.83333333333334 250 h 0 M 191.66666666666666 220 h 0 M 212.5 190 h 0 M 233.33333333333331 160 h 0 M 254.16666666666666 160 h 0 M 275 160 h 0 M 295.8333333333333 160 h 0 M 316.66666666666663 160 h 0 M 337.5 160 h 0 M 358.3333333333333 130 h 0 M 379.16666666666663 130 h 0 M 400 160 h 0 M 420.8333333333333 100 h 0 M 441.66666666666663 130 h 0 M 462.5 130 h 0 M 483.3333333333333 130 h 0 M 504.16666666666663 130 h 0 M 525 130 h 0 M 545.8333333333333 130 h 0 M 566.6666666666666 130 h 0 M 587.5 100 h 0 M 608.3333333333333 130 h 0 M 629.1666666666666 100 h 0 M 650 100 h 0" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >Heuristic</text><line  class="scatter poloto1stroke poloto1legend" stroke="black" x1="685" x2="685" y1="131.25" y2="131.25" /><path  class="scatter poloto1stroke" d=" M 150 400 h 0 M 170.83333333333334 250 h 0 M 191.66666666666666 220 h 0 M 212.5 190 h 0 M 233.33333333333331 190 h 0 M 254.16666666666666 160 h 0 M 275 160 h 0 M 295.8333333333333 160 h 0 M 316.66666666666663 160 h 0 M 337.5 130 h 0 M 358.3333333333333 130 h 0 M 379.16666666666663 130 h 0 M 400 130 h 0 M 420.8333333333333 130 h 0 M 441.66666666666663 130 h 0 M 462.5 130 h 0 M 483.3333333333333 130 h 0 M 504.16666666666663 100 h 0 M 525 100 h 0 M 545.8333333333333 100 h 0 M 566.6666666666666 100 h 0 M 587.5 100 h 0 M 608.3333333333333 100 h 0 M 629.1666666666666 100 h 0 M 650 100 h 0" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of optimal vs heuristic with abspiral(x,1.5)</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Tree Height</text><line  class="poloto_axis_lines" stroke="black" x1="254.15625" x2="254.15625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="254.15625" y="430" > 10000</text><line  class="poloto_axis_lines" stroke="black" x1="358.32291666666663" x2="358.32291666666663" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="358.32291666666663" y="430" > 20000</text><line  class="poloto_axis_lines" stroke="black" x1="462.4895833333333" x2="462.4895833333333" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="462.4895833333333" y="430" > 30000</text><line  class="poloto_axis_lines" stroke="black" x1="566.65625" x2="566.65625" y1="400" y2="405" /><text  class="poloto_text" alignment-baseline="start" text-anchor="middle" x="566.65625" y="430" > 40000</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="370" y2="370" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="370" > 2</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="310" y2="310" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="310" > 4</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="250" y2="250" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="250" > 6</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="190" y2="190" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="190" > 8</text><line  class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130" y2="130" /><text  class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="130" > 10</text><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:5.208333333333333;stroke-dashoffset:-104.15625;" d=" M 150 400 L 650 400" /><path  stroke="black" fill="none" class="poloto_axis_lines" style="stroke-dasharray:7.5;stroke-dashoffset:-30;" d=" M 150 400 L 150 100" /></svg>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch5-tree-data-layout.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch7-parallelism.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch5-tree-data-layout.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch7-parallelism.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
