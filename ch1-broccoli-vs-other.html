<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.51495" y2="346.51495"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.51495">
10000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.0299" y2="293.0299"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="293.0299">
20000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.54486" y2="239.54486"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="239.54486">
30000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="186.05981" y2="186.05981"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="186.05981">
40000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.5748" y2="132.5748"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="132.5748">
50000000
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.05627" y2="346.05627"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.05627">
20000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.11258" y2="292.11258"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="292.11258">
40000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.16885" y2="238.16885"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="238.16885">
60000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="184.22516" y2="184.22516"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="184.22516">
80000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130.28143" y2="130.28143"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="130.28143">
100000000
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="344.31006" y2="344.31006"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="344.31006">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="288.6123" y2="288.6123"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="288.6123">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="232.91455" y2="232.91455"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="232.91455">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="177.2168" y2="177.2168"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="177.2168">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.51901" y2="121.51901"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="121.51901">
0.010
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.738 155.0505,399.25116 160.10101,397.8013 165.15152,397.48553 170.20203,396.45972 175.25253,395.31943 180.30302,394.2984 185.35353,393.53265 190.40404,392.46442 195.45454,390.88055 200.50505,390.06265 205.55556,388.34824 210.60606,388.56683 215.65656,386.56012 220.70706,386.58035 225.75757,384.705 230.80807,383.8203 235.85858,383.36108 240.90909,382.52994 245.9596,381.5074 251.0101,380.63586 256.0606,379.15976 261.1111,378.04068 266.16162,377.0841 271.21213,376.3686 276.26263,375.05072 281.3131,374.23627 286.36365,373.39755 291.41412,372.08813 296.46466,371.04785 301.51514,370.19775 306.56567,369.2102 311.61615,368.2199 316.66666,366.98895 321.71716,366.1897 326.76767,365.1036 331.81818,363.53387 336.86868,362.90857 341.9192,362.04816 346.9697,360.68115 352.0202,359.5334 357.0707,359.12207 362.12122,357.48874 367.1717,357.21017 372.22223,355.54233 377.2727,355.02737 382.32324,353.80725 387.37372,352.8421 392.42426,351.67575 397.47473,350.14764 402.52527,349.70786 407.57574,348.75543 412.62625,347.1758 417.67676,346.11942 422.72726,345.17615 427.77777,344.521 432.82828,339.8747 437.87878,341.9917 442.9293,341.26508 447.9798,340.74478 453.0303,338.90155 458.0808,338.817 463.13132,337.60712 468.18182,336.1314 473.23233,335.18762 478.28284,334.13702 483.3333,332.88373 488.38382,330.98462 493.43433,330.8516 498.48483,329.66187 503.53534,326.172 508.58585,327.3211 513.63635,326.05414 518.6869,324.7834 523.73737,323.44568 528.78784,322.41913 533.8384,321.80334 538.8889,320.99603 543.9394,319.13632 548.98987,318.10086 554.0404,316.9103 559.09094,316.5296 564.1414,313.30792 569.1919,310.17145 574.24243,310.99362 579.2929,310.48865 584.3434,308.6858 589.3939,307.65906 594.44446,306.85596 599.49493,305.9172 604.5454,305.1159 609.59595,303.79553 614.6465,303.27603 619.69696,302.16132 624.74744,297.54504 629.798,299.197 634.8485,298.6658 639.899,298.1905 644.94946,296.2397 650,296.05133 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.6146 155.0505,398.59573 160.10101,397.8499 165.15152,397.31372 170.20203,396.32336 175.25253,395.1557 180.30302,394.28955 185.35353,393.45944 190.40404,392.49738 195.45454,391.157 200.50505,389.68823 205.55556,388.57922 210.60606,388.598 215.65656,386.5608 220.70706,385.1166 225.75757,383.86896 230.80807,382.02844 235.85858,383.50418 240.90909,382.39136 245.9596,381.61002 251.0101,380.62604 256.0606,375.8944 261.1111,376.47513 266.16162,375.99234 271.21213,379.71997 276.26263,381.51807 281.3131,380.02988 286.36365,379.0463 291.41412,374.70285 296.46466,372.4477 301.51514,371.6267 306.56567,371.59164 311.61615,369.56287 316.66666,371.46707 321.71716,371.28998 326.76767,368.32846 331.81818,370.42105 336.86868,368.41855 341.9192,366.6034 346.9697,366.75458 352.0202,365.49203 357.0707,371.32605 362.12122,376.3813 367.1717,373.05997 372.22223,371.7662 377.2727,371.60507 382.32324,378.05652 387.37372,376.8871 392.42426,372.77905 397.47473,370.39102 402.52527,375.663 407.57574,368.9572 412.62625,373.4243 417.67676,371.67255 422.72726,358.02612 427.77777,368.89108 432.82828,364.62463 437.87878,367.56073 442.9293,371.213 447.9798,360.83347 453.0303,368.18668 458.0808,369.13968 463.13132,366.3942 468.18182,367.92175 473.23233,368.6844 478.28284,365.55215 483.3333,363.36215 488.38382,369.56644 493.43433,362.49063 498.48483,370.5965 503.53534,369.66562 508.58585,363.02783 513.63635,367.30524 518.6869,362.7343 523.73737,360.84244 528.78784,362.6898 533.8384,361.41425 538.8889,358.34973 543.9394,361.4422 548.98987,358.09583 554.0404,356.50836 559.09094,363.73886 564.1414,362.1454 569.1919,354.4151 574.24243,361.58023 579.2929,360.4048 584.3434,355.06094 589.3939,330.78125 594.44446,345.14346 599.49493,359.5804 604.5454,355.84125 609.59595,356.50925 614.6465,226.5131 619.69696,354.89374 624.74744,355.43414 629.798,352.12888 634.8485,354.93964 639.899,356.04913 644.94946,357.0526 650,357.78937 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,398.75446 160.10101,396.3627 165.15152,393.37054 170.20203,389.75156 175.25253,385.59772 180.30302,380.91064 185.35353,375.47742 190.40404,368.7429 195.45454,360.18005 200.50505,351.23413 205.55556,347.88385 210.60606,335.6446 215.65656,325.29016 220.70706,317.9261 225.75757,305.07535 230.80807,298.68292 235.85858,290.0422 240.90909,278.7105 245.9596,265.67712 251.0101,254.26741 256.0606,239.67554 261.1111,222.93527 266.16162,212.482 271.21213,192.22733 276.26263,181.74442 281.3131,168.14043 286.36365,153.39091 291.41412,137.44937 296.46466,119.4389 301.51514,100 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.95468 155.0505,399.15225 160.10101,397.80594 165.15152,396.46585 170.20203,393.8728 175.25253,392.90924 180.30302,391.25272 185.35353,390.47787 190.40404,388.10605 195.45454,385.5865 200.50505,383.54803 205.55556,383.1896 210.60606,380.76758 215.65656,378.459 220.70706,377.06046 225.75757,373.11176 230.80807,373.592 235.85858,371.1461 240.90909,368.5172 245.9596,366.6594 251.0101,363.63156 256.0606,365.31323 261.1111,362.21698 266.16162,360.96967 271.21213,358.89905 276.26263,356.8928 281.3131,353.90115 286.36365,352.2712 291.41412,350.33734 296.46466,346.84604 301.51514,345.4698 306.56567,343.0269 311.61615,341.10782 316.66666,339.1117 321.71716,336.0869 326.76767,332.7658 331.81818,331.47528 336.86868,326.97543 341.9192,325.23376 346.9697,322.90372 352.0202,320.53632 357.0707,323.8637 362.12122,322.25778 367.1717,319.43942 372.22223,315.76767 377.2727,315.7541 382.32324,311.91968 387.37372,309.67258 392.42426,308.56134 397.47473,305.41174 402.52527,301.66055 407.57574,300.22168 412.62625,297.29996 417.67676,295.56378 422.72726,293.4003 427.77777,287.78937 432.82828,286.95267 437.87878,284.8517 442.9293,282.88983 447.9798,280.32898 453.0303,275.75485 458.0808,275.48178 463.13132,271.63385 468.18182,269.67615 473.23233,269.266 478.28284,266.8086 483.3333,263.65106 488.38382,261.4291 493.43433,258.51135 498.48483,255.1668 503.53534,248.43365 508.58585,248.86598 513.63635,244.8522 518.6869,238.25116 523.73737,240.27277 528.78784,236.59499 533.8384,237.22905 538.8889,231.72504 543.9394,229.57465 548.98987,225.957 554.0404,225.33627 559.09094,222.49673 564.1414,234.62231 569.1919,231.76845 574.24243,229.49661 579.2929,226.14433 584.3434,224.18901 589.3939,221.33995 594.44446,215.73425 599.49493,218.89777 604.5454,213.30925 609.59595,212.29639 614.6465,210.22786 619.69696,204.66235 624.74744,200.72195 629.798,201.38606 634.8485,197.07611 639.899,198.63034 644.94946,194.88509 650,191.64134 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.82498 155.0505,399.11963 160.10101,397.76947 165.15152,396.38007 170.20203,394.6855 175.25253,392.89563 180.30302,391.60126 185.35353,390.51044 190.40404,388.22922 195.45454,385.47122 200.50505,383.25665 205.55556,383.05453 210.60606,379.68823 215.65656,378.2625 220.70706,377.77866 225.75757,373.36322 230.80807,373.54816 235.85858,371.40372 240.90909,368.53723 245.9596,367.0221 251.0101,364.0991 256.0606,367.93005 261.1111,365.00354 266.16162,365.52893 271.21213,289.76297 276.26263,361.3613 281.3131,365.4817 286.36365,363.953 291.41412,358.05676 296.46466,355.1278 301.51514,354.85464 306.56567,354.99658 311.61615,351.1469 316.66666,353.6728 321.71716,348.48 326.76767,349.44006 331.81818,346.77338 336.86868,344.22504 341.9192,344.26428 346.9697,343.5462 352.0202,341.56412 357.0707,355.59528 362.12122,359.91705 367.1717,355.26303 372.22223,353.0935 377.2727,352.9043 382.32324,355.69183 387.37372,350.8662 392.42426,350.61847 397.47473,346.4246 402.52527,351.2734 407.57574,346.8657 412.62625,342.81046 417.67676,343.8269 422.72726,340.70584 427.77777,331.9959 432.82828,343.76123 437.87878,342.35608 442.9293,341.1631 447.9798,339.10297 453.0303,337.57178 458.0808,339.01013 463.13132,335.70688 468.18182,332.78162 473.23233,336.35443 478.28284,334.1706 483.3333,336.721 488.38382,333.25345 493.43433,332.54178 498.48483,331.2976 503.53534,324.35178 508.58585,330.64386 513.63635,326.87018 518.6869,322.2955 523.73737,302.63132 528.78784,318.64923 533.8384,322.3763 538.8889,318.35214 543.9394,322.28412 548.98987,321.44516 554.0404,317.64508 559.09094,324.81165 564.1414,326.4588 569.1919,322.7983 574.24243,322.05603 579.2929,322.63885 584.3434,323.1087 589.3939,174.07887 594.44446,283.35217 599.49493,316.3894 604.5454,312.24268 609.59595,315.3576 614.6465,308.96313 619.69696,297.87976 624.74744,305.2427 629.798,305.82077 634.8485,304.39597 639.899,312.26297 644.94946,307.3797 650,306.94116 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.84824 155.0505,399.15433 160.10101,397.96628 165.15152,396.54132 170.20203,394.97153 175.25253,392.84048 180.30302,391.7604 185.35353,389.98633 190.40404,387.98404 195.45454,385.2625 200.50505,383.03387 205.55556,381.61438 210.60606,379.456 215.65656,376.3118 220.70706,374.70508 225.75757,370.74124 230.80807,370.05804 235.85858,367.3183 240.90909,364.99612 245.9596,362.4746 251.0101,359.824 256.0606,356.76517 261.1111,354.13666 266.16162,350.97845 271.21213,348.08917 276.26263,345.5157 281.3131,342.25012 286.36365,339.1031 291.41412,336.48126 296.46466,332.8875 301.51514,329.61673 306.56567,326.97525 311.61615,323.63422 316.66666,320.3372 321.71716,317.40588 326.76767,314.39453 331.81818,310.55133 336.86868,307.10724 341.9192,303.86728 346.9697,300.14786 352.0202,296.5867 357.0707,293.19635 362.12122,289.5818 367.1717,285.73166 372.22223,282.2191 377.2727,278.6394 382.32324,275.01764 387.37372,271.34903 392.42426,267.6287 397.47473,264.0005 402.52527,260.22778 407.57574,255.9482 412.62625,252.01013 417.67676,248.41077 422.72726,244.52284 427.77777,240.74165 432.82828,232.95828 437.87878,232.8199 442.9293,228.38269 447.9798,224.39915 453.0303,218.98497 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.33337" y2="365.33337"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.33337">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.66318" y2="330.66318"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.66318">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.99295" y2="295.99295"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.99295">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="261.32275" y2="261.32275"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="261.32275">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.65253" y2="226.65253"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="226.65253">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.98233" y2="191.98233"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="191.98233">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="157.31213" y2="157.31213"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="157.31213">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="122.64194" y2="122.64194"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="122.64194">
0.016
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.98996 155.0505,399.5282 160.10101,398.61298 165.15152,397.71417 170.20203,396.7728 175.25253,395.85678 180.30302,394.49265 185.35353,393.53836 190.40404,392.68045 195.45454,391.70984 200.50505,390.39926 205.55556,389.22314 210.60606,387.32526 215.65656,387.253 220.70706,386.72537 225.75757,385.52017 230.80807,384.4676 235.85858,383.6003 240.90909,382.4906 245.9596,381.70163 251.0101,380.7531 256.0606,377.98975 261.1111,376.91483 266.16162,376.38208 271.21213,374.85678 276.26263,374.0644 281.3131,373.06372 286.36365,372.13095 291.41412,370.87918 296.46466,369.7904 301.51514,368.8188 306.56567,367.82178 311.61615,367.13586 316.66666,365.69876 321.71716,364.93735 326.76767,363.85483 331.81818,362.9653 336.86868,361.76904 341.9192,360.98138 346.9697,359.83548 352.0202,358.60245 357.0707,356.12512 362.12122,355.3028 367.1717,354.01178 372.22223,352.9282 377.2727,351.85898 382.32324,351.13297 387.37372,350.0273 392.42426,348.7535 397.47473,347.61615 402.52527,346.7791 407.57574,345.35733 412.62625,344.31335 417.67676,342.85138 422.72726,342.46826 427.77777,341.39685 432.82828,340.16928 437.87878,338.87463 442.9293,337.9235 447.9798,330.36267 453.0303,336.96185 458.0808,335.2828 463.13132,333.77133 468.18182,332.44806 473.23233,332.27136 478.28284,330.86887 483.3333,329.68524 488.38382,328.98227 493.43433,328.17984 498.48483,326.88763 503.53534,325.79456 508.58585,325.37558 513.63635,324.29218 518.6869,323.19138 523.73737,321.67343 528.78784,320.50705 533.8384,319.6117 538.8889,318.10077 543.9394,317.6184 548.98987,316.34326 554.0404,315.10437 559.09094,314.2956 564.1414,306.4604 569.1919,305.53323 574.24243,303.5057 579.2929,303.38538 584.3434,301.89893 589.3939,300.68298 594.44446,300.02704 599.49493,298.94098 604.5454,297.2135 609.59595,296.57138 614.6465,295.5314 619.69696,294.2267 624.74744,293.65936 629.798,293.0011 634.8485,291.51306 639.899,289.67023 644.94946,289.31952 650,287.97235 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.9869 155.0505,399.49796 160.10101,398.5834 165.15152,397.6604 170.20203,396.7657 175.25253,395.84778 180.30302,394.4697 185.35353,393.4881 190.40404,392.57925 195.45454,391.65997 200.50505,390.27655 205.55556,389.07202 210.60606,387.46347 215.65656,387.10535 220.70706,386.58566 225.75757,385.2809 230.80807,384.3626 235.85858,383.60287 240.90909,382.49655 245.9596,381.60663 251.0101,380.55737 256.0606,379.48853 261.1111,377.22232 266.16162,379.48465 271.21213,375.7021 276.26263,374.44464 281.3131,374.28076 286.36365,374.65662 291.41412,373.9478 296.46466,374.28223 301.51514,372.58337 306.56567,372.16617 311.61615,371.344 316.66666,371.55774 321.71716,369.48508 326.76767,369.20346 331.81818,369.11652 336.86868,368.37302 341.9192,367.28452 346.9697,367.20728 352.0202,364.98123 357.0707,340.87033 362.12122,373.0445 367.1717,372.20825 372.22223,370.67563 377.2727,365.92606 382.32324,368.2655 387.37372,363.54715 392.42426,368.44012 397.47473,367.3721 402.52527,370.90985 407.57574,340.4037 412.62625,362.95602 417.67676,366.1338 422.72726,366.18973 427.77777,366.87442 432.82828,366.4813 437.87878,364.4034 442.9293,354.19855 447.9798,341.64444 453.0303,359.30725 458.0808,355.8245 463.13132,364.6849 468.18182,349.9516 473.23233,360.87506 478.28284,365.06418 483.3333,364.01352 488.38382,360.67117 493.43433,362.41617 498.48483,361.5564 503.53534,363.23077 508.58585,360.5865 513.63635,362.07993 518.6869,361.64746 523.73737,360.59763 528.78784,359.58224 533.8384,360.54367 538.8889,360.93 543.9394,358.87094 548.98987,354.5087 554.0404,359.70126 559.09094,359.2324 564.1414,356.21588 569.1919,354.13202 574.24243,349.29642 579.2929,344.85825 584.3434,351.36908 589.3939,341.40955 594.44446,352.10196 599.49493,351.37634 604.5454,350.5702 609.59595,350.17276 614.6465,354.03613 619.69696,349.73233 624.74744,348.86798 629.798,350.21716 634.8485,349.3606 639.899,349.21948 644.94946,351.41025 650,343.98392 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.39215 160.10101,396.57642 165.15152,395.04272 170.20203,391.73257 175.25253,388.21582 180.30302,384.3709 185.35353,378.99356 190.40404,373.88727 195.45454,368.22546 200.50505,361.2897 205.55556,353.5169 210.60606,348.1048 215.65656,342.09558 220.70706,334.47736 225.75757,327.13553 230.80807,320.32504 235.85858,310.6916 240.90909,300.54266 245.9596,291.86713 251.0101,279.58588 256.0606,269.80188 261.1111,260.2149 266.16162,247.59477 271.21213,232.36382 276.26263,217.31155 281.3131,209.56569 286.36365,195.49782 291.41412,183.58269 296.46466,161.14517 301.51514,155.74515 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.99628 155.0505,399.4364 160.10101,398.1377 165.15152,396.8841 170.20203,394.6298 175.25253,393.439 180.30302,391.23767 185.35353,389.57654 190.40404,388.0484 195.45454,384.3325 200.50505,381.92978 205.55556,381.01697 210.60606,377.13068 215.65656,377.14005 220.70706,375.1465 225.75757,371.12158 230.80807,369.4005 235.85858,367.81445 240.90909,364.38718 245.9596,362.5869 251.0101,360.48608 256.0606,357.36594 261.1111,351.9214 266.16162,353.60358 271.21213,349.61557 276.26263,346.44745 281.3131,342.324 286.36365,340.2434 291.41412,335.63718 296.46466,334.69952 301.51514,333.66644 306.56567,332.1308 311.61615,328.31488 316.66666,325.75146 321.71716,321.6116 326.76767,319.94614 331.81818,316.697 336.86868,309.81232 341.9192,313.22864 346.9697,309.35278 352.0202,305.5368 357.0707,301.3661 362.12122,296.2535 367.1717,296.96008 372.22223,294.1181 377.2727,294.4123 382.32324,287.93262 387.37372,285.67694 392.42426,283.48523 397.47473,277.613 402.52527,281.10568 407.57574,269.5478 412.62625,270.66907 417.67676,265.05865 422.72726,262.10092 427.77777,262.10803 432.82828,257.87155 437.87878,255.39929 442.9293,245.71077 447.9798,253.45248 453.0303,246.99208 458.0808,244.02417 463.13132,239.64838 468.18182,232.86539 473.23233,232.80649 478.28284,226.66127 483.3333,227.42064 488.38382,224.1585 493.43433,217.3456 498.48483,218.08524 503.53534,213.0627 508.58585,210.03616 513.63635,206.31772 518.6869,200.41298 523.73737,199.14615 528.78784,199.84573 533.8384,193.76491 538.8889,191.86383 543.9394,183.97542 548.98987,189.4542 554.0404,178.08076 559.09094,166.90024 564.1414,172.33275 569.1919,173.28989 574.24243,168.89299 579.2929,154.49173 584.3434,158.67732 589.3939,152.54028 594.44446,155.61255 599.49493,153.34448 604.5454,147.8063 609.59595,141.33112 614.6465,141.53622 619.69696,130.33157 624.74744,126.3638 629.798,123.19403 634.8485,127.890564 639.899,117.68872 644.94946,100 650,115.93204 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.9935 155.0505,399.4135 160.10101,398.114 165.15152,396.6872 170.20203,394.5868 175.25253,393.13037 180.30302,391.1429 185.35353,389.00684 190.40404,387.9999 195.45454,384.5787 200.50505,382.92767 205.55556,380.7909 210.60606,376.82913 215.65656,376.1288 220.70706,374.42896 225.75757,370.16895 230.80807,368.5529 235.85858,366.94775 240.90909,363.4631 245.9596,361.48267 251.0101,359.48724 256.0606,361.72498 261.1111,358.34555 266.16162,359.22598 271.21213,356.65265 276.26263,353.95285 281.3131,350.79712 286.36365,350.14172 291.41412,347.7932 296.46466,345.74008 301.51514,346.52203 306.56567,345.86032 311.61615,343.4119 316.66666,339.55374 321.71716,338.2947 326.76767,337.69257 331.81818,331.89124 336.86868,326.9494 341.9192,334.86462 346.9697,332.19043 352.0202,328.25247 357.0707,326.8834 362.12122,333.4757 367.1717,332.68262 372.22223,333.12018 377.2727,332.7956 382.32324,330.3854 387.37372,329.83585 392.42426,331.2791 397.47473,321.2206 402.52527,328.83115 407.57574,315.01974 412.62625,323.7542 417.67676,321.46918 422.72726,319.83624 427.77777,316.7635 432.82828,319.71045 437.87878,317.6619 442.9293,304.23376 447.9798,316.65057 453.0303,314.1922 458.0808,297.10272 463.13132,289.01602 468.18182,304.83792 473.23233,303.72974 478.28284,302.10678 483.3333,303.98163 488.38382,300.64743 493.43433,289.94196 498.48483,299.22104 503.53534,294.16748 508.58585,297.20752 513.63635,298.09308 518.6869,292.4867 523.73737,286.49506 528.78784,288.54675 533.8384,288.26657 538.8889,288.32574 543.9394,274.9172 548.98987,289.2854 554.0404,283.78467 559.09094,281.7473 564.1414,281.9845 569.1919,278.1745 574.24243,276.6533 579.2929,267.29285 584.3434,252.17332 589.3939,270.07254 594.44446,270.0495 599.49493,272.08282 604.5454,269.37012 609.59595,266.06033 614.6465,268.1273 619.69696,257.947 624.74744,254.19934 629.798,255.24225 634.8485,260.76483 639.899,251.95924 644.94946,244.79282 650,252.62692 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.7897 155.0505,399.43994 160.10101,398.28885 165.15152,396.75195 170.20203,395.0684 175.25253,393.1609 180.30302,391.29755 185.35353,389.09387 190.40404,386.9306 195.45454,380.2425 200.50505,381.49866 205.55556,379.41876 210.60606,376.09528 215.65656,374.27353 220.70706,371.84924 225.75757,368.99448 230.80807,365.66635 235.85858,362.94186 240.90909,359.8488 245.9596,356.83295 251.0101,353.5109 256.0606,350.16428 261.1111,346.75183 266.16162,343.4175 271.21213,339.71725 276.26263,336.21085 281.3131,332.85403 286.36365,329.5681 291.41412,325.95816 296.46466,322.17456 301.51514,317.9555 306.56567,314.74896 311.61615,310.62595 316.66666,306.06564 321.71716,302.47824 326.76767,298.0029 331.81818,291.17572 336.86868,289.25726 341.9192,285.42688 346.9697,280.70462 352.0202,276.83292 357.0707,273.04578 362.12122,268.59326 367.1717,263.7166 372.22223,259.19708 377.2727,254.79199 382.32324,250.63002 387.37372,246.40321 392.42426,241.39096 397.47473,236.84154 402.52527,232.30225 407.57574,226.843 412.62625,222.27554 417.67676,216.59152 422.72726,211.77113 427.77777,207.51683 432.82828,202.1469 437.87878,196.62758 442.9293,191.18234 447.9798,181.71877 453.0303,182.60223 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.22528" y2="365.22528"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.22528">
100000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.4506" y2="330.4506"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.4506">
200000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.67587" y2="295.67587"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.67587">
300000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.90118" y2="260.90118"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.90118">
400000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.12646" y2="226.12646"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="226.12646">
500000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.35175" y2="191.35175"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="191.35175">
600000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="156.57706" y2="156.57706"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="156.57706">
700000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.80234" y2="121.80234"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="121.80234">
800000
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0.00
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.1421" y2="353.1421"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="353.1421">
0.01
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="306.2842" y2="306.2842"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="306.2842">
0.02
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="259.4263" y2="259.4263"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="259.4263">
0.03
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="212.56842" y2="212.56842"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="212.56842">
0.04
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="165.71051" y2="165.71051"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="165.71051">
0.05
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="118.8526" y2="118.8526"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="118.8526">
0.06
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,344.70142 155.0505,347.19482 160.10101,349.0504 165.15152,350.35904 170.20203,350.60593 175.25253,352.6671 180.30304,354.35272 185.35353,354.79868 190.40405,355.51984 195.45454,356.41617 200.50505,357.33133 205.55556,357.68842 210.60606,358.20972 215.65657,358.896 220.70708,358.88107 225.75757,359.74554 230.80809,360.30118 235.8586,361.06107 240.90909,361.41235 245.9596,361.65723 251.0101,359.92426 256.0606,361.90305 261.1111,362.38385 266.16162,362.76254 271.21213,362.83002 276.26263,362.87225 281.31314,363.27423 286.36365,363.3957 291.41415,363.87296 296.46466,364.1016 301.51514,363.9312 306.56567,364.60498 311.61615,364.6253 316.6667,364.555 321.71716,364.49298 326.76767,365.11667 331.81818,365.6867 336.86868,365.86206 341.9192,365.79556 346.96973,366.4174 352.0202,368.3865 357.0707,366.83484 362.12122,366.75974 367.17172,367.4795 372.22223,367.60693 377.27274,367.542 382.32324,367.4005 387.37372,368.04816 392.42426,368.20483 397.47476,367.7664 402.52527,368.2268 407.57578,368.50485 412.62628,368.62976 417.6768,368.67606 422.7273,368.99704 427.77777,368.55243 432.8283,368.9226 437.87878,369.29706 442.92932,369.04904 447.9798,369.38632 453.0303,367.144 458.0808,369.21704 463.13132,369.55148 468.18185,369.41214 473.23233,369.50482 478.28284,369.22815 483.33334,369.64258 488.38385,370.00143 493.43436,369.69147 498.48486,369.93622 503.53534,369.78317 508.58588,369.902 513.63635,369.9838 518.6869,369.84317 523.7374,370.5684 528.7879,369.95453 533.8384,370.0959 538.8889,370.17868 543.93945,370.2026 548.98987,370.4833 554.0404,370.63824 559.09094,370.5214 564.1414,369.04333 569.19196,370.21313 574.24243,370.5329 579.29297,370.58264 584.34344,370.894 589.3939,371.0362 594.44446,370.89343 599.495,371.09314 604.5455,371.27646 609.59595,371.0869 614.6465,370.8478 619.697,371.00897 624.7475,370.7741 629.798,369.78046 634.8485,371.32678 639.899,371.38623 644.9495,371.27194 650,370.90744 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,380.89938 155.0505,381.2776 160.10101,381.79263 165.15152,382.49457 170.20203,381.22525 175.25253,378.40988 180.30304,377.20093 185.35353,384.3567 190.40405,384.23718 195.45454,385.83414 200.50505,385.03986 205.55556,384.93204 210.60606,386.0325 215.65657,382.9528 220.70708,385.63367 225.75757,385.55356 230.80809,386.67505 235.8586,386.29202 240.90909,385.63168 245.9596,385.568 251.0101,384.1675 256.0606,386.36447 261.1111,387.24994 266.16162,386.60202 271.21213,387.13446 276.26263,385.97958 281.31314,385.98257 286.36365,386.00623 291.41415,386.63498 296.46466,387.73312 301.51514,387.77728 306.56567,388.48752 311.61615,387.33517 316.6667,385.3255 321.71716,388.31393 326.76767,386.69107 331.81818,388.08942 336.86868,387.35876 341.9192,387.60773 346.96973,387.29184 352.0202,389.9047 357.0707,388.29953 362.12122,388.12338 367.17172,388.51517 372.22223,388.8919 377.27274,387.6751 382.32324,387.6232 387.37372,388.29358 392.42426,388.71335 397.47476,387.37497 402.52527,384.18436 407.57578,387.8064 412.62628,388.78027 417.6768,388.78693 422.7273,388.39825 427.77777,388.07037 432.8283,388.76318 437.87878,389.4878 442.92932,388.84384 447.9798,387.97345 453.0303,386.9679 458.0808,388.9707 463.13132,389.1603 468.18185,388.4956 473.23233,388.99628 478.28284,388.70966 483.33334,388.7039 488.38385,388.97382 493.43436,389.8347 498.48486,386.25452 503.53534,389.1856 508.58588,389.1838 513.63635,388.94183 518.6869,388.44083 523.7374,389.26953 528.7879,388.99454 533.8384,389.40228 538.8889,389.2306 543.93945,389.27783 548.98987,388.3131 554.0404,389.06522 559.09094,388.81418 564.1414,387.7149 569.19196,389.24026 574.24243,388.68546 579.29297,390.25504 584.34344,388.69623 589.3939,388.3599 594.44446,388.81012 599.495,384.54492 604.5455,389.87378 609.59595,389.44785 614.6465,388.55588 619.697,388.81628 624.7475,388.888 629.798,387.19662 634.8485,389.57187 639.899,389.95132 644.9495,390.0297 650,389.51572 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,266.69244 155.0505,278.8418 160.10101,285.69797 165.15152,292.30292 170.20203,293.09283 175.25253,300.0965 180.30304,303.4131 185.35353,306.10217 190.40405,308.1135 195.45454,310.95578 200.50505,313.46152 205.55556,314.65448 210.60606,316.38632 215.65657,318.22778 220.70708,318.03055 225.75757,321.15073 230.80809,322.32867 235.8586,322.98834 240.90909,323.36884 245.9596,324.4139 251.0101,325.52405 256.0606,326.71115 261.1111,326.8588 266.16162,328.5581 271.21213,328.3791 276.26263,328.5133 281.31314,329.86255 286.36365,329.74353 291.41415,330.4996 296.46466,331.12097 301.51514,331.5439 306.56567,332.43054 311.61615,332.8224 316.6667,333.39325 321.71716,333.11523 326.76767,334.3098 331.81818,334.76675 336.86868,335.37445 341.9192,336.0813 346.96973,336.67935 352.0202,338.5293 357.0707,337.4404 362.12122,337.22125 367.17172,338.0638 372.22223,338.77158 377.27274,339.04358 382.32324,338.75067 387.37372,340.21545 392.42426,339.91907 397.47476,339.69168 402.52527,340.27805 407.57578,340.64746 412.62628,340.8745 417.6768,340.99396 422.7273,341.5758 427.77777,341.191 432.8283,341.75314 437.87878,341.84662 442.92932,342.03717 447.9798,341.9934 453.0303,340.33856 458.0808,343.00238 463.13132,343.60703 468.18185,343.3368 473.23233,343.1104 478.28284,343.7112 483.33334,344.0549 488.38385,344.3858 493.43436,343.98718 498.48486,344.2098 503.53534,344.3526 508.58588,344.73636 513.63635,344.71307 518.6869,345.19858 523.7374,345.5063 528.7879,344.59824 533.8384,345.78638 538.8889,345.51257 543.93945,345.89807 548.98987,345.98917 554.0404,345.9675 559.09094,346.2052 564.1414,344.6232 569.19196,345.62738 574.24243,346.468 579.29297,346.57068 584.34344,346.97833 589.3939,346.89346 594.44446,347.06595 599.495,347.56396 604.5455,347.3122 609.59595,347.38522 614.6465,347.48843 619.697,347.39154 624.7475,347.21432 629.798,346.24866 634.8485,347.47162 639.899,347.38373 644.9495,347.6037 650,347.83615 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,347.1461 155.0505,354.62485 160.10101,357.57425 165.15152,360.64612 170.20203,361.1049 175.25253,354.2263 180.30304,356.1341 185.35353,366.85004 190.40405,367.6848 195.45454,369.94592 200.50505,363.0391 205.55556,362.04712 210.60606,369.86975 215.65657,372.94525 220.70708,370.31702 225.75757,372.7179 230.80809,360.71564 235.8586,374.16473 240.90909,365.21643 245.9596,373.98587 251.0101,373.97064 256.0606,373.55453 261.1111,375.44388 266.16162,375.60117 271.21213,374.0588 276.26263,375.6485 281.31314,376.35092 286.36365,376.12097 291.41415,376.24603 296.46466,377.52765 301.51514,377.2406 306.56567,378.37482 311.61615,373.5412 316.6667,377.54648 321.71716,378.1713 326.76767,378.54333 331.81818,376.98132 336.86868,378.22818 341.9192,378.32144 346.96973,378.50235 352.0202,379.46255 357.0707,378.54724 362.12122,379.5155 367.17172,373.43774 372.22223,379.7607 377.27274,378.5818 382.32324,378.9605 387.37372,379.88794 392.42426,378.0466 397.47476,379.13928 402.52527,378.86432 407.57578,379.6914 412.62628,380.39865 417.6768,380.4117 422.7273,380.39685 427.77777,379.8378 432.8283,379.9275 437.87878,380.93735 442.92932,379.52393 447.9798,378.68042 453.0303,378.8726 458.0808,380.90103 463.13132,381.6993 468.18185,381.30667 473.23233,380.64783 478.28284,381.28735 483.33334,379.43442 488.38385,380.98465 493.43436,380.59006 498.48486,381.1858 503.53534,380.8124 508.58588,381.659 513.63635,381.61337 518.6869,382.29758 523.7374,381.46777 528.7879,381.94354 533.8384,382.16705 538.8889,381.5562 543.93945,382.07993 548.98987,382.22067 554.0404,382.16013 559.09094,382.1681 564.1414,380.5563 569.19196,381.1516 574.24243,381.72284 579.29297,381.44165 584.34344,381.86108 589.3939,382.2698 594.44446,382.80215 599.495,382.99567 604.5455,382.9911 609.59595,381.86902 614.6465,383.03653 619.697,381.98962 624.7475,382.24005 629.798,376.62878 634.8485,382.5034 639.899,382.47137 644.9495,382.56033 650,381.66995 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,100 155.0505,130.64835 160.10101,150.36438 165.15152,165.5693 170.20203,176.89973 175.25253,187.34932 180.30304,197.97855 185.35353,206.80424 190.40405,214.31099 195.45454,220.34859 200.50505,225.7582 205.55556,230.66385 210.60606,233.86334 215.65657,240.02641 220.70708,243.51067 225.75757,247.78618 230.80809,251.65352 235.8586,254.8103 240.90909,257.13354 245.9596,260.25555 251.0101,260.60052 256.0606,265.3359 261.1111,267.18433 266.16162,269.11694 271.21213,270.7175 276.26263,272.66257 281.31314,274.79858 286.36365,276.45404 291.41415,277.9834 296.46466,279.4208 301.51514,281.82056 306.56567,282.18298 311.61615,284.16187 316.6667,285.23032 321.71716,286.6909 326.76767,287.81848 331.81818,289.3374 336.86868,290.50653 341.9192,292.00482 346.96973,293.41953 352.0202,296.45148 357.0707,295.58893 362.12122,296.5903 367.17172,297.71057 372.22223,298.5318 377.27274,299.21152 382.32324,300.40295 387.37372,301.19495 392.42426,302.08118 397.47476,302.5475 402.52527,303.63507 407.57578,304.29633 412.62628,305.02975 417.6768,305.9932 422.7273,306.55405 427.77777,307.22617 432.8283,307.85492 437.87878,308.2915 442.92932,309.05127 447.9798,309.72797 453.0303,308.3799 458.0808,310.37915 463.13132,311.26752 468.18185,311.70773 473.23233,312.0912 478.28284,312.39584 483.33334,313.0478 488.38385,313.61667 493.43436,314.12567 498.48486,314.60382 503.53534,314.85547 508.58588,314.97806 513.63635,315.56976 518.6869,316.27866 523.7374,316.8466 528.7879,316.77194 533.8384,317.5534 538.8889,317.72873 543.93945,318.1952 548.98987,318.36826 554.0404,318.7048 559.09094,319.2939 564.1414,318.39792 569.19196,319.8474 574.24243,320.30594 579.29297,320.61795 584.34344,320.88342 589.3939,321.3084 594.44446,321.68085 599.495,321.72177 604.5455,322.30972 609.59595,322.9366 614.6465,322.93115 619.697,323.37024 624.7475,323.56384 629.798,322.28558 634.8485,323.88373 639.899,324.3969 644.9495,324.69345 650,324.42114 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(30_000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
0.005
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
0.015
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="389.64188" y2="389.64188"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="389.64188">
2000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.5106" y2="353.5106"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="353.5106">
4000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="317.3793" y2="317.3793"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="317.3793">
6000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="281.248" y2="281.248"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="281.248">
8000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="245.1167" y2="245.1167"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="245.1167">
10000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.98541" y2="208.98541"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="208.98541">
12000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="172.85413" y2="172.85413"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="172.85413">
14000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.72284" y2="136.72284"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="136.72284">
16000000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100.59155" y2="100.59155"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="100.59155">
18000000
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
0.001
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
0.003
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="380.48337" y2="380.48337"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="380.48337">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="343.94742" y2="343.94742"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="343.94742">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="307.41144" y2="307.41144"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="307.41144">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="270.8755" y2="270.8755"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="270.8755">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="234.33954" y2="234.33954"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="234.33954">
0.016
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="197.80353" y2="197.80353"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="197.80353">
0.018
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="161.26758" y2="161.26758"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="161.26758">
0.020
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="124.7316" y2="124.7316"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="124.7316">
0.022
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,244.2946 155.0505,248.4348 160.10101,249.26108 165.15152,250.26047 170.20203,250.04991 175.25253,250.46825 180.30304,246.23895 185.35353,240.41101 190.40404,236.46806 195.45454,227.83786 200.50505,219.74104 205.55556,207.04825 210.60606,200.91765 215.65656,196.52887 220.70706,198.63599 225.75757,194.34196 230.80807,195.07375 235.85858,175.84103 240.90909,199.6758 245.9596,202.99872 251.0101,203.2513 256.0606,211.43834 261.1111,219.03955 266.16162,222.001 271.21213,231.47385 276.26263,236.01656 281.3131,231.13907 286.36365,254.18948 291.41412,261.8017 296.46466,266.81873 301.51514,269.85968 306.56567,274.19073 311.61615,265.0706 316.6667,283.2407 321.71716,283.91833 326.7677,289.31665 331.81818,295.99576 336.86868,300.74945 341.9192,302.44543 346.9697,307.00067 352.0202,309.93994 357.0707,313.9236 362.12122,314.75446 367.17172,320.52945 372.22223,324.302 377.2727,327.13058 382.32324,327.80072 387.37372,329.88483 392.42426,332.92853 397.47473,335.1219 402.52527,338.52142 407.57578,341.9593 412.62625,342.15085 417.67676,344.1531 422.7273,349.4838 427.77777,350.86456 432.82828,349.86523 437.87878,354.08728 442.9293,351.12305 447.9798,357.18384 453.0303,359.782 458.0808,358.38754 463.13132,360.9062 468.18182,364.40588 473.23233,353.40344 478.28284,364.37228 483.33334,357.51254 488.38382,369.2021 493.43436,370.89175 498.48483,369.30923 503.53537,372.23102 508.58588,372.01364 513.63635,374.64783 518.6869,375.74554 523.73737,378.68558 528.78784,378.5595 533.8384,379.34998 538.8889,381.501 543.9394,381.7101 548.98987,382.4351 554.0404,381.527 559.09094,385.98434 564.1414,385.25833 569.1919,385.8076 574.24243,386.3027 579.29297,387.90198 584.34344,391.571 589.3939,390.5542 594.44446,392.504 599.49493,391.33844 604.5454,392.8247 609.59595,394.114 614.6465,393.79364 619.69696,395.17032 624.74744,395.54306 629.798,396.85248 634.8485,397.46017 639.89905,398.78232 644.94946,398.7368 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,224.97395 155.0505,241.65004 160.10101,240.1306 165.15152,241.83337 170.20203,242.11107 175.25253,242.28304 180.30304,208.11972 185.35353,234.4203 190.40404,229.195 195.45454,216.88072 200.50505,208.76956 205.55556,197.43956 210.60606,172.10446 215.65656,185.00424 220.70706,182.11346 225.75757,163.8578 230.80807,164.00159 235.85858,159.1018 240.90909,167.88602 245.9596,178.6316 251.0101,178.94734 256.0606,174.68709 261.1111,196.35571 266.16162,188.75049 271.21213,207.93172 276.26263,216.57298 281.3131,221.58496 286.36365,233.30211 291.41412,241.62091 296.46466,246.6293 301.51514,251.96072 306.56567,257.01538 311.61615,247.59808 316.6667,267.1694 321.71716,268.61523 326.7677,272.7741 331.81818,279.12476 336.86868,285.94424 341.9192,286.752 346.9697,293.40097 352.0202,291.03574 357.0707,301.96912 362.12122,303.03973 367.17172,308.85428 372.22223,312.71622 377.2727,315.53058 382.32324,317.2044 387.37372,319.79694 392.42426,323.03412 397.47473,325.69177 402.52527,327.1802 407.57578,323.3647 412.62625,331.8452 417.67676,334.88187 422.7273,336.36316 427.77777,340.10333 432.82828,337.22415 437.87878,341.91626 442.9293,338.9407 447.9798,344.86414 453.0303,348.40836 458.0808,347.31522 463.13132,350.82565 468.18182,352.7256 473.23233,351.91058 478.28284,353.32465 483.33334,358.23483 488.38382,359.47284 493.43436,361.0143 498.48483,353.97668 503.53537,364.8739 508.58588,363.10272 513.63635,366.2736 518.6869,368.52625 523.73737,371.0572 528.78784,370.24417 533.8384,371.91016 538.8889,372.55487 543.9394,375.02307 548.98987,375.5046 554.0404,373.13892 559.09094,378.2599 564.1414,380.82556 569.1919,380.64063 574.24243,378.19843 579.29297,382.9323 584.34344,386.30386 589.3939,385.95038 594.44446,387.78665 599.49493,387.86508 604.5454,388.59943 609.59595,390.36197 614.6465,389.12396 619.69696,391.805 624.74744,389.843 629.798,393.0426 634.8485,394.304 639.89905,392.53192 644.94946,392.90445 650,393.56305 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,235.181 155.0505,236.07843 160.10101,236.73912 165.15152,237.52327 170.20203,235.1444 175.25253,236.75984 180.30304,235.70242 185.35353,230.97063 190.40404,222.44829 195.45454,216.64267 200.50505,206.57574 205.55556,195.33592 210.60606,183.95335 215.65656,187.08508 220.70706,180.88646 225.75757,173.76364 230.80807,170.98528 235.85858,164.074 240.90909,166.30293 245.9596,161.50032 251.0101,160.18678 256.0606,155.57419 261.1111,157.9085 266.16162,165.56726 271.21213,167.05397 276.26263,167.39243 281.3131,166.39912 286.36365,165.24303 291.41412,165.24582 296.46466,164.59982 301.51514,165.58707 306.56567,163.35747 311.61615,162.8639 316.6667,161.50026 321.71716,160.04068 326.7677,158.08696 331.81818,163.97516 336.86868,163.7565 341.9192,161.671 346.9697,160.68385 352.0202,153.13155 357.0707,155.00665 362.12122,153.93759 367.17172,150.10146 372.22223,155.06372 377.2727,151.52742 382.32324,142.38437 387.37372,151.27055 392.42426,151.74951 397.47473,141.61472 402.52527,143.54318 407.57578,145.51736 412.62625,151.28857 417.67676,148.38562 422.7273,146.61078 427.77777,148.64215 432.82828,150.45357 437.87878,141.67804 442.9293,146.19559 447.9798,142.44217 453.0303,139.98077 458.0808,143.50946 463.13132,141.07263 468.18182,146.89038 473.23233,147.18962 478.28284,145.4931 483.33334,143.7536 488.38382,142.41827 493.43436,142.98315 498.48483,140.65305 503.53537,146.38135 508.58588,152.42314 513.63635,149.58789 518.6869,147.05705 523.73737,151.99777 528.78784,150.85565 533.8384,152.70032 538.8889,151.72708 543.9394,152.49837 548.98987,150.76665 554.0404,148.33054 559.09094,151.374 564.1414,153.5715 569.1919,156.26918 574.24243,158.27785 579.29297,155.64445 584.34344,155.81604 589.3939,153.30878 594.44446,157.0229 599.49493,156.60683 604.5454,157.58485 609.59595,156.87437 614.6465,161.44507 619.69696,167.84311 624.74744,164.19653 629.798,168.54665 634.8485,163.21837 639.89905,164.53249 644.94946,166.95358 650,165.34314 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,259.29526 155.0505,257.5007 160.10101,250.52217 165.15152,259.28653 170.20203,259.2279 175.25253,257.39468 180.30304,256.2044 185.35353,252.38374 190.40404,239.62473 195.45454,226.75018 200.50505,213.20242 205.55556,225.7039 210.60606,206.95396 215.65656,171.33539 220.70706,186.1879 225.75757,180.0752 230.80807,181.10712 235.85858,143.1305 240.90909,173.07668 245.9596,179.81584 251.0101,152.23671 256.0606,161.88666 261.1111,153.08488 266.16162,175.58319 271.21213,156.46811 276.26263,164.31764 281.3131,185.80598 286.36365,164.85791 291.41412,172.61697 296.46466,182.82092 301.51514,187.51848 306.56567,198.40637 311.61615,198.63951 316.6667,196.19936 321.71716,186.99913 326.7677,198.77202 331.81818,195.0512 336.86868,204.27516 341.9192,197.5182 346.9697,207.36626 352.0202,190.73528 357.0707,213.63348 362.12122,207.2325 367.17172,209.64691 372.22223,214.3799 377.2727,212.4324 382.32324,206.58041 387.37372,194.74829 392.42426,226.466 397.47473,226.1096 402.52527,217.62132 407.57578,222.44199 412.62625,241.44972 417.67676,236.89064 422.7273,237.17932 427.77777,222.35046 432.82828,244.55612 437.87878,255.88684 442.9293,221.97401 447.9798,240.5064 453.0303,240.36665 458.0808,242.00514 463.13132,260.57565 468.18182,235.7549 473.23233,243.89671 478.28284,249.98044 483.33334,240.47989 488.38382,268.6488 493.43436,255.94281 498.48483,258.09155 503.53537,253.11497 508.58588,240.12114 513.63635,256.84705 518.6869,278.69574 523.73737,277.65186 528.78784,274.85995 533.8384,227.55315 538.8889,266.7229 543.9394,279.8036 548.98987,275.005 554.0404,280.2566 559.09094,254.47952 564.1414,283.2248 569.1919,267.55627 574.24243,284.19305 579.29297,280.62616 584.34344,255.25203 589.3939,273.87454 594.44446,290.66693 599.49493,291.58508 604.5454,272.87573 609.59595,275.80914 614.6465,287.33002 619.69696,298.566 624.74744,293.72147 629.798,283.73822 634.8485,290.52863 639.89905,283.23056 644.94946,298.69104 650,288.83997 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,229.72879 155.0505,231.14043 160.10101,231.16826 165.15152,229.3333 170.20203,230.6221 175.25253,223.62871 180.30304,226.18729 185.35353,223.44579 190.40404,209.55354 195.45454,195.33797 200.50505,179.4045 205.55556,189.94823 210.60606,172.22018 215.65656,133.54886 220.70706,148.48297 225.75757,142.60321 230.80807,140.20248 235.85858,102.44235 240.90909,130.10379 245.9596,137.43268 251.0101,113.63037 256.0606,118.68689 261.1111,109.451965 266.16162,131.36816 271.21213,116.92493 276.26263,123.11423 281.3131,138.96259 286.36365,127.1799 291.41412,129.379 296.46466,136.06387 301.51514,138.4025 306.56567,149.81009 311.61615,151.64389 316.6667,149.56236 321.71716,147.9759 326.7677,153.8851 331.81818,148.89687 336.86868,159.38069 341.9192,155.28387 346.9697,165.98953 352.0202,153.65236 357.0707,168.2215 362.12122,163.2444 367.17172,169.0085 372.22223,172.22223 377.2727,173.7165 382.32324,168.67639 387.37372,157.58296 392.42426,186.96848 397.47473,187.40062 402.52527,179.57149 407.57578,162.26575 412.62625,199.76717 417.67676,199.56012 422.7273,196.54997 427.77777,186.62582 432.82828,203.78787 437.87878,214.65785 442.9293,191.31192 447.9798,205.5182 453.0303,203.57666 458.0808,204.36911 463.13132,223.81442 468.18182,202.6362 473.23233,213.69524 478.28284,212.54936 483.33334,204.43166 488.38382,230.67442 493.43436,221.1222 498.48483,222.43147 503.53537,216.74275 508.58588,206.73506 513.63635,227.8037 518.6869,242.60135 523.73737,244.79921 528.78784,242.58281 533.8384,199.30647 538.8889,237.5334 543.9394,247.69757 548.98987,245.27538 554.0404,251.35556 559.09094,229.42827 564.1414,252.39848 569.1919,245.65543 574.24243,255.39787 579.29297,250.64307 584.34344,222.53491 589.3939,249.38933 594.44446,257.4708 599.49493,257.89978 604.5454,250.3959 609.59595,251.89964 614.6465,263.12366 619.69696,275.6112 624.74744,269.4245 629.798,261.91107 634.8485,272.5039 639.89905,264.6034 644.94946,273.98734 650,267.66183 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,234.72685 155.0505,269.9619 160.10101,270.51556 165.15152,267.73224 170.20203,270.78424 175.25253,270.84564 180.30304,266.4193 185.35353,262.5188 190.40404,254.25821 195.45454,241.72534 200.50505,229.47063 205.55556,216.5691 210.60606,199.31004 215.65656,192.32939 220.70706,175.74243 225.75757,167.82181 230.80807,163.41393 235.85858,153.02364 240.90909,139.70499 245.9596,135.35919 251.0101,130.48462 256.0606,124.795746 261.1111,123.22003 266.16162,112.09372 271.21213,106.612 276.26263,103.83481 281.3131,108.45813 286.36365,103.86737 291.41412,104.95178 296.46466,100.16495 301.51514,104.832275 306.56567,107.2016 311.61615,100 316.6667,103.26706 321.71716,103.575806 326.7677,108.33386 331.81818,109.96872 336.86868,112.1384 341.9192,111.7439 346.9697,110.1131 352.0202,112.47424 357.0707,122.34726 362.12122,118.799255 367.17172,120.98282 372.22223,119.73343 377.2727,122.53131 382.32324,120.812195 387.37372,122.87091 392.42426,127.141266 397.47473,126.08554 402.52527,133.78134 407.57578,132.05466 412.62625,136.6319 417.67676,139.9874 422.7273,139.39822 427.77777,142.2677 432.82828,143.07455 437.87878,145.40219 442.9293,150.94835 447.9798,151.30655 453.0303,155.4146 458.0808,153.36955 463.13132,158.23865 468.18182,164.11797 473.23233,161.36877 478.28284,162.44688 483.33334,167.99905 488.38382,168.57431 493.43436,170.67897 498.48483,172.3981 503.53537,170.34721 508.58588,181.10655 513.63635,177.6942 518.6869,177.71333 523.73737,184.50714 528.78784,185.43166 533.8384,186.28035 538.8889,188.32536 543.9394,189.2381 548.98987,191.06696 554.0404,195.23412 559.09094,193.19319 564.1414,194.51135 569.1919,199.71986 574.24243,200.44348 579.29297,204.45517 584.34344,206.05841 589.3939,204.16179 594.44446,209.51178 599.49493,210.21767 604.5454,213.51643 609.59595,211.30602 614.6465,216.09198 619.69696,216.75385 624.74744,220.6286 629.798,220.26758 634.8485,222.24913 639.89905,223.6431 644.94946,226.25584 650,225.33365 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
