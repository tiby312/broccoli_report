<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="213.13132" y="430" >10000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >20000</text><line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="339.39392" y="430" >30000</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >40000</text><line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="465.65656" y="430" >50000</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >60000</text><line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="591.9192" y="430" >70000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.51495" y2="346.51495" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.51495" >10000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.0299" y2="293.0299" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="293.0299" >20000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.54486" y2="239.54486" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="239.54486" >30000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="186.05981" y2="186.05981" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="186.05981" >40000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.5748" y2="132.5748" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="132.5748" >50000000</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(x,0.2)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="213.13132" y="430" >10000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >20000</text><line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="339.39392" y="430" >30000</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >40000</text><line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="465.65656" y="430" >50000</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >60000</text><line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="591.9192" y="430" >70000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.05627" y2="346.05627" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.05627" >20000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.11258" y2="292.11258" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="292.11258" >40000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.16885" y2="238.16885" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="238.16885" >60000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="184.22516" y2="184.22516" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="184.22516" >80000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130.28143" y2="130.28143" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="130.28143" >100000000</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(x,0.05)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >2000</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >4000</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >6000</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >8000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.59302" y2="353.59302" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="353.59302" >0.002</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="307.18323" y2="307.18323" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="307.18323" >0.004</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.77344" y2="260.77344" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="260.77344" >0.006</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="214.36365" y2="214.36365" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="214.36365" >0.008</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="167.95386" y2="167.95386" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="167.95386" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.54404" y2="121.54404" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="121.54404" >0.012</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,399.81497 155.0505,399.33517 160.10101,398.50397 165.15152,397.9471 170.20203,397.15924 175.25253,395.65698 180.30302,395.2935 185.35353,391.49484 190.40404,393.5185 195.45454,392.25244 200.50505,391.88693 205.55556,391.04764 210.60606,390.50476 215.65656,389.66534 220.70706,388.06174 225.75757,387.03568 230.80807,386.781 235.85858,385.9876 240.90909,384.8531 245.9596,384.3936 251.0101,383.65424 256.0606,382.4181 261.1111,381.50092 266.16162,380.69638 271.21213,380.1371 276.26263,379.24814 281.3131,378.35358 286.36365,377.38666 291.41412,376.60464 296.46466,375.63745 301.51514,374.665 306.56567,374.05304 311.61615,373.00494 316.66666,372.467 321.71716,371.3408 326.76767,370.5431 331.81818,369.3449 336.86868,368.75192 341.9192,368.07953 346.9697,366.6679 352.0202,366.06213 357.0707,365.51462 362.12122,364.20737 367.1717,363.75793 372.22223,362.4581 377.2727,361.83087 382.32324,360.67844 387.37372,360.22324 392.42426,358.665 397.47473,357.82156 402.52527,356.8875 407.57574,356.32675 412.62625,355.46762 417.67676,354.66064 422.72726,353.68073 427.77777,353.0741 432.82828,351.91785 437.87878,348.54147 442.9293,350.5616 447.9798,349.6139 453.0303,348.5172 458.0808,347.93744 463.13132,346.6611 468.18182,345.8116 473.23233,345.23776 478.28284,344.54263 483.3333,343.1682 488.38382,341.7869 493.43433,341.55438 498.48483,340.5427 503.53534,338.68387 508.58585,338.46014 513.63635,337.31067 518.6869,336.11798 523.73737,335.2303 528.78784,334.47766 533.8384,334.02954 538.8889,333.1305 543.9394,331.66687 548.98987,330.61215 554.0404,329.41614 559.09094,329.28635 564.1414,326.7378 569.1919,325.65167 574.24243,325.0007 579.2929,324.80676 584.3434,323.6111 589.3939,322.7056 594.44446,321.69916 599.49493,320.62384 604.5454,320.35306 609.59595,319.09973 614.6465,318.90717 619.69696,317.54974 624.74744,316.47668 629.798,310.2561 634.8485,314.72784 639.899,314.48407 644.94946,312.65692 650,312.73114 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,399.70786 155.0505,399.07196 160.10101,398.43213 165.15152,397.9152 170.20203,397.1431 175.25253,396.20996 180.30302,395.26044 185.35353,394.11026 190.40404,393.01862 195.45454,392.39105 200.50505,391.9674 205.55556,390.9692 210.60606,390.69763 215.65656,389.96368 220.70706,388.98483 225.75757,387.251 230.80807,387.1554 235.85858,386.34885 240.90909,385.5542 245.9596,384.69235 251.0101,383.9298 256.0606,379.5335 261.1111,380.71564 266.16162,380.12128 271.21213,381.5883 276.26263,380.27237 281.3131,382.4775 286.36365,377.43484 291.41412,377.86774 296.46466,377.06348 301.51514,377.30804 306.56567,376.43384 311.61615,375.8365 316.66666,375.32147 321.71716,373.94308 326.76767,374.5552 331.81818,373.72412 336.86868,372.99924 341.9192,373.45416 346.9697,371.39923 352.0202,371.8089 357.0707,379.58868 362.12122,377.6814 367.1717,380.67096 372.22223,379.8629 377.2727,379.04428 382.32324,376.36618 387.37372,380.14194 392.42426,375.05136 397.47473,376.01855 402.52527,377.84906 407.57574,377.70407 412.62625,375.62704 417.67676,375.62567 422.72726,375.09805 427.77777,379.23642 432.82828,378.16428 437.87878,370.85648 442.9293,374.4795 447.9798,373.747 453.0303,372.2541 458.0808,374.03967 463.13132,372.02148 468.18182,373.5077 473.23233,372.3593 478.28284,369.8882 483.3333,370.55548 488.38382,372.37094 493.43433,372.1285 498.48483,369.65833 503.53534,370.64536 508.58585,367.85687 513.63635,371.66592 518.6869,374.03918 523.73737,371.18988 528.78784,368.6829 533.8384,369.7342 538.8889,365.93607 543.9394,371.83517 548.98987,367.14105 554.0404,363.2966 559.09094,364.41956 564.1414,369.08902 569.1919,368.46228 574.24243,368.74484 579.2929,368.21115 584.3434,365.62054 589.3939,367.20316 594.44446,365.1967 599.49493,362.31015 604.5454,365.30255 609.59595,363.42667 614.6465,363.96594 619.69696,352.89108 624.74744,350.66833 629.798,316.0337 634.8485,363.36353 639.899,364.3352 644.94946,363.93173 650,364.5333 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.0275 160.10101,397.39706 165.15152,394.8989 170.20203,392.4853 175.25253,388.94916 180.30302,386.05112 185.35353,381.86514 190.40404,375.79623 195.45454,370.99792 200.50505,367.73672 205.55556,361.73514 210.60606,355.67725 215.65656,348.2675 220.70706,341.74374 225.75757,329.75262 230.80807,325.58466 235.85858,318.00006 240.90909,309.1041 245.9596,300.08423 251.0101,289.98346 256.0606,279.65704 261.1111,269.39398 266.16162,259.01276 271.21213,247.09885 276.26263,235.96165 281.3131,223.63354 286.36365,209.6147 291.41412,100 296.46466,185.59433 301.51514,171.96992 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,399.97922 155.0505,399.26056 160.10101,398.16125 165.15152,397.05734 170.20203,395.51874 175.25253,393.89072 180.30302,392.71588 185.35353,391.8114 190.40404,389.70728 195.45454,388.14862 200.50505,386.42258 205.55556,385.73663 210.60606,384.58847 215.65656,382.6626 220.70706,381.0006 225.75757,378.64478 230.80807,377.483 235.85858,375.57043 240.90909,373.1823 245.9596,371.7828 251.0101,369.00964 256.0606,370.91394 261.1111,368.52225 266.16162,367.41983 271.21213,365.277 276.26263,363.74097 281.3131,361.16522 286.36365,360.08588 291.41412,358.83438 296.46466,355.37857 301.51514,353.88968 306.56567,352.39526 311.61615,350.4765 316.66666,348.7901 321.71716,345.84155 326.76767,343.35782 331.81818,342.2529 336.86868,338.17032 341.9192,336.74408 346.9697,334.73804 352.0202,332.3969 357.0707,335.42975 362.12122,334.0048 367.1717,331.6667 372.22223,328.42075 377.2727,328.21658 382.32324,325.1278 387.37372,322.81738 392.42426,322.12692 397.47473,319.01434 402.52527,316.44397 407.57574,315.2638 412.62625,312.6085 417.67676,311.4107 422.72726,309.61295 427.77777,307.68582 432.82828,304.84015 437.87878,302.31552 442.9293,299.924 447.9798,297.9698 453.0303,294.16153 458.0808,294.20044 463.13132,290.84427 468.18182,289.6539 473.23233,288.3355 478.28284,286.45905 483.3333,283.85965 488.38382,282.0873 493.43433,279.54395 498.48483,276.49774 503.53534,270.61517 508.58585,271.15686 513.63635,268.0307 518.6869,262.38583 523.73737,265.0781 528.78784,260.51334 533.8384,261.12375 538.8889,256.7303 543.9394,254.42198 548.98987,251.45993 554.0404,251.02014 559.09094,248.74353 564.1414,261.7849 569.1919,259.1515 574.24243,257.038 579.2929,254.65105 584.3434,253.2206 589.3939,251.32668 594.44446,247.19153 599.49493,248.39919 604.5454,244.1811 609.59595,242.8689 614.6465,241.62048 619.69696,236.84268 624.74744,234.63678 629.798,234.07306 634.8485,230.81506 639.899,231.11487 644.94946,228.53593 650,225.89545 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,399.8961 155.0505,399.2391 160.10101,398.23834 165.15152,397.1238 170.20203,395.79987 175.25253,394.16626 180.30302,393.06717 185.35353,392.17612 190.40404,389.53152 195.45454,388.7361 200.50505,385.93274 205.55556,386.08923 210.60606,385.04895 215.65656,383.12613 220.70706,381.7716 225.75757,379.40497 230.80807,378.31995 235.85858,376.6008 240.90909,374.28894 245.9596,372.74716 251.0101,370.55804 256.0606,374.71066 261.1111,370.83728 266.16162,371.8936 271.21213,369.76334 276.26263,370.69568 281.3131,366.43002 286.36365,368.23334 291.41412,365.2623 296.46466,364.54205 301.51514,362.91434 306.56567,363.85718 311.61615,360.30252 316.66666,362.0306 321.71716,358.83017 326.76767,356.19177 331.81818,356.8457 336.86868,353.23846 341.9192,354.1651 346.9697,353.03516 352.0202,350.99902 357.0707,363.20398 362.12122,365.67712 367.1717,361.52658 372.22223,361.6644 377.2727,360.1468 382.32324,360.03 387.37372,359.08325 392.42426,358.694 397.47473,356.70718 402.52527,355.8745 407.57574,355.56415 412.62625,354.83258 417.67676,354.55777 422.72726,353.41357 427.77777,356.35257 432.82828,351.44485 437.87878,352.06342 442.9293,351.57813 447.9798,351.25513 453.0303,347.45035 458.0808,348.53195 463.13132,346.0647 468.18182,345.90335 473.23233,347.54987 478.28284,347.98395 483.3333,347.52045 488.38382,343.87115 493.43433,343.32703 498.48483,342.8979 503.53534,337.53595 508.58585,338.3061 513.63635,339.5123 518.6869,337.6825 523.73737,338.10352 528.78784,336.1516 533.8384,337.632 538.8889,338.53152 543.9394,339.15607 548.98987,332.2146 554.0404,335.6242 559.09094,333.22656 564.1414,337.35443 569.1919,335.6567 574.24243,337.85577 579.2929,334.74637 584.3434,334.13177 589.3939,333.0111 594.44446,328.59164 599.49493,332.26392 604.5454,327.0729 609.59595,328.8786 614.6465,330.96942 619.69696,301.1742 624.74744,315.0448 629.798,306.90894 634.8485,322.97314 639.899,324.5634 644.94946,323.02063 650,323.62747 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,399.92215 155.0505,399.33466 160.10101,398.32135 165.15152,397.03345 170.20203,395.905 175.25253,394.5715 180.30302,393.28152 185.35353,391.6911 190.40404,389.84586 195.45454,387.9064 200.50505,386.6842 205.55556,384.8797 210.60606,383.0454 215.65656,381.13068 220.70706,376.11682 225.75757,376.04135 230.80807,375.22827 235.85858,373.00815 240.90909,371.0395 245.9596,369.02982 251.0101,366.80252 256.0606,363.96024 261.1111,361.48383 266.16162,359.36334 271.21213,357.28033 276.26263,354.6598 281.3131,352.165 286.36365,349.31827 291.41412,320.74054 296.46466,344.53635 301.51514,341.84265 306.56567,339.5256 311.61615,336.9526 316.66666,333.92984 321.71716,331.6467 326.76767,328.92343 331.81818,325.6583 336.86868,323.10498 341.9192,320.4701 346.9697,317.37836 352.0202,314.3869 357.0707,311.46603 362.12122,308.30704 367.1717,305.46616 372.22223,302.55594 377.2727,299.41455 382.32324,296.454 387.37372,293.31534 392.42426,290.00983 397.47473,287.22058 402.52527,284.08374 407.57574,280.40408 412.62625,277.17282 417.67676,273.82394 422.72726,270.90067 427.77777,267.765 432.82828,264.5816 437.87878,260.93567 442.9293,257.55634 447.9798,254.61523 453.0303,250.06027 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(x,0.2)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >2000</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >4000</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >6000</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >8000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.56155" y2="365.56155" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="365.56155" >0.002</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="331.12125" y2="331.12125" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="331.12125" >0.004</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="296.68097" y2="296.68097" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="296.68097" >0.006</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="262.24066" y2="262.24066" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="262.24066" >0.008</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="227.80035" y2="227.80035" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="227.80035" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="193.36005" y2="193.36005" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="193.36005" >0.012</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="158.91974" y2="158.91974" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="158.91974" >0.014</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="124.47946" y2="124.47946" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="124.47946" >0.016</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,399.9874 155.0505,399.5122 160.10101,398.59747 165.15152,397.68912 170.20203,396.73752 175.25253,395.797 180.30302,394.42346 185.35353,393.502 190.40404,392.66284 195.45454,391.62485 200.50505,390.64682 205.55556,389.24054 210.60606,388.14954 215.65656,387.02573 220.70706,386.38824 225.75757,385.3056 230.80807,384.08868 235.85858,383.2794 240.90909,382.18146 245.9596,381.38742 251.0101,380.2288 256.0606,377.72687 261.1111,376.82233 266.16162,376.07138 271.21213,374.53687 276.26263,373.62936 281.3131,372.77246 286.36365,371.8337 291.41412,370.4849 296.46466,369.50375 301.51514,368.39603 306.56567,367.42645 311.61615,366.97455 316.66666,365.1952 321.71716,364.5585 326.76767,363.20905 331.81818,362.68036 336.86868,361.63477 341.9192,360.4032 346.9697,359.32727 352.0202,358.6463 357.0707,355.5028 362.12122,354.46146 367.1717,353.12753 372.22223,352.194 377.2727,351.1485 382.32324,350.22067 387.37372,349.27106 392.42426,347.92575 397.47473,346.6229 402.52527,345.41962 407.57574,344.37387 412.62625,343.09723 417.67676,341.7217 422.72726,341.18906 427.77777,340.46622 432.82828,339.18262 437.87878,337.7141 442.9293,337.02423 447.9798,335.87296 453.0303,335.82504 458.0808,334.06332 463.13132,332.61407 468.18182,331.49435 473.23233,330.96704 478.28284,329.55212 483.3333,328.3547 488.38382,327.6524 493.43433,326.74973 498.48483,325.3563 503.53534,324.4582 508.58585,324.11374 513.63635,322.84543 518.6869,321.6661 523.73737,320.31665 528.78784,318.93948 533.8384,318.03656 538.8889,316.83865 543.9394,316.02075 548.98987,314.63873 554.0404,313.29828 559.09094,312.4533 564.1414,304.94357 569.1919,304.56744 574.24243,302.55188 579.2929,302.15952 584.3434,300.64935 589.3939,299.3988 594.44446,298.76035 599.49493,297.73883 604.5454,295.85132 609.59595,295.19247 614.6465,294.37292 619.69696,293.30197 624.74744,292.55597 629.798,291.74246 634.8485,290.44504 639.899,288.31464 644.94946,287.9779 650,287.6199 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,399.97067 155.0505,399.4926 160.10101,398.61316 165.15152,397.72165 170.20203,396.78006 175.25253,395.68716 180.30302,394.57632 185.35353,393.68268 190.40404,392.8418 195.45454,391.96643 200.50505,391.01978 205.55556,389.62592 210.60606,388.52954 215.65656,387.52505 220.70706,386.89734 225.75757,385.69916 230.80807,384.7386 235.85858,383.91663 240.90909,382.65982 245.9596,381.9775 251.0101,381.0441 256.0606,377.62482 261.1111,377.16287 266.16162,376.81003 271.21213,375.86243 276.26263,376.11862 281.3131,375.6072 286.36365,375.32822 291.41412,374.68164 296.46466,373.57928 301.51514,374.05005 306.56567,372.44693 311.61615,372.10458 316.66666,372.1122 321.71716,370.5464 326.76767,369.37238 331.81818,369.50235 336.86868,369.17453 341.9192,368.713 346.9697,367.80896 352.0202,366.87027 357.0707,372.83624 362.12122,371.3234 367.1717,372.5166 372.22223,372.96106 377.2727,372.1292 382.32324,374.17725 387.37372,370.28992 392.42426,369.15808 397.47473,369.26245 402.52527,368.49817 407.57574,368.86688 412.62625,351.4886 417.67676,368.5441 422.72726,367.27676 427.77777,366.7895 432.82828,366.23413 437.87878,366.2948 442.9293,365.79916 447.9798,366.0875 453.0303,365.15256 458.0808,363.90115 463.13132,363.50702 468.18182,364.20486 473.23233,364.3317 478.28284,364.12335 483.3333,364.85706 488.38382,364.7779 493.43433,363.3847 498.48483,362.38474 503.53534,364.16516 508.58585,364.6302 513.63635,361.50497 518.6869,361.52917 523.73737,360.78217 528.78784,360.48138 533.8384,360.45306 538.8889,358.91705 543.9394,358.81607 548.98987,357.99557 554.0404,357.9101 559.09094,358.26212 564.1414,354.31866 569.1919,355.5173 574.24243,355.42725 579.2929,355.83997 584.3434,353.15732 589.3939,316.95648 594.44446,352.92822 599.49493,354.2788 604.5454,354.42184 609.59595,351.89014 614.6465,351.70093 619.69696,349.6106 624.74744,349.80637 629.798,352.0659 634.8485,352.5744 639.899,350.7292 644.94946,349.36908 650,349.76248 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.42227 160.10101,397.84644 165.15152,395.71457 170.20203,392.90552 175.25253,389.83783 180.30302,385.99475 185.35353,381.8566 190.40404,377.2631 195.45454,372.80206 200.50505,367.15616 205.55556,362.0691 210.60606,355.94537 215.65656,349.5792 220.70706,343.01398 225.75757,336.37177 230.80807,328.49564 235.85858,320.51862 240.90909,311.20892 245.9596,302.68607 251.0101,292.1504 256.0606,284.69604 261.1111,274.64465 266.16162,264.33496 271.21213,253.64815 276.26263,243.4726 281.3131,232.6795 286.36365,219.45483 291.41412,209.14627 296.46466,195.55708 301.51514,181.85985 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,399.99222 155.0505,399.38416 160.10101,398.1118 165.15152,396.7235 170.20203,394.5992 175.25253,393.1466 180.30302,391.187 185.35353,389.48413 190.40404,387.94806 195.45454,385.05853 200.50505,383.3575 205.55556,381.1239 210.60606,377.58954 215.65656,376.36282 220.70706,374.60815 225.75757,370.36563 230.80807,368.48944 235.85858,366.98593 240.90909,363.4621 245.9596,361.79498 251.0101,359.61566 256.0606,357.04056 261.1111,351.14935 266.16162,352.76303 271.21213,348.78696 276.26263,345.89252 281.3131,341.68372 286.36365,339.60147 291.41412,334.724 296.46466,333.7348 301.51514,332.80872 306.56567,331.31824 311.61615,327.69626 316.66666,325.0012 321.71716,320.25693 326.76767,319.72174 331.81818,316.16122 336.86868,307.92184 341.9192,313.28003 346.9697,309.23694 352.0202,305.98074 357.0707,299.2797 362.12122,293.78217 367.1717,295.06653 372.22223,291.63727 377.2727,291.43338 382.32324,285.72528 387.37372,283.17862 392.42426,280.7101 397.47473,274.79312 402.52527,278.34293 407.57574,266.59695 412.62625,268.05392 417.67676,262.44803 422.72726,259.39383 427.77777,259.0327 432.82828,255.20709 437.87878,252.04897 442.9293,248.88037 447.9798,249.34055 453.0303,243.76111 458.0808,241.37672 463.13132,235.70251 468.18182,229.28787 473.23233,229.26157 478.28284,223.6009 483.3333,223.74365 488.38382,220.4345 493.43433,213.2524 498.48483,214.25732 503.53534,209.15039 508.58585,206.25038 513.63635,202.69685 518.6869,196.58925 523.73737,195.72124 528.78784,196.10117 533.8384,188.69109 538.8889,186.77866 543.9394,179.24576 548.98987,184.88412 554.0404,173.69383 559.09094,168.81723 564.1414,171.26874 569.1919,171.62526 574.24243,167.44908 579.2929,153.037 584.3434,156.80779 589.3939,151.40384 594.44446,152.9501 599.49493,151.28108 604.5454,146.00264 609.59595,139.80115 614.6465,140.5856 619.69696,128.4957 624.74744,124.33499 629.798,121.62286 634.8485,125.86807 639.899,114.365234 644.94946,100 650,115.19534 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,399.9905 155.0505,399.4156 160.10101,398.15036 165.15152,396.69586 170.20203,394.61258 175.25253,393.24634 180.30302,391.21634 185.35353,389.54297 190.40404,388.19577 195.45454,385.33435 200.50505,383.49207 205.55556,381.19223 210.60606,377.80426 215.65656,376.45697 220.70706,374.9345 225.75757,370.61877 230.80807,369.00763 235.85858,367.55826 240.90909,364.25528 245.9596,362.40497 251.0101,360.41037 256.0606,363.1045 261.1111,358.2233 266.16162,360.02948 271.21213,357.37784 276.26263,354.48145 281.3131,351.57153 286.36365,350.6583 291.41412,347.83075 296.46466,347.05286 301.51514,349.1456 306.56567,345.62814 311.61615,344.2129 316.66666,340.9471 321.71716,338.19635 326.76767,339.14047 331.81818,336.65207 336.86868,330.43295 341.9192,335.24826 346.9697,332.3609 352.0202,331.1405 357.0707,336.73645 362.12122,334.05524 367.1717,333.37775 372.22223,334.5232 377.2727,338.63757 382.32324,330.20157 387.37372,332.13824 392.42426,331.82648 397.47473,325.8103 402.52527,329.0968 407.57574,319.59317 412.62625,322.837 417.67676,320.866 422.72726,318.92123 427.77777,319.85083 432.82828,315.98798 437.87878,315.8514 442.9293,315.6601 447.9798,314.105 453.0303,311.44305 458.0808,309.9654 463.13132,309.28842 468.18182,304.1912 473.23233,306.79596 478.28284,305.22156 483.3333,305.706 488.38382,301.7627 493.43433,292.89023 498.48483,299.26804 503.53534,299.10077 508.58585,295.534 513.63635,296.32178 518.6869,293.1988 523.73737,287.9853 528.78784,292.90176 533.8384,288.0111 538.8889,289.32126 543.9394,280.67487 548.98987,290.4497 554.0404,282.27338 559.09094,281.6931 564.1414,278.2752 569.1919,280.98053 574.24243,281.08325 579.2929,268.30063 584.3434,271.9601 589.3939,271.02045 594.44446,273.39688 599.49493,276.1016 604.5454,271.2414 609.59595,266.4893 614.6465,267.45877 619.69696,261.30396 624.74744,259.09766 629.798,258.98914 634.8485,259.95193 639.899,249.10744 644.94946,242.86284 650,243.24245 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,399.97455 155.0505,399.43802 160.10101,398.27673 165.15152,396.7411 170.20203,395.07098 175.25253,393.1586 180.30302,391.28003 185.35353,389.21545 190.40404,386.96542 195.45454,384.7152 200.50505,382.29025 205.55556,379.77005 210.60606,377.21768 215.65656,374.65668 220.70706,371.99985 225.75757,369.02032 230.80807,365.92975 235.85858,363.1051 240.90909,360.13303 245.9596,356.8946 251.0101,353.55945 256.0606,350.45853 261.1111,347.1298 266.16162,343.71478 271.21213,339.84857 276.26263,336.37814 281.3131,333.12494 286.36365,329.82306 291.41412,326.14227 296.46466,322.10864 301.51514,318.26337 306.56567,314.66766 311.61615,310.6441 316.66666,306.68564 321.71716,302.6574 326.76767,298.6137 331.81818,294.2135 336.86868,281.5451 341.9192,285.49954 346.9697,280.73383 352.0202,277.26855 357.0707,273.36734 362.12122,268.66833 367.1717,263.99722 372.22223,259.69403 377.2727,255.10536 382.32324,250.49004 387.37372,246.27968 392.42426,241.70811 397.47473,237.66388 402.52527,232.69308 407.57574,227.1465 412.62625,222.7283 417.67676,217.39064 422.72726,212.00026 427.77777,207.4559 432.82828,202.60329 437.87878,197.01045 442.9293,192.22528 447.9798,187.26357 453.0303,182.69363 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(x,0.05)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="189.8724" y="430" >0.5</text><line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="256.32642" y="430" >1.0</text><line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="322.78046" y="430" >1.5</text><line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="389.23444" y="430" >2.0</text><line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="455.68848" y="430" >2.5</text><line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="522.14246" y="430" >3.0</text><line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="588.5965" y="430" >3.5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.22528" y2="365.22528" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="365.22528" >100000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.4506" y2="330.4506" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="330.4506" >200000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.67587" y2="295.67587" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="295.67587" >300000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.90118" y2="260.90118" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="260.90118" >400000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.12646" y2="226.12646" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="226.12646" >500000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.35175" y2="191.35175" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="191.35175" >600000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="156.57706" y2="156.57706" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="156.57706" >700000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.80234" y2="121.80234" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="121.80234" >800000</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="189.8724" y="430" >0.5</text><line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="256.32642" y="430" >1.0</text><line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="322.78046" y="430" >1.5</text><line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="389.23444" y="430" >2.0</text><line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="455.68848" y="430" >2.5</text><line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="522.14246" y="430" >3.0</text><line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="588.5965" y="430" >3.5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0.00</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="352.12396" y2="352.12396" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="352.12396" >0.01</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="304.2479" y2="304.2479" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="304.2479" >0.02</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="256.37183" y2="256.37183" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="256.37183" >0.03</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.49579" y2="208.49579" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="208.49579" >0.04</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="160.61975" y2="160.61975" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="160.61975" >0.05</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="112.74368" y2="112.74368" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="112.74368" >0.06</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,342.35898 155.0505,345.26285 160.10101,347.14508 165.15152,348.622 170.20203,348.91418 175.25253,351.29034 180.30304,353.06036 185.35353,353.28125 190.40405,354.08823 195.45454,354.97217 200.50505,356.026 205.55556,356.42715 210.60606,357.22974 215.65657,357.66595 220.70708,357.64612 225.75757,358.49356 230.80809,359.01407 235.8586,359.84375 240.90909,360.27542 245.9596,360.53848 251.0101,360.1916 256.0606,360.86545 261.1111,361.35373 266.16162,361.78723 271.21213,361.83783 276.26263,361.81152 281.31314,362.25052 286.36365,362.4179 291.41415,362.9546 296.46466,363.21692 301.51514,363.0185 306.56567,363.54523 311.61615,363.6849 316.6667,363.73108 321.71716,363.6179 326.76767,364.27902 331.81818,364.62503 336.86868,364.99582 341.9192,365.08725 346.96973,365.69763 352.0202,367.69925 357.0707,365.93478 362.12122,365.87665 367.17172,366.6553 372.22223,366.72833 377.27274,366.56827 382.32324,366.53693 387.37372,367.11823 392.42426,367.3857 397.47476,366.98047 402.52527,367.46878 407.57578,367.72943 412.62628,367.84268 417.6768,367.82248 422.7273,368.16962 427.77777,367.67 432.8283,368.1831 437.87878,368.42065 442.92932,368.28574 447.9798,368.56454 453.0303,366.32925 458.0808,368.45447 463.13132,368.76758 468.18185,368.56454 473.23233,368.69455 478.28284,368.44638 483.33334,368.87317 488.38385,369.18588 493.43436,368.95096 498.48486,369.1703 503.53534,368.95645 508.58588,369.18777 513.63635,369.16663 518.6869,369.30582 523.7374,369.78058 528.7879,369.19806 533.8384,369.61 538.8889,369.45074 543.93945,369.4645 548.98987,369.713 554.0404,369.90082 559.09094,369.8712 564.1414,368.19336 569.19196,369.42096 574.24243,369.72617 579.29297,369.8103 584.34344,370.14606 589.3939,370.34262 594.44446,370.1401 599.495,370.3962 604.5455,370.62656 609.59595,370.22278 614.6465,369.79813 619.697,370.31082 624.7475,370.14362 629.798,369.061 634.8485,370.6105 639.899,370.62173 644.9495,370.56073 650,370.331 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,370.95944 155.0505,381.20026 160.10101,382.42007 165.15152,383.18082 170.20203,382.20856 175.25253,384.24515 180.30304,383.9981 185.35353,383.96954 190.40405,384.3293 195.45454,384.98294 200.50505,385.4477 205.55556,384.59573 210.60606,384.95575 215.65657,386.73853 220.70708,385.5297 225.75757,386.05923 230.80809,386.01877 235.8586,386.45996 240.90909,387.32785 245.9596,386.57367 251.0101,386.26724 256.0606,386.0261 261.1111,386.35342 266.16162,387.08066 271.21213,386.41452 276.26263,385.5157 281.31314,387.4621 286.36365,387.53098 291.41415,387.96173 296.46466,387.20175 301.51514,386.8586 306.56567,387.7371 311.61615,386.64078 316.6667,387.83893 321.71716,387.34863 326.76767,387.366 331.81818,386.93518 336.86868,388.0042 341.9192,387.4366 346.96973,388.49045 352.0202,388.70444 357.0707,386.93378 362.12122,388.15704 367.17172,387.36447 372.22223,388.11618 377.27274,388.17175 382.32324,387.52258 387.37372,388.54593 392.42426,389.08307 397.47476,387.35114 402.52527,388.64423 407.57578,388.08188 412.62628,388.53146 417.6768,388.6282 422.7273,389.05927 427.77777,387.44824 432.8283,389.2 437.87878,389.2976 442.92932,387.86914 447.9798,389.55426 453.0303,386.83148 458.0808,389.12552 463.13132,389.1562 468.18185,388.45538 473.23233,388.967 478.28284,389.0254 483.33334,388.55646 488.38385,387.9355 493.43436,388.56134 498.48486,388.66965 503.53534,389.30765 508.58588,389.3209 513.63635,383.45346 518.6869,389.4594 523.7374,389.36407 528.7879,388.73004 533.8384,389.6348 538.8889,389.08035 543.93945,389.69482 548.98987,388.88385 554.0404,389.93796 559.09094,389.38974 564.1414,387.87415 569.19196,388.15805 574.24243,389.0216 579.29297,388.90628 584.34344,389.53198 589.3939,388.19403 594.44446,388.39282 599.495,389.10416 604.5455,388.06354 609.59595,384.1355 614.6465,388.47824 619.697,389.054 624.7475,387.98386 629.798,388.45288 634.8485,388.93866 639.899,388.8968 644.9495,389.6266 650,389.0079 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,260.9943 155.0505,273.05167 160.10101,280.3076 165.15152,287.61493 170.20203,289.0776 175.25253,296.3307 180.30304,299.5054 185.35353,302.1393 190.40405,304.68054 195.45454,308.20343 200.50505,310.44385 205.55556,311.78848 210.60606,313.6169 215.65657,315.45807 220.70708,315.2074 225.75757,318.18674 230.80809,319.7849 235.8586,320.4081 240.90909,321.1265 245.9596,321.96494 251.0101,323.14014 256.0606,324.44916 261.1111,324.5979 266.16162,326.1354 271.21213,326.07065 276.26263,326.30084 281.31314,327.64984 286.36365,327.4643 291.41415,328.49393 296.46466,328.81992 301.51514,329.35464 306.56567,330.4426 311.61615,330.93033 316.6667,331.43463 321.71716,331.15787 326.76767,332.2193 331.81818,332.80737 336.86868,333.50992 341.9192,334.10416 346.96973,334.84604 352.0202,336.70258 357.0707,335.48547 362.12122,335.04922 367.17172,336.21252 372.22223,336.77942 377.27274,336.98584 382.32324,336.7567 387.37372,338.40976 392.42426,338.39395 397.47476,337.88306 402.52527,338.47638 407.57578,338.813 412.62628,338.9793 417.6768,339.12128 422.7273,339.65405 427.77777,339.2332 432.8283,339.81012 437.87878,340.54434 442.92932,340.18893 447.9798,340.8569 453.0303,338.5351 458.0808,341.35693 463.13132,341.8045 468.18185,341.62915 473.23233,341.2581 478.28284,341.94217 483.33334,342.42255 488.38385,342.72357 493.43436,342.39673 498.48486,342.5066 503.53534,342.67163 508.58588,343.0378 513.63635,343.06265 518.6869,343.44336 523.7374,343.93375 528.7879,342.91296 533.8384,344.07422 538.8889,343.93652 543.93945,344.1942 548.98987,344.43872 554.0404,344.37238 559.09094,344.62622 564.1414,342.9982 569.19196,343.99762 574.24243,344.96075 579.29297,344.96014 584.34344,345.54837 589.3939,345.37363 594.44446,345.46426 599.495,346.01453 604.5455,345.81165 609.59595,345.815 614.6465,345.94894 619.697,345.9668 624.7475,345.68567 629.798,345.03793 634.8485,345.92712 639.899,345.83807 644.9495,346.1847 650,346.16125 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,347.10126 155.0505,354.68436 160.10101,357.26114 165.15152,360.55692 170.20203,360.01108 175.25253,364.3249 180.30304,364.77536 185.35353,366.3244 190.40405,366.06918 195.45454,368.80124 200.50505,369.56403 205.55556,368.83252 210.60606,370.63718 215.65657,372.13528 220.70708,371.17596 225.75757,372.52048 230.80809,373.66135 235.8586,373.52536 240.90909,373.34558 245.9596,373.59857 251.0101,373.58313 256.0606,375.09515 261.1111,374.6179 266.16162,375.3483 271.21213,374.54095 276.26263,375.29132 281.31314,375.16986 286.36365,376.75253 291.41415,376.7805 296.46466,376.90173 301.51514,376.8215 306.56567,377.46506 311.61615,377.5273 316.6667,376.57532 321.71716,377.63205 326.76767,377.23315 331.81818,376.8185 336.86868,377.7432 341.9192,377.68246 346.96973,378.33862 352.0202,379.34207 357.0707,378.50308 362.12122,378.96936 367.17172,379.15128 372.22223,379.16803 377.27274,379.2887 382.32324,378.60684 387.37372,379.75253 392.42426,379.90262 397.47476,378.68192 402.52527,379.47174 407.57578,380.18225 412.62628,372.85687 417.6768,380.4057 422.7273,380.64578 427.77777,379.73764 432.8283,380.4245 437.87878,380.40488 442.92932,381.2166 447.9798,380.7178 453.0303,379.32315 458.0808,381.04904 463.13132,381.14954 468.18185,380.9238 473.23233,380.70654 478.28284,381.3454 483.33334,380.83408 488.38385,381.01144 493.43436,381.11505 498.48486,381.571 503.53534,379.97443 508.58588,381.29562 513.63635,382.08804 518.6869,381.31335 523.7374,382.08594 528.7879,380.84137 533.8384,381.68185 538.8889,381.38 543.93945,381.4396 548.98987,382.1796 554.0404,382.28018 559.09094,382.4567 564.1414,380.41666 569.19196,376.16254 574.24243,381.90176 579.29297,382.4621 584.34344,383.0022 589.3939,382.15863 594.44446,381.35388 599.495,381.96103 604.5455,382.29187 609.59595,382.54666 614.6465,381.47995 619.697,382.1515 624.7475,380.8266 629.798,380.94464 634.8485,381.66364 639.899,382.02774 644.9495,381.95447 650,382.1952 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,100 155.0505,125.46466 160.10101,145.59128 165.15152,160.93439 170.20203,172.41565 175.25253,185.42795 180.30304,194.92406 185.35353,202.8952 190.40405,210.89742 195.45454,217.0881 200.50505,223.01785 205.55556,227.38829 210.60606,233.15334 215.65657,237.05122 220.70708,240.55077 225.75757,244.85895 230.80809,248.88705 235.8586,252.09846 240.90909,254.7056 245.9596,257.68176 251.0101,259.1962 256.0606,262.6139 261.1111,264.61163 266.16162,267.19885 271.21213,268.66016 276.26263,270.26373 281.31314,272.51672 286.36365,274.162 291.41415,275.758 296.46466,277.24854 301.51514,279.57825 306.56567,279.96564 311.61615,281.89148 316.6667,283.3731 321.71716,284.5838 326.76767,285.491 331.81818,287.266 336.86868,288.58194 341.9192,290.1025 346.96973,291.40933 352.0202,294.26462 357.0707,293.67627 362.12122,294.64526 367.17172,295.8184 372.22223,296.49518 377.27274,297.32828 382.32324,298.43048 387.37372,299.1903 392.42426,300.20767 397.47476,300.73602 402.52527,301.77148 407.57578,302.4555 412.62628,303.1451 417.6768,304.02563 422.7273,304.69693 427.77777,305.29776 432.8283,305.88385 437.87878,306.3667 442.92932,307.1333 447.9798,307.8506 453.0303,306.73264 458.0808,308.5472 463.13132,309.439 468.18185,309.7836 473.23233,310.32648 478.28284,310.60153 483.33334,311.34818 488.38385,311.78918 493.43436,312.36636 498.48486,312.9556 503.53534,313.27902 508.58588,313.3898 513.63635,313.88742 518.6869,315.052 523.7374,315.11273 528.7879,314.83594 533.8384,315.99588 538.8889,315.98593 543.93945,316.52966 548.98987,316.682 554.0404,317.01874 559.09094,317.64777 564.1414,316.68658 569.19196,318.04236 574.24243,318.50854 579.29297,319.05472 584.34344,319.36334 589.3939,319.70508 594.44446,320.03796 599.495,320.11584 604.5455,320.7791 609.59595,321.17657 614.6465,321.4636 619.697,321.75504 624.7475,322.15292 629.798,320.71228 634.8485,322.5118 639.899,322.90503 644.9495,323.12183 650,322.9759 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(30_000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0.000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >0.005</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >0.015</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="389.64188" y2="389.64188" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="389.64188" >2000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.5106" y2="353.5106" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="353.5106" >4000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="317.3793" y2="317.3793" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="317.3793" >6000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="281.248" y2="281.248" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="281.248" >8000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="245.1167" y2="245.1167" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="245.1167" >10000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.98541" y2="208.98541" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="208.98541" >12000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="172.85413" y2="172.85413" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="172.85413" >14000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.72284" y2="136.72284" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="136.72284" >16000000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100.59155" y2="100.59155" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="100.59155" >18000000</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0.000</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >0.001</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >0.002</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >0.003</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >0.004</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="379.75024" y2="379.75024" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="379.75024" >0.008</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="342.77567" y2="342.77567" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="342.77567" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="305.8011" y2="305.8011" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="305.8011" >0.012</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="268.82654" y2="268.82654" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="268.82654" >0.014</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="231.85193" y2="231.85193" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="231.85193" >0.016</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="194.87738" y2="194.87738" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="194.87738" >0.018</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="157.90283" y2="157.90283" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="157.90283" >0.020</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="120.92825" y2="120.92825" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="120.92825" >0.022</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,241.12856 155.0505,240.14044 160.10101,240.48407 165.15152,240.6853 170.20203,238.58875 175.25253,240.70294 180.30304,239.19467 185.35353,229.89236 190.40404,224.5758 195.45454,211.0747 200.50505,201.94576 205.55556,190.91913 210.60606,184.49817 215.65656,177.30981 220.70706,174.68501 225.75757,167.50293 230.80807,169.95006 235.85858,164.53773 240.90909,172.33815 245.9596,176.26418 251.0101,176.01904 256.0606,186.85953 261.1111,192.74483 266.16162,195.28091 271.21213,205.9813 276.26263,213.0309 281.3131,226.23166 286.36365,230.359 291.41412,241.68845 296.46466,245.54474 301.51514,250.00186 306.56567,256.13565 311.61615,245.70552 316.6667,264.9309 321.71716,265.89014 326.7677,270.31714 331.81818,276.93832 336.86868,283.40002 341.9192,285.20233 346.9697,290.58978 352.0202,294.35413 357.0707,295.91998 362.12122,298.9488 367.17172,304.09082 372.22223,308.58746 377.2727,310.90887 382.32324,311.83954 387.37372,314.44833 392.42426,317.80695 397.47473,320.499 402.52527,323.21558 407.57578,325.8338 412.62625,326.6373 417.67676,330.12247 422.7273,334.00174 427.77777,335.85782 432.82828,335.5984 437.87878,338.87973 442.9293,337.5951 447.9798,343.61804 453.0303,344.97473 458.0808,344.102 463.13132,347.9678 468.18182,350.5039 473.23233,350.79037 478.28284,351.22968 483.33334,355.25247 488.38382,356.33902 493.43436,359.39157 498.48483,357.40897 503.53537,359.9491 508.58588,360.0631 513.63635,362.94348 518.6869,363.9922 523.73737,367.26938 528.78784,367.21616 533.8384,367.74075 538.8889,370.13705 543.9394,371.52612 548.98987,372.27747 554.0404,371.30215 559.09094,375.0188 564.1414,376.02628 569.1919,376.49188 574.24243,376.1717 579.29297,378.475 584.34344,381.69736 589.3939,381.08347 594.44446,383.48962 599.49493,382.32092 604.5454,384.51984 609.59595,384.90494 614.6465,384.96884 619.69696,386.61105 624.74744,386.87723 629.798,388.19766 634.8485,389.48553 639.89905,390.52005 644.94946,390.19745 650,392.49725 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,243.64047 155.0505,242.42336 160.10101,242.7584 165.15152,242.95638 170.20203,240.92226 175.25253,241.98575 180.30304,241.68613 185.35353,234.7091 190.40404,230.63614 195.45454,220.33614 200.50505,213.1619 205.55556,206.44275 210.60606,203.46893 215.65656,198.41945 220.70706,198.0597 225.75757,192.32588 230.80807,194.4522 235.85858,193.52995 240.90909,199.09662 245.9596,203.48119 251.0101,203.14937 256.0606,212.43245 261.1111,218.68452 266.16162,220.07227 271.21213,230.8872 276.26263,236.74062 281.3131,248.65494 286.36365,251.80183 291.41412,262.01855 296.46466,265.39572 301.51514,269.39746 306.56567,274.334 311.61615,268.0247 316.6667,283.16022 321.71716,283.98508 326.7677,288.11777 331.81818,294.7853 336.86868,299.9585 341.9192,301.28284 346.9697,307.23407 352.0202,310.18933 357.0707,314.74054 362.12122,316.48132 367.17172,321.88068 372.22223,325.3543 377.2727,328.47525 382.32324,331.02985 387.37372,331.76788 392.42426,334.46564 397.47473,335.93286 402.52527,339.21442 407.57578,341.7634 412.62625,342.0306 417.67676,344.86063 422.7273,349.05374 427.77777,350.89725 432.82828,348.9364 437.87878,351.69595 442.9293,351.91528 447.9798,356.06998 453.0303,356.6041 458.0808,357.0334 463.13132,357.57578 468.18182,360.9034 473.23233,361.4843 478.28284,362.21344 483.33334,365.55334 488.38382,365.08737 493.43436,368.45032 498.48483,367.39142 503.53537,370.17056 508.58588,369.3417 513.63635,372.1714 518.6869,369.28156 523.73737,375.62753 528.78784,378.48596 533.8384,378.7357 538.8889,380.40042 543.9394,381.15558 548.98987,381.88568 554.0404,380.7552 559.09094,385.5915 564.1414,386.64282 569.1919,387.32498 574.24243,387.693 579.29297,388.91403 584.34344,391.05066 589.3939,391.05957 594.44446,390.577 599.49493,392.01367 604.5454,394.88712 609.59595,395.09055 614.6465,395.5473 619.69696,396.81946 624.74744,396.8738 629.798,396.45844 634.8485,397.71054 639.89905,397.33566 644.94946,400 650,399.57095 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,235.03896 155.0505,235.18352 160.10101,234.3203 165.15152,233.56836 170.20203,235.08252 175.25253,234.52863 180.30304,233.60028 185.35353,230.28603 190.40404,224.62102 195.45454,220.59361 200.50505,212.11555 205.55556,205.74292 210.60606,192.81624 215.65656,201.44781 220.70706,200.34004 225.75757,190.50201 230.80807,194.98322 235.85858,189.69627 240.90909,186.41142 245.9596,186.65967 251.0101,186.75768 256.0606,179.57565 261.1111,183.80174 266.16162,189.56601 271.21213,195.39781 276.26263,195.95189 281.3131,192.04045 286.36365,192.42754 291.41412,196.2268 296.46466,196.25902 301.51514,197.76176 306.56567,198.74678 311.61615,198.99316 316.6667,196.6826 321.71716,198.25388 326.7677,198.74448 331.81818,203.62317 336.86868,205.21376 341.9192,207.32925 346.9697,204.32698 352.0202,203.10504 357.0707,206.20663 362.12122,206.92368 367.17172,207.11328 372.22223,209.5033 377.2727,209.3752 382.32324,207.25941 387.37372,210.3409 392.42426,210.29227 397.47473,208.50793 402.52527,209.70401 407.57578,208.94864 412.62625,212.08205 417.67676,215.69537 422.7273,216.26465 427.77777,216.2116 432.82828,213.56816 437.87878,214.26634 442.9293,216.54509 447.9798,215.67612 453.0303,211.36348 458.0808,217.90419 463.13132,217.34323 468.18182,215.6679 473.23233,216.75584 478.28284,218.44809 483.33334,216.93011 488.38382,216.25237 493.43436,214.8934 498.48483,217.6171 503.53537,220.3619 508.58588,223.5172 513.63635,222.9976 518.6869,224.08728 523.73737,224.034 528.78784,223.31665 533.8384,224.01237 538.8889,223.46872 543.9394,220.56534 548.98987,221.64159 554.0404,221.45395 559.09094,222.21823 564.1414,225.11296 569.1919,222.7297 574.24243,225.06337 579.29297,223.36258 584.34344,223.08134 589.3939,224.1274 594.44446,225.07172 599.49493,220.47763 604.5454,223.96658 609.59595,221.70335 614.6465,227.16702 619.69696,227.92853 624.74744,227.09901 629.798,230.29243 634.8485,224.67595 639.89905,226.81027 644.94946,227.4701 650,224.977 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,237.18344 155.0505,236.94185 160.10101,237.50476 165.15152,237.3017 170.20203,237.26823 175.25253,236.93513 180.30304,234.84392 185.35353,229.79681 190.40404,215.32756 195.45454,202.12633 200.50505,185.97798 205.55556,194.95609 210.60606,177.80426 215.65656,139.19803 220.70706,154.93141 225.75757,146.51578 230.80807,145.52469 235.85858,110.83035 240.90909,133.93427 245.9596,138.58069 251.0101,116.10205 256.0606,122.55911 261.1111,111.15494 266.16162,132.65475 271.21213,118.64139 276.26263,125.07593 281.3131,138.98495 286.36365,131.93451 291.41412,133.52402 296.46466,140.33447 301.51514,140.66284 306.56567,153.48901 311.61615,155.7782 316.6667,153.95985 321.71716,153.38739 326.7677,158.88692 331.81818,153.09401 336.86868,159.3865 341.9192,163.03085 346.9697,170.27557 352.0202,160.34355 357.0707,176.01074 362.12122,168.52661 367.17172,173.73367 372.22223,176.20956 377.2727,180.84465 382.32324,172.40929 387.37372,160.5197 392.42426,193.8635 397.47473,194.96872 402.52527,184.16335 407.57578,183.69069 412.62625,205.22423 417.67676,206.05608 422.7273,197.78966 427.77777,195.56021 432.82828,209.63914 437.87878,222.36595 442.9293,196.55147 447.9798,212.84808 453.0303,209.12268 458.0808,214.30832 463.13132,231.97157 468.18182,210.9847 473.23233,220.79185 478.28284,219.14423 483.33334,212.86606 488.38382,240.18634 493.43436,228.47784 498.48483,229.98854 503.53537,223.88834 508.58588,213.17781 513.63635,234.66922 518.6869,251.02104 523.73737,251.2968 528.78784,247.84233 533.8384,203.36342 538.8889,240.66403 543.9394,255.7279 548.98987,249.32277 554.0404,254.7226 559.09094,233.22136 564.1414,256.71756 569.1919,247.48703 574.24243,260.8991 579.29297,255.75194 584.34344,236.13304 589.3939,254.5121 594.44446,267.3052 599.49493,270.11224 604.5454,253.81126 609.59595,257.37933 614.6465,267.06268 619.69696,279.22388 624.74744,274.0554 629.798,261.35895 634.8485,272.26257 639.89905,262.99213 644.94946,276.89218 650,269.94696 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,220.42795 155.0505,219.44771 160.10101,219.42319 165.15152,220.12495 170.20203,219.67203 175.25253,219.6988 180.30304,217.22832 185.35353,212.53583 190.40404,198.82323 195.45454,185.2262 200.50505,170.09018 205.55556,180.24504 210.60606,162.417 215.65656,124.99988 220.70706,140.60974 225.75757,133.001 230.80807,133.8754 235.85858,100.00003 240.90909,122.16788 245.9596,127.834595 251.0101,107.360565 256.0606,112.342896 261.1111,103.43741 266.16162,122.835724 271.21213,110.055695 276.26263,115.22366 281.3131,131.75238 286.36365,123.43494 291.41412,125.97281 296.46466,130.15369 301.51514,130.74261 306.56567,142.29996 311.61615,143.64847 316.6667,143.03522 321.71716,141.94315 326.7677,147.87549 331.81818,142.03098 336.86868,148.08774 341.9192,151.92004 346.9697,158.23192 352.0202,148.35905 357.0707,159.49814 362.12122,154.94359 367.17172,160.89618 372.22223,165.06346 377.2727,166.74307 382.32324,162.53209 387.37372,150.36354 392.42426,180.07906 397.47473,180.96608 402.52527,171.50464 407.57578,173.33826 412.62625,191.73518 417.67676,192.56056 422.7273,188.66438 427.77777,179.42545 432.82828,197.34747 437.87878,207.34901 442.9293,184.46979 447.9798,197.1589 453.0303,195.17499 458.0808,200.67213 463.13132,215.89365 468.18182,196.0022 473.23233,206.60216 478.28284,206.61734 483.33334,198.36018 488.38382,224.08871 493.43436,215.40674 498.48483,217.25311 503.53537,211.83194 508.58588,200.30919 513.63635,221.87512 518.6869,236.02838 523.73737,239.28682 528.78784,237.7521 533.8384,193.62103 538.8889,231.4068 543.9394,241.24306 548.98987,239.13971 554.0404,246.88069 559.09094,224.89258 564.1414,248.44395 569.1919,239.10814 574.24243,251.06718 579.29297,247.89302 584.34344,225.58792 589.3939,246.84836 594.44446,261.92126 599.49493,261.4969 604.5454,248.50093 609.59595,248.75871 614.6465,260.6667 619.69696,272.42828 624.74744,264.53748 629.798,259.88068 634.8485,269.23404 639.89905,260.27374 644.94946,270.6362 650,264.91412 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,268.32892 155.0505,268.2853 160.10101,268.8733 165.15152,268.0467 170.20203,267.60425 175.25253,268.624 180.30304,263.76172 185.35353,263.7079 190.40404,251.79787 195.45454,240.15607 200.50505,229.50876 205.55556,214.94778 210.60606,200.90016 215.65656,193.17812 220.70706,180.76811 225.75757,167.06097 230.80807,164.63371 235.85858,150.85045 240.90909,141.84503 245.9596,137.35452 251.0101,129.29929 256.0606,124.63757 261.1111,124.78497 266.16162,111.366516 271.21213,108.7894 276.26263,107.383545 281.3131,109.45917 286.36365,103.802704 291.41412,104.82001 296.46466,102.422 301.51514,107.29285 306.56567,109.48935 311.61615,101.86221 316.6667,102.572784 321.71716,102.65259 326.7677,108.58911 331.81818,109.75577 336.86868,113.18875 341.9192,110.41724 346.9697,109.54181 352.0202,112.25629 357.0707,122.69232 362.12122,118.08392 367.17172,117.94675 372.22223,117.73303 377.2727,120.209595 382.32324,118.239685 387.37372,120.65924 392.42426,125.305176 397.47473,123.8624 402.52527,127.79309 407.57578,129.16992 412.62625,133.32513 417.67676,136.0763 422.7273,137.12006 427.77777,138.47281 432.82828,139.73193 437.87878,140.61783 442.9293,146.59187 447.9798,146.46074 453.0303,151.85724 458.0808,149.36993 463.13132,152.82266 468.18182,157.55789 473.23233,155.10837 478.28284,158.26901 483.33334,161.34218 488.38382,163.25375 493.43436,166.01952 498.48483,167.9529 503.53537,167.04866 508.58588,173.74579 513.63635,172.0658 518.6869,173.31946 523.73737,178.0701 528.78784,177.18213 533.8384,178.82599 538.8889,181.80875 543.9394,183.67778 548.98987,184.7409 554.0404,187.34895 559.09094,188.03398 564.1414,187.5838 569.1919,193.13394 574.24243,193.70467 579.29297,196.55695 584.34344,199.00832 589.3939,196.3546 594.44446,202.67274 599.49493,203.30205 604.5454,205.34761 609.59595,203.6309 614.6465,209.33748 619.69696,209.67458 624.74744,212.12271 629.798,212.55986 634.8485,215.64441 639.89905,216.8588 644.94946,218.84416 650,217.79785 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
