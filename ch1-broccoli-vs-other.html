<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.51495" y2="346.51495"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.51495">
1.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.0299" y2="293.0299"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="293.0299">
2.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.54486" y2="239.54486"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="239.54486">
3.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="186.05981" y2="186.05981"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="186.05981">
4.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.5748" y2="132.5748"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="132.5748">
5.00e7
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.05627" y2="346.05627"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.05627">
2.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.11258" y2="292.11258"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="292.11258">
4.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.16885" y2="238.16885"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="238.16885">
6.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="184.22516" y2="184.22516"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="184.22516">
8.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130.28143" y2="130.28143"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="130.28143">
1.00e8
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.97" y2="346.97"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.97">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.93573" y2="293.93573"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="293.93573">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="240.90143" y2="240.90143"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="240.90143">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="187.86713" y2="187.86713"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="187.86713">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="134.83282" y2="134.83282"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="134.83282">
0.010
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.80206 155.0505,399.15274 160.10101,398.40778 165.15152,397.45154 170.20203,395.0594 175.25253,394.7882 180.30302,394.60913 185.35353,393.8127 190.40404,392.3056 195.45454,391.16895 200.50505,390.8067 205.55556,389.7692 210.60606,388.95996 215.65656,387.6844 220.70706,387.3258 225.75757,386.189 230.80807,385.11234 235.85858,383.6227 240.90909,383.20334 245.9596,381.2876 251.0101,381.34512 256.0606,380.07822 261.1111,378.98138 266.16162,377.9661 271.21213,377.44418 276.26263,376.4682 281.3131,375.4263 286.36365,374.08563 291.41412,373.34082 296.46466,372.07095 301.51514,371.45184 306.56567,368.92896 311.61615,369.2472 316.66666,368.71146 321.71716,367.6963 326.76767,365.859 331.81818,365.0835 336.86868,364.71002 341.9192,363.89194 346.9697,362.35233 352.0202,355.6245 357.0707,361.0441 362.12122,359.71713 367.1717,358.1155 372.22223,355.86996 377.2727,356.89777 382.32324,355.94128 387.37372,354.80566 392.42426,352.6498 397.47473,350.11017 402.52527,351.60577 407.57574,351.0347 412.62625,349.48322 417.67676,348.95074 422.72726,348.12903 427.77777,345.78775 432.82828,345.88486 437.87878,342.7862 442.9293,340.92834 447.9798,343.50958 453.0303,342.17404 458.0808,341.44647 463.13132,340.10773 468.18182,337.7905 473.23233,330.18625 478.28284,335.4068 483.3333,336.50995 488.38382,334.06537 493.43433,332.16342 498.48483,331.9233 503.53534,330.5574 508.58585,323.4619 513.63635,325.10248 518.6869,328.10263 523.73737,326.46072 528.78784,325.984 533.8384,325.70493 538.8889,325.0342 543.9394,322.99542 548.98987,321.79306 554.0404,320.38553 559.09094,320.46964 564.1414,317.33972 569.1919,315.9218 574.24243,315.34634 579.2929,315.10367 584.3434,313.2948 589.3939,312.50137 594.44446,311.42712 599.49493,310.17847 604.5454,309.71954 609.59595,308.5495 614.6465,308.36276 619.69696,306.8505 624.74744,305.54105 629.798,304.01724 634.8485,303.60205 639.899,303.36618 644.94946,301.2833 650,300.91312 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.4689 155.0505,398.99374 160.10101,398.20255 165.15152,397.60117 170.20203,395.62256 175.25253,394.91095 180.30302,394.48526 185.35353,393.3306 190.40404,392.41492 195.45454,391.36017 200.50505,390.7591 205.55556,389.7626 210.60606,388.78098 215.65656,387.38693 220.70706,387.17615 225.75757,386.0483 230.80807,384.78308 235.85858,382.1448 240.90909,383.07773 245.9596,381.82373 251.0101,379.0744 256.0606,377.4167 261.1111,377.23694 266.16162,379.5371 271.21213,379.61182 276.26263,376.96054 281.3131,376.9169 286.36365,376.14386 291.41412,372.86197 296.46466,374.81366 301.51514,371.21677 306.56567,373.12503 311.61615,374.25055 316.66666,366.7405 321.71716,369.784 326.76767,371.80737 331.81818,366.2457 336.86868,371.77432 341.9192,368.9523 346.9697,370.30484 352.0202,367.27585 357.0707,378.34222 362.12122,379.86273 367.1717,373.30725 372.22223,369.32492 377.2727,374.59232 382.32324,376.39984 387.37372,380.48438 392.42426,363.9626 397.47473,361.76318 402.52527,368.94217 407.57574,358.65955 412.62625,372.39017 417.67676,358.29468 422.72726,365.05676 427.77777,370.08478 432.82828,358.83194 437.87878,359.16666 442.9293,363.6322 447.9798,372.34164 453.0303,374.29004 458.0808,373.78387 463.13132,372.5467 468.18182,360.94073 473.23233,367.50946 478.28284,366.52737 483.3333,372.27847 488.38382,369.13068 493.43433,349.41782 498.48483,355.4749 503.53534,361.74896 508.58585,368.5939 513.63635,367.96625 518.6869,354.65866 523.73737,353.27582 528.78784,364.05536 533.8384,365.65466 538.8889,366.2673 543.9394,368.56833 548.98987,363.39584 554.0404,359.01407 559.09094,366.5204 564.1414,366.14417 569.1919,360.71014 574.24243,361.3589 579.2929,362.4541 584.3434,359.39722 589.3939,361.02158 594.44446,356.23254 599.49493,361.71988 604.5454,360.14554 609.59595,357.195 614.6465,359.60092 619.69696,355.13373 624.74744,357.10272 629.798,357.193 634.8485,359.452 639.899,359.9264 644.94946,358.93488 650,353.78433 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,398.83984 160.10101,396.64868 165.15152,393.47574 170.20203,389.81836 175.25253,386.58963 180.30302,382.1577 185.35353,375.55722 190.40404,370.20285 195.45454,361.82834 200.50505,352.4358 205.55556,348.03473 210.60606,341.31955 215.65656,326.27386 220.70706,318.96982 225.75757,312.76523 230.80807,299.3535 235.85858,294.9466 240.90909,279.96924 245.9596,266.4729 251.0101,259.71484 256.0606,243.3231 261.1111,231.29077 266.16162,213.45407 271.21213,204.1046 276.26263,186.04128 281.3131,175.16911 286.36365,156.64294 291.41412,145.47702 296.46466,121.59961 301.51514,100 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.975 155.0505,399.192 160.10101,397.9396 165.15152,396.50266 170.20203,394.1641 175.25253,393.15085 180.30302,385.78232 185.35353,390.35992 190.40404,386.86746 195.45454,386.63367 200.50505,384.70917 205.55556,380.32217 210.60606,382.1604 215.65656,376.45438 220.70706,378.9666 225.75757,373.52866 230.80807,373.8813 235.85858,372.39774 240.90909,369.93112 245.9596,366.58258 251.0101,362.19775 256.0606,366.95642 261.1111,364.02246 266.16162,362.9689 271.21213,358.76187 276.26263,358.00314 281.3131,355.59186 286.36365,353.7367 291.41412,352.19638 296.46466,349.61017 301.51514,347.77658 306.56567,343.57623 311.61615,340.09604 316.66666,342.32608 321.71716,338.70294 326.76767,335.86237 331.81818,335.0473 336.86868,329.05536 341.9192,324.0604 346.9697,326.81168 352.0202,324.10526 357.0707,325.69913 362.12122,320.94257 367.1717,323.5578 372.22223,319.9236 377.2727,318.3858 382.32324,313.89816 387.37372,313.30908 392.42426,308.11002 397.47473,304.90915 402.52527,305.8288 407.57574,304.94595 412.62625,299.02304 417.67676,298.36575 422.72726,297.44125 427.77777,293.6568 432.82828,290.7434 437.87878,286.17975 442.9293,286.9665 447.9798,282.69656 453.0303,274.74893 458.0808,279.74557 463.13132,273.81088 468.18182,276.54547 473.23233,275.228 478.28284,270.91687 483.3333,266.82227 488.38382,263.2287 493.43433,262.6491 498.48483,261.9302 503.53534,255.55345 508.58585,254.85054 513.63635,248.88994 518.6869,227.49408 523.73737,248.36688 528.78784,243.1282 533.8384,244.95845 538.8889,239.87537 543.9394,235.92746 548.98987,234.25525 554.0404,233.5434 559.09094,231.06824 564.1414,242.0462 569.1919,239.49008 574.24243,237.18657 579.2929,234.66081 584.3434,233.08344 589.3939,230.4191 594.44446,225.36354 599.49493,226.9785 604.5454,222.43942 609.59595,221.5675 614.6465,213.09743 619.69696,214.19731 624.74744,212.81288 629.798,211.58643 634.8485,207.23917 639.899,208.22011 644.94946,204.83101 650,202.14589 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.96722 155.0505,399.18866 160.10101,397.8914 165.15152,395.8779 170.20203,394.57477 175.25253,393.15466 180.30302,392.0279 185.35353,390.2699 190.40404,388.4299 195.45454,386.71423 200.50505,384.7053 205.55556,382.08752 210.60606,379.4177 215.65656,377.73602 220.70706,378.68542 225.75757,374.91537 230.80807,374.21283 235.85858,368.1663 240.90909,369.99942 245.9596,367.96524 251.0101,364.60895 256.0606,371.63147 261.1111,320.98288 266.16162,370.35025 271.21213,367.68402 276.26263,363.39185 281.3131,360.2084 286.36365,365.3539 291.41412,356.5976 296.46466,360.86563 301.51514,358.17444 306.56567,357.9574 311.61615,356.24295 316.66666,356.90488 321.71716,351.2016 326.76767,349.2386 331.81818,353.7772 336.86868,339.46 341.9192,346.59338 346.9697,343.6101 352.0202,343.04037 357.0707,331.13605 362.12122,361.95877 367.1717,353.04218 372.22223,357.79498 377.2727,342.46313 382.32324,342.5894 387.37372,345.55634 392.42426,353.07648 397.47473,350.54785 402.52527,352.91602 407.57574,350.9829 412.62625,344.22803 417.67676,351.37192 422.72726,348.08435 427.77777,347.37714 432.82828,348.81723 437.87878,344.55383 442.9293,326.9191 447.9798,323.05148 453.0303,328.83704 458.0808,336.86792 463.13132,339.65842 468.18182,336.5056 473.23233,301.62082 478.28284,314.46017 483.3333,333.79822 488.38382,335.6908 493.43433,334.0201 498.48483,331.77298 503.53534,321.0594 508.58585,312.01556 513.63635,323.93277 518.6869,111.8085 523.73737,324.43314 528.78784,331.1106 533.8384,326.51056 538.8889,329.63217 543.9394,331.954 548.98987,327.05667 554.0404,325.15692 559.09094,326.6178 564.1414,328.48093 569.1919,326.0222 574.24243,322.08148 579.2929,323.65704 584.3434,326.24933 589.3939,323.3726 594.44446,320.69974 599.49493,320.66748 604.5454,318.7522 609.59595,319.4054 614.6465,304.42212 619.69696,314.84222 624.74744,314.6474 629.798,312.13748 634.8485,314.07166 639.899,315.3021 644.94946,313.22272 650,308.27344 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.71573 155.0505,399.26035 160.10101,398.14758 165.15152,396.6852 170.20203,394.8356 175.25253,392.1785 180.30302,392.22473 185.35353,389.9709 190.40404,387.671 195.45454,386.18823 200.50505,384.39856 205.55556,382.479 210.60606,380.04196 215.65656,376.8421 220.70706,375.8971 225.75757,373.87534 230.80807,371.4601 235.85858,366.3006 240.90909,365.92352 245.9596,364.19803 251.0101,360.2575 256.0606,358.11935 261.1111,353.75504 266.16162,350.72644 271.21213,350.80145 276.26263,347.87155 281.3131,344.88757 286.36365,341.67273 291.41412,339.5662 296.46466,335.8964 301.51514,333.09 306.56567,327.47614 311.61615,327.5043 316.66666,322.44308 321.71716,320.64423 326.76767,318.6077 331.81818,313.2812 336.86868,309.41086 341.9192,308.48224 346.9697,298.9413 352.0202,301.04163 357.0707,295.05115 362.12122,295.1333 367.1717,287.6293 372.22223,285.5209 377.2727,279.88617 382.32324,278.78857 387.37372,277.29044 392.42426,273.4534 397.47473,266.8612 402.52527,263.0991 407.57574,258.36536 412.62625,256.56717 417.67676,253.1289 422.72726,249.34587 427.77777,240.34225 432.82828,242.2322 437.87878,240.08392 442.9293,236.32083 447.9798,232.81543 453.0303,224.59637 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.07092" y2="365.07092"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.07092">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.13992" y2="330.13992"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.13992">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.2089" y2="295.2089"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.2089">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.2779" y2="260.2779"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.2779">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="225.34686" y2="225.34686"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="225.34686">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="190.41583" y2="190.41583"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="190.41583">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="155.4848" y2="155.4848"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="155.4848">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="120.55377" y2="120.55377"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="120.55377">
0.016
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.99228 155.0505,399.52112 160.10101,398.6174 165.15152,397.6928 170.20203,396.77805 175.25253,395.8223 180.30302,394.3713 185.35353,393.502 190.40404,392.64777 195.45454,391.644 200.50505,390.67035 205.55556,389.342 210.60606,388.2006 215.65656,387.14304 220.70706,386.53204 225.75757,385.28317 230.80807,384.2729 235.85858,383.4275 240.90909,382.34113 245.9596,381.51642 251.0101,380.38663 256.0606,377.80026 261.1111,376.66968 266.16162,376.19202 271.21213,374.52124 276.26263,373.8119 281.3131,372.8594 286.36365,372.00708 291.41412,370.39703 296.46466,369.62314 301.51514,368.46194 306.56567,367.44424 311.61615,366.9661 316.66666,365.13937 321.71716,364.58682 326.76767,363.30066 331.81818,362.83618 336.86868,361.57175 341.9192,360.54208 346.9697,359.31305 352.0202,358.55368 357.0707,355.8679 362.12122,355.10855 367.1717,353.5264 372.22223,352.71494 377.2727,351.655 382.32324,350.6639 387.37372,349.752 392.42426,348.5727 397.47473,347.0612 402.52527,346.0475 407.57574,344.93668 412.62625,342.6327 417.67676,342.5792 422.72726,341.6635 427.77777,341.1714 432.82828,339.61984 437.87878,338.22934 442.9293,337.15796 447.9798,336.63882 453.0303,336.21027 458.0808,334.8863 463.13132,333.23737 468.18182,332.33643 473.23233,331.61365 478.28284,330.38663 483.3333,329.17477 488.38382,328.35077 493.43433,327.34036 498.48483,326.43982 503.53534,325.15344 508.58585,324.89917 513.63635,323.36224 518.6869,322.17508 523.73737,321.04645 528.78784,319.7948 533.8384,318.8502 538.8889,317.83807 543.9394,316.90692 548.98987,315.4904 554.0404,314.1557 559.09094,313.3158 564.1414,306.03723 569.1919,304.78772 574.24243,302.79675 579.2929,302.59308 584.3434,301.01834 589.3939,300.1676 594.44446,298.98495 599.49493,297.92874 604.5454,296.07166 609.59595,295.71646 614.6465,294.51218 619.69696,293.78635 624.74744,292.8116 629.798,292.2731 634.8485,290.61304 639.899,288.70645 644.94946,288.57132 650,287.9443 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.98422 155.0505,399.48834 160.10101,398.55276 165.15152,397.68518 170.20203,396.7367 175.25253,395.79803 180.30302,394.4111 185.35353,393.45807 190.40404,392.63474 195.45454,391.51883 200.50505,390.63287 205.55556,389.26273 210.60606,388.2733 215.65656,387.0475 220.70706,386.46207 225.75757,385.44833 230.80807,384.31506 235.85858,383.46616 240.90909,382.26126 245.9596,381.49612 251.0101,380.52374 256.0606,376.91492 261.1111,377.55972 266.16162,377.33997 271.21213,376.52982 276.26263,375.67496 281.3131,375.3896 286.36365,374.39438 291.41412,374.5779 296.46466,373.9166 301.51514,372.394 306.56567,372.2425 311.61615,370.40244 316.66666,370.37805 321.71716,370.04364 326.76767,368.17325 331.81818,370.14078 336.86868,366.7874 341.9192,367.30634 346.9697,366.57895 352.0202,365.3213 357.0707,367.21548 362.12122,373.00882 367.1717,370.7878 372.22223,370.2196 377.2727,370.73795 382.32324,274.758 387.37372,370.53714 392.42426,371.84552 397.47473,367.293 402.52527,367.97086 407.57574,368.057 412.62625,354.0917 417.67676,366.59866 422.72726,367.90417 427.77777,368.93353 432.82828,364.50516 437.87878,365.27313 442.9293,359.30103 447.9798,363.6668 453.0303,363.70227 458.0808,366.34103 463.13132,364.5024 468.18182,364.55164 473.23233,365.8922 478.28284,361.63385 483.3333,362.61493 488.38382,363.79053 493.43433,361.0193 498.48483,363.14172 503.53534,363.1641 508.58585,363.00082 513.63635,358.48596 518.6869,354.1208 523.73737,361.5176 528.78784,360.23877 533.8384,335.136 538.8889,343.077 543.9394,357.16476 548.98987,338.67636 554.0404,358.40298 559.09094,356.94604 564.1414,352.48038 569.1919,352.48688 574.24243,352.5736 579.2929,350.50125 584.3434,353.84988 589.3939,353.01227 594.44446,350.33673 599.49493,348.29062 604.5454,351.75272 609.59595,350.90585 614.6465,349.79343 619.69696,351.66672 624.74744,349.37738 629.798,348.60782 634.8485,350.27197 639.899,349.17178 644.94946,346.55048 650,349.20322 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.40436 160.10101,397.47772 165.15152,395.0658 170.20203,391.82285 175.25253,388.19974 180.30302,384.0051 185.35353,379.36484 190.40404,373.80243 195.45454,368.473 200.50505,362.7612 205.55556,356.694 210.60606,350.49103 215.65656,342.17487 220.70706,335.46204 225.75757,327.10498 230.80807,319.25977 235.85858,309.02954 240.90909,300.92435 245.9596,291.43207 251.0101,279.99435 256.0606,270.3951 261.1111,258.96536 266.16162,244.9617 271.21213,234.9085 276.26263,217.87111 281.3131,208.00845 286.36365,195.54726 291.41412,139.11264 296.46466,167.85365 301.51514,153.01732 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.99365 155.0505,399.4112 160.10101,398.10294 165.15152,396.87723 170.20203,394.8062 175.25253,393.3726 180.30302,391.21323 185.35353,389.47885 190.40404,387.91092 195.45454,384.98132 200.50505,383.2069 205.55556,381.6163 210.60606,378.20068 215.65656,376.8954 220.70706,375.2779 225.75757,370.9258 230.80807,369.19183 235.85858,367.40088 240.90909,364.07504 245.9596,362.28268 251.0101,360.34155 256.0606,356.91626 261.1111,351.56 266.16162,353.21005 271.21213,348.84824 276.26263,345.90558 281.3131,342.1789 286.36365,339.8922 291.41412,335.3013 296.46466,334.20554 301.51514,333.14185 306.56567,331.477 311.61615,327.97827 316.66666,325.0972 321.71716,318.47815 326.76767,319.39548 331.81818,316.39642 336.86868,309.27246 341.9192,312.79776 346.9697,308.93042 352.0202,305.36188 357.0707,300.64063 362.12122,295.25806 367.1717,296.4369 372.22223,293.0022 377.2727,293.43344 382.32324,286.83493 387.37372,273.4851 392.42426,282.1861 397.47473,276.5395 402.52527,280.16055 407.57574,266.74695 412.62625,269.32538 417.67676,264.06842 422.72726,261.31207 427.77777,261.36218 432.82828,256.5205 437.87878,253.92279 442.9293,249.23135 447.9798,252.87177 453.0303,246.04607 458.0808,243.1516 463.13132,238.25687 468.18182,231.66576 473.23233,231.4905 478.28284,225.50899 483.3333,225.02713 488.38382,222.70476 493.43433,216.1266 498.48483,216.51909 503.53534,211.60324 508.58585,208.9552 513.63635,205.01819 518.6869,198.97957 523.73737,198.09904 528.78784,198.4338 533.8384,191.06155 538.8889,189.99382 543.9394,181.69905 548.98987,187.73643 554.0404,171.81741 559.09094,171.79173 564.1414,170.87056 569.1919,171.252 574.24243,167.22493 579.2929,153.51016 584.3434,157.14024 589.3939,151.1631 594.44446,153.89009 599.49493,151.3817 604.5454,145.72682 609.59595,139.33087 614.6465,140.13919 619.69696,128.70337 624.74744,125.0376 629.798,121.49402 634.8485,126.61972 639.899,115.78531 644.94946,100 650,114.428314 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.99197 155.0505,399.41986 160.10101,398.11993 165.15152,396.63498 170.20203,394.4864 175.25253,393.08517 180.30302,391.06824 185.35353,389.33908 190.40404,387.89288 195.45454,384.93286 200.50505,383.28528 205.55556,380.8047 210.60606,377.23514 215.65656,376.01724 220.70706,374.08963 225.75757,369.98306 230.80807,368.2177 235.85858,366.67896 240.90909,363.11917 245.9596,361.21207 251.0101,359.36496 256.0606,362.76016 261.1111,356.84573 266.16162,358.8995 271.21213,355.73203 276.26263,354.5185 281.3131,349.89642 286.36365,350.69485 291.41412,347.69467 296.46466,346.1346 301.51514,347.31183 306.56567,345.52393 311.61615,343.26013 316.66666,339.28348 321.71716,335.63086 326.76767,337.02866 331.81818,336.7709 336.86868,328.0309 341.9192,334.87192 346.9697,331.1764 352.0202,329.16373 357.0707,335.01965 362.12122,325.99927 367.1717,334.38864 372.22223,332.77438 377.2727,333.00464 382.32324,315.7477 387.37372,327.819 392.42426,330.45325 397.47473,325.0455 402.52527,327.49976 407.57574,309.11725 412.62625,312.94647 417.67676,317.73358 422.72726,318.63696 427.77777,318.27518 432.82828,317.623 437.87878,316.71002 442.9293,313.0297 447.9798,314.39667 453.0303,311.39075 458.0808,310.85626 463.13132,307.70596 468.18182,303.52698 473.23233,307.88632 478.28284,298.8449 483.3333,304.5548 488.38382,296.27866 493.43433,288.49808 498.48483,294.4244 503.53534,290.9666 508.58585,267.75043 513.63635,295.17664 518.6869,289.44574 523.73737,287.70703 528.78784,290.39407 533.8384,261.08636 538.8889,256.77563 543.9394,275.849 548.98987,289.33533 554.0404,274.12885 559.09094,277.03815 564.1414,279.37466 569.1919,263.9612 574.24243,277.5883 579.2929,267.11615 584.3434,270.02228 589.3939,269.4842 594.44446,269.43555 599.49493,272.30725 604.5454,269.22314 609.59595,261.5381 614.6465,265.53973 619.69696,258.96185 624.74744,255.76006 629.798,253.77435 634.8485,258.33508 639.899,249.06071 644.94946,242.5947 650,254.73888 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.78476 155.0505,399.43362 160.10101,398.2815 165.15152,396.7016 170.20203,394.85794 175.25253,393.14868 180.30302,391.2046 185.35353,388.93625 190.40404,386.68475 195.45454,384.4785 200.50505,382.0593 205.55556,379.59714 210.60606,376.8801 215.65656,374.36948 220.70706,371.85135 225.75757,368.60416 230.80807,365.5082 235.85858,362.646 240.90909,359.55392 245.9596,356.5531 251.0101,353.24243 256.0606,349.8416 261.1111,346.45438 266.16162,342.75333 271.21213,339.2143 276.26263,336.04138 281.3131,332.43793 286.36365,329.14124 291.41412,324.03174 296.46466,321.44287 301.51514,317.2372 306.56567,314.0829 311.61615,309.91925 316.66666,305.34235 321.71716,301.4994 326.76767,295.148 331.81818,293.42734 336.86868,288.4121 341.9192,284.8032 346.9697,279.94272 352.0202,276.26117 357.0707,271.83325 362.12122,267.23834 367.1717,262.99133 372.22223,258.19977 377.2727,253.7999 382.32324,249.18571 387.37372,245.13733 392.42426,239.64441 397.47473,235.61948 402.52527,230.95865 407.57574,225.51703 412.62625,219.40712 417.67676,215.16695 422.72726,209.86905 427.77777,205.95003 432.82828,200.23872 437.87878,195.31999 442.9293,189.96483 447.9798,186.29677 453.0303,180.3705 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.22528" y2="365.22528"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.22528">
1.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.4506" y2="330.4506"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.4506">
2.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.67587" y2="295.67587"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.67587">
3.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.90118" y2="260.90118"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.90118">
4.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.12646" y2="226.12646"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="226.12646">
5.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.35175" y2="191.35175"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="191.35175">
6.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="156.57706" y2="156.57706"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="156.57706">
7.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.80234" y2="121.80234"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="121.80234">
8.00e5
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0.00
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.34906" y2="353.34906"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="353.34906">
0.01
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="306.69812" y2="306.69812"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="306.69812">
0.02
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.0472" y2="260.0472"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.0472">
0.03
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="213.39627" y2="213.39627"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="213.39627">
0.04
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="166.74536" y2="166.74536"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="166.74536">
0.05
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="120.09442" y2="120.09442"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="120.09442">
0.06
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,341.101 155.0505,344.01254 160.10101,347.34186 165.15152,345.4666 170.20203,350.5706 175.25253,352.9538 180.30304,354.53418 185.35353,354.80344 190.40405,355.73495 195.45454,356.4506 200.50505,357.47144 205.55556,357.89703 210.60606,358.6359 215.65657,359.14072 220.70708,359.11972 225.75757,359.83234 230.80809,360.28647 235.8586,361.18683 240.90909,361.5855 245.9596,361.79703 251.0101,361.59906 256.0606,361.9372 261.1111,362.539 266.16162,362.9856 271.21213,362.9994 276.26263,363.00504 281.31314,363.33228 286.36365,363.52875 291.41415,364.01163 296.46466,364.25525 301.51514,364.12457 306.56567,364.77408 311.61615,364.87454 316.6667,364.77823 321.71716,364.71158 326.76767,365.24585 331.81818,365.73694 336.86868,365.92307 341.9192,366.1576 346.96973,366.7049 352.0202,368.7941 357.0707,366.99738 362.12122,366.94412 367.17172,367.70828 372.22223,367.75137 377.27274,367.66687 382.32324,367.57568 387.37372,368.05164 392.42426,368.35852 397.47476,368.03867 402.52527,368.4494 407.57578,368.69223 412.62628,368.85287 417.6768,368.79288 422.7273,369.11896 427.77777,368.7038 432.8283,369.1186 437.87878,369.4342 442.92932,369.25922 447.9798,369.5258 453.0303,367.35727 458.0808,369.34497 463.13132,369.6077 468.18185,369.54688 473.23233,369.67798 478.28284,369.48373 483.33334,369.7814 488.38385,370.10858 493.43436,369.81387 498.48486,370.1411 503.53534,369.95535 508.58588,370.08276 513.63635,370.17178 518.6869,370.2237 523.7374,370.67398 528.7879,370.0467 533.8384,370.46286 538.8889,370.32944 543.93945,369.35593 548.98987,370.60992 554.0404,370.72278 559.09094,370.75204 564.1414,368.7968 569.19196,370.16757 574.24243,370.67838 579.29297,370.59967 584.34344,370.93652 589.3939,371.17007 594.44446,370.75616 599.495,371.24158 604.5455,371.51416 609.59595,371.13324 614.6465,371.01178 619.697,371.10272 624.7475,370.93903 629.798,368.95343 634.8485,371.15445 639.899,371.41312 644.9495,371.0645 650,370.8583 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,380.9649 155.0505,381.90176 160.10101,372.16302 165.15152,376.9787 170.20203,382.2327 175.25253,384.34415 180.30304,384.19955 185.35353,383.05374 190.40405,384.7766 195.45454,384.80502 200.50505,384.76 205.55556,385.13818 210.60606,385.8337 215.65657,386.66843 220.70708,386.05652 225.75757,386.84564 230.80809,386.19266 235.8586,386.90326 240.90909,386.38065 245.9596,387.36768 251.0101,385.8714 256.0606,386.76358 261.1111,386.9896 266.16162,386.7677 271.21213,387.72302 276.26263,386.78546 281.31314,388.0014 286.36365,387.4352 291.41415,386.79428 296.46466,387.88293 301.51514,387.24997 306.56567,388.4524 311.61615,388.14383 316.6667,388.2429 321.71716,387.73285 326.76767,387.73865 331.81818,387.82953 336.86868,388.39117 341.9192,388.57205 346.96973,387.98096 352.0202,389.13416 357.0707,388.11844 362.12122,387.7025 367.17172,388.80643 372.22223,386.5925 377.27274,389.0364 382.32324,387.97488 387.37372,387.4374 392.42426,388.2176 397.47476,388.63126 402.52527,388.6969 407.57578,389.4392 412.62628,388.12573 417.6768,388.98425 422.7273,388.90875 427.77777,388.02017 432.8283,389.01093 437.87878,388.86163 442.92932,388.78177 447.9798,388.5787 453.0303,387.31256 458.0808,388.93173 463.13132,384.39313 468.18185,387.69485 473.23233,389.30722 478.28284,387.84988 483.33334,389.5264 488.38385,388.20294 493.43436,388.90256 498.48486,388.60028 503.53534,389.40262 508.58588,389.8128 513.63635,388.72845 518.6869,390.04962 523.7374,389.3685 528.7879,389.32846 533.8384,389.3741 538.8889,389.17172 543.93945,388.60635 548.98987,388.77298 554.0404,387.97876 559.09094,389.19 564.1414,388.31747 569.19196,389.87094 574.24243,389.91608 579.29297,389.49133 584.34344,389.8524 589.3939,388.7135 594.44446,384.79343 599.495,389.22507 604.5455,389.62805 609.59595,389.56598 614.6465,388.4675 619.697,389.51633 624.7475,388.4991 629.798,388.16013 634.8485,390.0382 639.899,389.2729 644.9495,389.86734 650,389.45047 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,263.72943 155.0505,275.69427 160.10101,281.81372 165.15152,292.7252 170.20203,294.14944 175.25253,300.8597 180.30304,303.86652 185.35353,306.42975 190.40405,308.45215 195.45454,311.92432 200.50505,313.86053 205.55556,315.46973 210.60606,316.87732 215.65657,318.57205 220.70708,318.35364 225.75757,321.51718 230.80809,322.67145 235.8586,323.41943 240.90909,323.9566 245.9596,324.77786 251.0101,325.89056 256.0606,327.03104 261.1111,327.24335 266.16162,328.88596 271.21213,328.66754 276.26263,328.92233 281.31314,330.08246 286.36365,329.85025 291.41415,330.83963 296.46466,331.36984 301.51514,331.8403 306.56567,332.7613 311.61615,333.07733 316.6667,333.76086 321.71716,333.5936 326.76767,334.53278 331.81818,335.0432 336.86868,335.73788 341.9192,336.3254 346.96973,337.0058 352.0202,338.67615 357.0707,337.83447 362.12122,337.4515 367.17172,338.43015 372.22223,338.8914 377.27274,338.97324 382.32324,338.93454 387.37372,340.48013 392.42426,340.59244 397.47476,339.99246 402.52527,340.57608 407.57578,341.14542 412.62628,341.26166 417.6768,341.14285 422.7273,341.89532 427.77777,341.50143 432.8283,341.69214 437.87878,342.57495 442.92932,342.23737 447.9798,342.7347 453.0303,340.76932 458.0808,343.2143 463.13132,343.77493 468.18185,343.56396 473.23233,343.31064 478.28284,343.94934 483.33334,344.2984 488.38385,344.61752 493.43436,344.32278 498.48486,344.51062 503.53534,344.63312 508.58588,345.04886 513.63635,345.1128 518.6869,345.50665 523.7374,345.75674 528.7879,344.9396 533.8384,345.90906 538.8889,344.47607 543.93945,346.05536 548.98987,346.2964 554.0404,346.22818 559.09094,346.3496 564.1414,344.80902 569.19196,346.02777 574.24243,346.73422 579.29297,346.68008 584.34344,347.26813 589.3939,345.65717 594.44446,346.46515 599.495,346.80347 604.5455,346.45593 609.59595,346.50192 614.6465,346.9111 619.697,346.63318 624.7475,346.52557 629.798,346.06094 634.8485,345.90067 639.899,346.01093 644.9495,346.61142 650,347.11893 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,347.42105 155.0505,353.09262 160.10101,344.5484 165.15152,361.01785 170.20203,360.1973 175.25253,365.37674 180.30304,365.5989 185.35353,366.99023 190.40405,366.9665 195.45454,369.3672 200.50505,370.4882 205.55556,370.58914 210.60606,371.09137 215.65657,364.7345 220.70708,371.5238 225.75757,372.85468 230.80809,374.01776 235.8586,374.56656 240.90909,374.19965 245.9596,373.70105 251.0101,374.46133 256.0606,374.68668 261.1111,375.38876 266.16162,376.03152 271.21213,376.22153 276.26263,376.3243 281.31314,376.3791 286.36365,368.9247 291.41415,377.04062 296.46466,377.18802 301.51514,377.54297 306.56567,377.3034 311.61615,377.5888 316.6667,376.3916 321.71716,376.5294 326.76767,378.62494 331.81818,378.5313 336.86868,378.48206 341.9192,378.47006 346.96973,379.2306 352.0202,379.0433 357.0707,379.71466 362.12122,378.88165 367.17172,371.24432 372.22223,379.78012 377.27274,380.01532 382.32324,379.1604 387.37372,379.66226 392.42426,379.47433 397.47476,379.87143 402.52527,380.23987 407.57578,380.42432 412.62628,381.33936 417.6768,379.91965 422.7273,380.95096 427.77777,380.4218 432.8283,380.96484 437.87878,381.50107 442.92932,381.10416 447.9798,381.1124 453.0303,379.41394 458.0808,376.32816 463.13132,381.19943 468.18185,381.08047 473.23233,381.34253 478.28284,381.32178 483.33334,381.43637 488.38385,381.3631 493.43436,381.31027 498.48486,382.109 503.53534,380.97824 508.58588,381.46402 513.63635,382.28418 518.6869,382.1243 523.7374,382.08002 528.7879,382.48257 533.8384,381.60693 538.8889,377.2219 543.93945,381.31857 548.98987,382.1523 554.0404,381.5321 559.09094,375.59845 564.1414,380.45844 569.19196,382.24075 574.24243,382.15088 579.29297,382.3875 584.34344,382.56708 589.3939,376.53293 594.44446,377.6347 599.495,381.5784 604.5455,378.58267 609.59595,381.99582 614.6465,380.6232 619.697,381.36838 624.7475,375.86597 629.798,381.41293 634.8485,380.88623 639.899,378.1371 644.9495,380.18326 650,381.82584 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,100 155.0505,126.07376 160.10101,141.83627 165.15152,165.44963 170.20203,177.4789 175.25253,190.2573 180.30304,199.83105 185.35353,207.76627 190.40405,215.17993 195.45454,221.11446 200.50505,227.23648 205.55556,231.80844 210.60606,236.87605 215.65657,240.67635 220.70708,244.30356 225.75757,248.42033 230.80809,252.19392 235.8586,255.5277 240.90909,257.95746 245.9596,260.932 251.0101,262.96143 256.0606,264.28888 261.1111,267.78497 266.16162,270.1626 271.21213,271.75583 276.26263,273.26398 281.31314,275.30835 286.36365,276.88364 291.41415,278.5431 296.46466,280.05884 301.51514,282.43585 306.56567,282.73245 311.61615,284.68665 316.6667,286.0695 321.71716,287.25177 326.76767,288.326 331.81818,289.86194 336.86868,291.22894 341.9192,292.5874 346.96973,293.88916 352.0202,296.87064 357.0707,296.2137 362.12122,297.1882 367.17172,298.20105 372.22223,298.99982 377.27274,299.81683 382.32324,300.9412 387.37372,301.65952 392.42426,302.52518 397.47476,303.2137 402.52527,304.16364 407.57578,304.82822 412.62628,305.46918 417.6768,306.47427 422.7273,307.1315 427.77777,307.67096 432.8283,308.21957 437.87878,308.71982 442.92932,309.37518 447.9798,310.14655 453.0303,308.897 458.0808,310.86163 463.13132,311.6011 468.18185,312.01895 473.23233,312.48175 478.28284,312.80264 483.33334,313.39618 488.38385,313.98877 493.43436,314.46295 498.48486,315.0948 503.53534,315.2357 508.58588,315.56335 513.63635,316.02414 518.6869,317.016 523.7374,317.27948 528.7879,317.0423 533.8384,317.94818 538.8889,318.18048 543.93945,317.2203 548.98987,318.70737 554.0404,318.85718 559.09094,319.43042 564.1414,317.94336 569.19196,320.20383 574.24243,320.6343 579.29297,320.95947 584.34344,321.3117 589.3939,321.59637 594.44446,319.56577 599.495,321.26996 604.5455,320.9836 609.59595,322.666 614.6465,322.73685 619.697,322.6441 624.7475,323.24432 629.798,322.10535 634.8485,323.8274 639.899,323.36273 644.9495,323.62805 650,324.36124 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(30_000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
0.005
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
0.015
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="389.64188" y2="389.64188"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="389.64188">
2.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.5106" y2="353.5106"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="353.5106">
4.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="317.3793" y2="317.3793"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="317.3793">
6.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="281.248" y2="281.248"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="281.248">
8.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="245.1167" y2="245.1167"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="245.1167">
1.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.98541" y2="208.98541"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="208.98541">
1.20e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="172.85413" y2="172.85413"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="172.85413">
1.40e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.72284" y2="136.72284"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="136.72284">
1.60e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100.59155" y2="100.59155"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="100.59155">
1.80e7
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
0.001
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
0.003
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="382.70184" y2="382.70184"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="382.70184">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="347.52066" y2="347.52066"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="347.52066">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="312.33945" y2="312.33945"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="312.33945">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="277.15826" y2="277.15826"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="277.15826">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="241.97705" y2="241.97705"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="241.97705">
0.016
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="206.79584" y2="206.79584"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="206.79584">
0.018
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="171.61462" y2="171.61462"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="171.61462">
0.020
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.43344" y2="136.43344"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="136.43344">
0.022
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="101.25223" y2="101.25223"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="101.25223">
0.024
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,257.80194 155.0505,255.55595 160.10101,258.46277 165.15152,258.34283 170.20203,258.01276 175.25253,257.72217 180.30304,256.64844 185.35353,249.828 190.40404,245.16684 195.45454,236.175 200.50505,228.9389 205.55556,219.48747 210.60606,215.52397 215.65656,209.81775 220.70706,207.47731 225.75757,204.04405 230.80807,185.32571 235.85858,201.17862 240.90909,209.08365 245.9596,196.05171 251.0101,210.01224 256.0606,218.54662 261.1111,227.21432 266.16162,220.44637 271.21213,232.71773 276.26263,237.93973 281.3131,248.09161 286.36365,252.11531 291.41412,262.539 296.46466,263.42468 301.51514,266.435 306.56567,273.70325 311.61615,278.53262 316.6667,280.0526 321.71716,290.89487 326.7677,295.43304 331.81818,302.25266 336.86868,306.23175 341.9192,306.9194 346.9697,311.3133 352.0202,315.55228 357.0707,318.48398 362.12122,320.41428 367.17172,324.22662 372.22223,329.06543 377.2727,331.00366 382.32324,333.0104 387.37372,334.46478 392.42426,337.63293 397.47473,338.32678 402.52527,342.5296 407.57578,344.7061 412.62625,345.10284 417.67676,348.49194 422.7273,352.87268 427.77777,355.0028 432.82828,353.5257 437.87878,356.4107 442.9293,342.86517 447.9798,360.79697 453.0303,362.2206 458.0808,361.84155 463.13132,363.9709 468.18182,366.77637 473.23233,356.93295 478.28284,367.5792 483.33334,372.21826 488.38382,372.13403 493.43436,374.33328 498.48483,372.33588 503.53537,374.95987 508.58588,374.3361 513.63635,376.88266 518.6869,378.2586 523.73737,380.88507 528.78784,381.1004 533.8384,380.99973 538.8889,383.64307 543.9394,384.4186 548.98987,384.51654 554.0404,374.2623 559.09094,387.91357 564.1414,378.2118 569.1919,387.97772 574.24243,388.18427 579.29297,390.2635 584.34344,393.34604 589.3939,392.53326 594.44446,394.45398 599.49493,393.34378 604.5454,394.09445 609.59595,393.97583 614.6465,385.80157 619.69696,394.11856 624.74744,397.4092 629.798,398.4151 634.8485,400 639.89905,398.4155 644.94946,394.127 650,394.57123 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,248.36937 155.0505,249.28448 160.10101,249.0938 165.15152,249.9388 170.20203,249.70096 175.25253,249.65681 180.30304,248.01625 185.35353,242.43008 190.40404,237.0207 195.45454,225.97478 200.50505,217.4192 205.55556,206.93901 210.60606,195.99248 215.65656,187.01859 220.70706,189.86108 225.75757,174.80394 230.80807,183.61568 235.85858,178.688 240.90909,177.11899 245.9596,180.7364 251.0101,188.10973 256.0606,196.03697 261.1111,195.02554 266.16162,198.06944 271.21213,212.09042 276.26263,214.77562 281.3131,227.65953 286.36365,237.18063 291.41412,244.86836 296.46466,249.4214 301.51514,251.31677 306.56567,255.86507 311.61615,261.13818 316.6667,268.987 321.71716,275.6191 326.7677,272.0559 331.81818,285.60135 336.86868,291.92108 341.9192,286.05026 346.9697,291.41656 352.0202,303.22308 357.0707,306.45053 362.12122,308.64438 367.17172,311.81454 372.22223,318.06665 377.2727,320.25476 382.32324,321.31976 387.37372,323.68707 392.42426,328.82318 397.47473,329.11288 402.52527,332.4286 407.57578,335.04633 412.62625,335.9349 417.67676,339.18738 422.7273,341.34363 427.77777,344.37097 432.82828,342.22775 437.87878,345.46265 442.9293,342.57312 447.9798,349.342 453.0303,352.27332 458.0808,350.90265 463.13132,354.30768 468.18182,350.23572 473.23233,357.26157 478.28284,357.3286 483.33334,362.001 488.38382,359.0071 493.43436,365.4778 498.48483,362.77234 503.53537,367.47006 508.58588,366.19458 513.63635,369.13922 518.6869,370.8126 523.73737,373.07144 528.78784,373.33963 533.8384,373.90482 538.8889,377.01917 543.9394,377.13458 548.98987,377.85016 554.0404,374.97073 559.09094,380.79 564.1414,381.48663 569.1919,376.43576 574.24243,382.5035 579.29297,386.0931 584.34344,386.2927 589.3939,388.66928 594.44446,389.9258 599.49493,387.9294 604.5454,382.51358 609.59595,389.44797 614.6465,389.09555 619.69696,390.4335 624.74744,378.63943 629.798,383.27704 634.8485,389.41388 639.89905,389.36536 644.94946,393.14856 650,396.0045 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,245.0793 155.0505,244.79651 160.10101,242.89702 165.15152,245.0425 170.20203,245.19522 175.25253,245.07828 180.30304,243.57814 185.35353,238.78477 190.40404,230.53844 195.45454,224.92024 200.50505,215.87224 205.55556,205.49977 210.60606,195.38763 215.65656,196.45433 220.70706,192.84319 225.75757,184.1912 230.80807,181.8996 235.85858,175.32542 240.90909,176.44458 245.9596,165.04329 251.0101,170.73854 256.0606,168.11891 261.1111,168.71341 266.16162,167.5312 271.21213,170.31264 276.26263,170.93947 281.3131,169.67633 286.36365,168.98955 291.41412,166.72887 296.46466,160.26353 301.51514,158.77937 306.56567,157.22507 311.61615,165.19237 316.6667,160.71411 321.71716,170.83586 326.7677,169.09007 331.81818,174.99577 336.86868,174.9898 341.9192,172.01701 346.9697,170.87733 352.0202,168.40672 357.0707,162.94757 362.12122,164.17941 367.17172,159.1718 372.22223,160.84724 377.2727,160.85143 382.32324,158.8449 387.37372,163.23987 392.42426,159.3216 397.47473,154.71733 402.52527,149.68005 407.57578,153.39233 412.62625,163.20226 417.67676,159.9923 422.7273,158.04436 427.77777,154.57617 432.82828,155.99165 437.87878,158.5601 442.9293,156.39587 447.9798,154.04509 453.0303,152.85915 458.0808,157.9126 463.13132,156.58487 468.18182,157.53722 473.23233,154.95337 478.28284,155.45981 483.33334,153.22049 488.38382,147.86118 493.43436,154.94304 498.48483,157.0305 503.53537,156.80049 508.58588,160.26865 513.63635,163.0694 518.6869,157.96565 523.73737,164.96574 528.78784,160.75684 533.8384,165.23248 538.8889,163.90768 543.9394,163.53397 548.98987,157.67001 554.0404,163.42453 559.09094,153.05862 564.1414,167.07564 569.1919,154.6111 574.24243,165.82716 579.29297,168.96396 584.34344,168.95914 589.3939,165.5843 594.44446,171.28268 599.49493,157.90794 604.5454,155.22299 609.59595,153.00728 614.6465,163.61609 619.69696,170.39992 624.74744,165.07976 629.798,167.89903 634.8485,161.48056 639.89905,168.34389 644.94946,174.60944 650,167.86899 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,266.05316 155.0505,266.09692 160.10101,266.52505 165.15152,266.6546 170.20203,265.88242 175.25253,265.26883 180.30304,264.22955 185.35353,259.47498 190.40404,247.74287 195.45454,235.36334 200.50505,222.893 205.55556,233.4134 210.60606,215.57948 215.65656,182.2702 220.70706,195.43933 225.75757,190.05046 230.80807,191.67764 235.85858,154.24223 240.90909,181.08176 245.9596,188.95592 251.0101,160.41313 256.0606,170.98317 261.1111,163.46765 266.16162,165.91492 271.21213,161.70113 276.26263,166.48013 281.3131,184.60184 286.36365,166.33382 291.41412,174.68471 296.46466,180.64758 301.51514,190.0911 306.56567,198.48209 311.61615,197.33174 316.6667,206.53679 321.71716,196.64217 326.7677,209.96397 331.81818,204.05392 336.86868,213.2876 341.9192,207.17493 346.9697,215.63945 352.0202,199.84465 357.0707,222.24301 362.12122,216.19518 367.17172,217.76393 372.22223,223.52336 377.2727,222.20683 382.32324,214.81134 387.37372,203.88023 392.42426,232.5502 397.47473,235.8562 402.52527,227.02733 407.57578,228.12624 412.62625,248.21986 417.67676,244.64824 422.7273,244.51259 427.77777,233.60078 432.82828,252.11623 437.87878,261.98248 442.9293,230.88383 447.9798,247.5721 453.0303,247.66217 458.0808,252.04051 463.13132,267.18823 468.18182,242.81035 473.23233,253.41103 478.28284,257.02585 483.33334,247.6128 488.38382,275.50458 493.43436,263.0162 498.48483,265.44153 503.53537,259.95288 508.58588,247.76001 513.63635,263.4602 518.6869,284.791 523.73737,283.53082 528.78784,280.61584 533.8384,235.27914 538.8889,273.04727 543.9394,284.99542 548.98987,280.93933 554.0404,285.83453 559.09094,260.25732 564.1414,288.93622 569.1919,274.63696 574.24243,290.34702 579.29297,286.27063 584.34344,262.00647 589.3939,280.33163 594.44446,295.99518 599.49493,294.9223 604.5454,265.18292 609.59595,270.18176 614.6465,287.44098 619.69696,288.23206 624.74744,297.42273 629.798,287.549 634.8485,290.99707 639.89905,283.09146 644.94946,296.8475 650,247.25444 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,238.74345 155.0505,238.53691 160.10101,239.35052 165.15152,239.10751 170.20203,239.01213 175.25253,237.3739 180.30304,234.85608 185.35353,231.23447 190.40404,217.16678 195.45454,204.14526 200.50505,189.22586 205.55556,199.69814 210.60606,180.93594 215.65656,142.34311 220.70706,159.70856 225.75757,153.30505 230.80807,153.8366 235.85858,100 240.90909,142.43417 245.9596,129.98154 251.0101,105.804016 256.0606,128.74155 261.1111,122.028076 266.16162,126.32791 271.21213,119.5827 276.26263,128.60684 281.3131,139.25494 286.36365,128.47101 291.41412,128.56198 296.46466,101.7695 301.51514,127.740845 306.56567,151.32071 311.61615,145.48293 316.6667,139.50916 321.71716,160.16609 326.7677,166.87695 331.81818,160.59142 336.86868,169.05449 341.9192,165.9518 346.9697,172.91779 352.0202,164.94733 357.0707,181.63634 362.12122,173.86739 367.17172,178.60841 372.22223,183.09755 377.2727,183.54646 382.32324,178.55612 387.37372,162.15126 392.42426,196.3808 397.47473,197.0668 402.52527,188.71846 407.57578,190.18648 412.62625,207.77412 417.67676,209.50343 422.7273,204.49274 427.77777,196.2943 432.82828,212.72928 437.87878,218.89308 442.9293,200.05557 447.9798,213.88475 453.0303,211.67494 458.0808,216.17148 463.13132,232.75316 468.18182,212.03568 473.23233,221.14842 478.28284,217.16069 483.33334,214.58621 488.38382,238.52435 493.43436,221.67053 498.48483,231.62656 503.53537,226.39018 508.58588,215.31041 513.63635,236.3014 518.6869,241.46866 523.73737,251.58806 528.78784,250.40959 533.8384,208.69322 538.8889,245.92438 543.9394,255.0339 548.98987,249.6892 554.0404,256.3467 559.09094,235.94142 564.1414,259.91605 569.1919,246.49692 574.24243,255.86493 579.29297,257.82446 584.34344,238.80334 589.3939,255.06029 594.44446,270.7858 599.49493,267.07986 604.5454,247.21526 609.59595,248.11868 614.6465,264.3208 619.69696,271.8199 624.74744,247.44604 629.798,266.00644 634.8485,272.1631 639.89905,266.58417 644.94946,275.22665 650,265.81216 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,276.9817 155.0505,277.391 160.10101,275.0762 165.15152,275.64487 170.20203,276.5083 175.25253,277.19147 180.30304,274.025 185.35353,272.47757 190.40404,258.71008 195.45454,249.20665 200.50505,239.3399 205.55556,226.70561 210.60606,210.82921 215.65656,202.02687 220.70706,188.14914 225.75757,181.47981 230.80807,173.1954 235.85858,164.16328 240.90909,151.02965 245.9596,146.57141 251.0101,143.58423 256.0606,136.8628 261.1111,133.84549 266.16162,111.53296 271.21213,105.50958 276.26263,103.91275 281.3131,109.254944 286.36365,105.40347 291.41412,108.759155 296.46466,101.77515 301.51514,107.34619 306.56567,112.48093 311.61615,105.3797 316.6667,105.755646 321.71716,115.49008 326.7677,121.60614 331.81818,122.52219 336.86868,123.3006 341.9192,123.53305 346.9697,122.44742 352.0202,126.92099 357.0707,135.86273 362.12122,130.9383 367.17172,133.29385 372.22223,132.05591 377.2727,134.24301 382.32324,131.21924 387.37372,134.74725 392.42426,138.50562 397.47473,138.26276 402.52527,144.86649 407.57578,144.9785 412.62625,148.2243 417.67676,151.47054 422.7273,152.1664 427.77777,155.45847 432.82828,154.75566 437.87878,156.829 442.9293,161.36198 447.9798,162.63814 453.0303,166.43758 458.0808,164.59457 463.13132,168.21144 468.18182,173.54907 473.23233,171.84218 478.28284,172.56369 483.33334,178.39622 488.38382,178.77768 493.43436,183.18661 498.48483,182.88252 503.53537,182.33554 508.58588,191.56372 513.63635,188.16907 518.6869,187.63531 523.73737,193.9251 528.78784,195.44687 533.8384,195.80243 538.8889,198.05801 543.9394,199.14516 548.98987,200.70886 554.0404,191.61581 559.09094,200.88455 564.1414,203.03427 569.1919,193.86855 574.24243,209.91199 579.29297,212.9855 584.34344,214.1581 589.3939,213.05693 594.44446,217.79155 599.49493,219.0036 604.5454,212.6322 609.59595,208.97218 614.6465,219.33603 619.69696,219.03519 624.74744,222.15526 629.798,182.68521 634.8485,219.11327 639.89905,226.49434 644.94946,228.63669 650,227.6825 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
