<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="213.13132" y="430" >10000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >20000</text><line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="339.39392" y="430" >30000</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >40000</text><line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="465.65656" y="430" >50000</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >60000</text><line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="591.9192" y="430" >70000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.51495" y2="346.51495" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.51495" >1e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.0299" y2="293.0299" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="293.0299" >2.0e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.54486" y2="239.54486" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="239.54486" >3.0e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="186.05981" y2="186.05981" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="186.05981" >4.0e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.5748" y2="132.5748" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="132.5748" >5.0e7</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(x,0.2)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="213.13132" y="430" >10000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >20000</text><line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="339.39392" y="430" >30000</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >40000</text><line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="465.65656" y="430" >50000</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >60000</text><line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="591.9192" y="430" >70000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.05627" y2="346.05627" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="346.05627" >2e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.11258" y2="292.11258" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="292.11258" >4e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.16885" y2="238.16885" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="238.16885" >6e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="184.22516" y2="184.22516" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="184.22516" >8e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130.28143" y2="130.28143" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="130.28143" >1e8</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(x,0.05)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >2000</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >4000</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >6000</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >8000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="339.81064" y2="339.81064" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="339.81064" >0.005</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="279.6198" y2="279.6198" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="279.6198" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="219.42899" y2="219.42899" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="219.42899" >0.015</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="159.23816" y2="159.23816" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="159.23816" >0.020</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,399.95383 155.0505,399.68466 160.10101,399.15683 165.15152,398.89658 170.20203,398.27084 175.25253,398.0458 180.30302,397.29523 185.35353,395.90973 190.40404,396.0776 195.45454,395.62103 200.50505,395.8721 205.55556,395.3823 210.60606,395.1296 215.65656,394.63074 220.70706,393.91263 225.75757,393.33276 230.80807,393.30212 235.85858,392.78464 240.90909,391.91013 245.9596,392.00177 251.0101,391.43292 256.0606,390.29034 261.1111,390.51727 266.16162,390.14078 271.21213,389.83643 276.26263,389.42624 281.3131,388.2754 286.36365,387.65872 291.41412,388.02206 296.46466,387.52493 301.51514,387.0211 306.56567,386.36588 311.61615,386.21637 316.66666,385.7023 321.71716,385.38666 326.76767,384.3527 331.81818,383.80215 336.86868,381.9483 341.9192,382.45065 346.9697,382.84396 352.0202,381.6317 357.0707,379.36566 362.12122,379.12683 367.1717,377.15796 372.22223,379.0183 377.2727,380.22446 382.32324,377.6062 387.37372,375.16867 392.42426,378.96323 397.47473,375.875 402.52527,375.16113 407.57574,372.03265 412.62625,372.27475 417.67676,373.00928 422.72726,324.7425 427.77777,372.66528 432.82828,370.98453 437.87878,372.37106 442.9293,367.7501 447.9798,371.63098 453.0303,373.28076 458.0808,369.56247 463.13132,370.08905 468.18182,368.88116 473.23233,369.14026 478.28284,369.66995 483.3333,371.04724 488.38382,367.13223 493.43433,367.3947 498.48483,369.69717 503.53534,368.291 508.58585,365.13782 513.63635,363.35422 518.6869,367.5708 523.73737,367.04965 528.78784,363.98566 533.8384,362.5296 538.8889,365.76877 543.9394,364.8208 548.98987,362.02255 554.0404,355.6074 559.09094,359.26086 564.1414,357.62646 569.1919,357.372 574.24243,360.07318 579.2929,355.45166 584.3434,358.3222 589.3939,345.2594 594.44446,354.67776 599.49493,356.59988 604.5454,342.82813 609.59595,347.99854 614.6465,308.98615 619.69696,339.81235 624.74744,327.62244 629.798,354.73828 634.8485,339.4388 639.899,349.0967 644.94946,278.405 650,353.29297 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,399.4302 155.0505,399.2403 160.10101,399.07516 165.15152,397.9517 170.20203,398.42007 175.25253,397.7772 180.30302,397.4474 185.35353,396.52725 190.40404,395.91177 195.45454,395.58273 200.50505,395.8166 205.55556,395.29413 210.60606,395.01312 215.65656,394.4669 220.70706,392.1334 225.75757,393.31247 230.80807,393.11105 235.85858,392.6615 240.90909,391.96808 245.9596,391.8945 251.0101,391.27747 256.0606,387.0168 261.1111,391.86484 266.16162,390.1596 271.21213,389.98962 276.26263,390.42355 281.3131,390.89105 286.36365,387.61694 291.41412,388.81097 296.46466,388.8888 301.51514,390.24448 306.56567,387.60852 311.61615,387.13354 316.66666,389.26672 321.71716,358.53116 326.76767,387.2679 331.81818,383.57098 336.86868,387.65384 341.9192,377.5975 346.9697,385.99063 352.0202,385.2906 357.0707,375.98126 362.12122,360.82556 367.1717,372.39175 372.22223,379.4017 377.2727,385.4578 382.32324,386.44772 387.37372,321.67108 392.42426,369.23615 397.47473,376.29733 402.52527,313.89215 407.57574,384.8409 412.62625,383.56625 417.67676,382.4492 422.72726,344.5759 427.77777,382.37585 432.82828,387.22522 437.87878,385.59494 442.9293,383.4625 447.9798,382.1077 453.0303,381.01056 458.0808,364.10886 463.13132,355.06512 468.18182,340.51318 473.23233,378.6464 478.28284,374.65225 483.3333,377.87146 488.38382,352.34113 493.43433,379.7526 498.48483,378.69556 503.53534,379.95343 508.58585,382.0447 513.63635,370.3967 518.6869,377.70685 523.73737,386.31842 528.78784,374.88788 533.8384,381.8981 538.8889,377.66708 543.9394,377.89853 548.98987,379.92557 554.0404,374.84216 559.09094,347.23523 564.1414,383.62537 569.1919,339.21826 574.24243,354.53638 579.2929,370.04932 584.3434,379.59805 589.3939,377.17093 594.44446,378.41312 599.49493,255.93033 604.5454,372.1601 609.59595,321.68658 614.6465,100 619.69696,353.84775 624.74744,253.08298 629.798,371.6448 634.8485,364.46262 639.899,315.99832 644.94946,281.59125 650,370.5223 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.42633 160.10101,398.4128 165.15152,397.0115 170.20203,395.01508 175.25253,394.05206 180.30302,391.97394 185.35353,385.59222 190.40404,386.50278 195.45454,383.74045 200.50505,380.76468 205.55556,375.36874 210.60606,371.2505 215.65656,371.1208 220.70706,364.15787 225.75757,362.32257 230.80807,356.89838 235.85858,353.67264 240.90909,349.17023 245.9596,340.4651 251.0101,339.49268 256.0606,333.62927 261.1111,324.7536 266.16162,319.25943 271.21213,312.9388 276.26263,308.41364 281.3131,302.24966 286.36365,291.37524 291.41412,281.1696 296.46466,274.74075 301.51514,266.72614 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,399.9631 155.0505,399.6071 160.10101,398.99258 165.15152,398.4433 170.20203,396.6295 175.25253,396.81793 180.30302,395.7797 185.35353,395.3312 190.40404,394.35397 195.45454,393.70056 200.50505,392.8906 205.55556,392.65887 210.60606,391.89523 215.65656,389.2144 220.70706,389.64996 225.75757,386.60526 230.80807,388.2817 235.85858,387.12518 240.90909,385.97733 245.9596,384.49704 251.0101,382.66623 256.0606,384.86594 261.1111,383.67416 266.16162,382.96762 271.21213,380.75662 276.26263,380.78964 281.3131,379.4986 286.36365,375.97177 291.41412,378.58353 296.46466,376.96457 301.51514,376.28278 306.56567,375.12103 311.61615,372.56702 316.66666,373.46423 321.71716,371.3721 326.76767,368.98785 331.81818,370.2182 336.86868,368.24777 341.9192,364.73865 346.9697,364.26828 352.0202,361.3996 357.0707,362.8951 362.12122,363.9086 367.1717,362.20993 372.22223,362.15405 377.2727,362.43726 382.32324,358.1828 387.37372,359.5867 392.42426,353.25873 397.47473,354.70633 402.52527,337.82724 407.57574,351.106 412.62625,351.34494 417.67676,346.45248 422.72726,349.13763 427.77777,348.08435 432.82828,350.20694 437.87878,345.44754 442.9293,342.5513 447.9798,342.9676 453.0303,342.4762 458.0808,343.0978 463.13132,339.80905 468.18182,339.71182 473.23233,338.31757 478.28284,334.43613 483.3333,336.08688 488.38382,334.09003 493.43433,335.10068 498.48483,328.54587 503.53534,329.50677 508.58585,329.6124 513.63635,327.13318 518.6869,320.38342 523.73737,326.86435 528.78784,322.5528 533.8384,324.19662 538.8889,317.2276 543.9394,313.66537 548.98987,318.32367 554.0404,316.5452 559.09094,217.93898 564.1414,326.03668 569.1919,319.44415 574.24243,317.6927 579.2929,316.04965 584.3434,319.06848 589.3939,310.271 594.44446,313.50342 599.49493,280.67184 604.5454,301.35953 609.59595,311.80017 614.6465,180.13022 619.69696,295.77167 624.74744,307.42023 629.798,301.16156 634.8485,304.2464 639.899,310.1396 644.94946,242.73059 650,300.50916 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,399.86505 155.0505,399.61627 160.10101,399.0136 165.15152,398.43506 170.20203,397.46307 175.25253,396.81277 180.30302,396.19016 185.35353,395.6394 190.40404,394.2502 195.45454,392.75674 200.50505,390.73068 205.55556,392.64883 210.60606,391.9574 215.65656,389.49423 220.70706,388.66428 225.75757,388.35535 230.80807,384.25256 235.85858,385.63052 240.90909,386.21222 245.9596,383.42572 251.0101,383.1576 256.0606,388.57355 261.1111,385.6182 266.16162,383.77155 271.21213,385.014 276.26263,376.3053 281.3131,372.4532 286.36365,381.12518 291.41412,379.94638 296.46466,382.1285 301.51514,379.69852 306.56567,378.68854 311.61615,379.33252 316.66666,380.20743 321.71716,377.23264 326.76767,377.3963 331.81818,378.86395 336.86868,365.86917 341.9192,361.68246 346.9697,366.25085 352.0202,376.70227 357.0707,374.57996 362.12122,375.29825 367.1717,372.82025 372.22223,371.97638 377.2727,372.69882 382.32324,301.88962 387.37372,273.8828 392.42426,365.95306 397.47473,370.28452 402.52527,346.27966 407.57574,375.72012 412.62625,367.28662 417.67676,368.4984 422.72726,367.40005 427.77777,367.4202 432.82828,377.07062 437.87878,373.26907 442.9293,364.86362 447.9798,350.29892 453.0303,360.90747 458.0808,327.41547 463.13132,346.44824 468.18182,371.19418 473.23233,360.49664 478.28284,309.23584 483.3333,361.25345 488.38382,367.7122 493.43433,356.68393 498.48483,338.03476 503.53534,357.61523 508.58585,354.14804 513.63635,358.76144 518.6869,362.42355 523.73737,365.8669 528.78784,332.1493 533.8384,361.83527 538.8889,361.5822 543.9394,327.93353 548.98987,351.5194 554.0404,347.94293 559.09094,361.50366 564.1414,304.49442 569.1919,355.86816 574.24243,349.26187 579.2929,363.83557 584.3434,354.26465 589.3939,310.6233 594.44446,318.1764 599.49493,220.46745 604.5454,253.98718 609.59595,352.03046 614.6465,328.47504 619.69696,205.02411 624.74744,333.68402 629.798,328.57886 634.8485,327.77368 639.899,267.54962 644.94946,203.69273 650,284.9915 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,399.90778 155.0505,399.61197 160.10101,399.11594 165.15152,398.4982 170.20203,397.6322 175.25253,396.42657 180.30302,396.28043 185.35353,394.9334 190.40404,392.89487 195.45454,393.4448 200.50505,392.91675 205.55556,391.65067 210.60606,390.90076 215.65656,389.65677 220.70706,388.48346 225.75757,387.25732 230.80807,386.2207 235.85858,384.49792 240.90909,383.0973 245.9596,383.04852 251.0101,381.90848 256.0606,379.29727 261.1111,377.48618 266.16162,377.94226 271.21213,376.6236 276.26263,375.39993 281.3131,373.9337 286.36365,372.68118 291.41412,370.606 296.46466,369.78217 301.51514,368.31958 306.56567,365.49887 311.61615,365.33435 316.66666,362.00604 321.71716,359.6553 326.76767,361.26498 331.81818,358.96533 336.86868,353.00342 341.9192,349.2209 346.9697,354.54056 352.0202,351.36908 357.0707,348.3468 362.12122,341.0862 367.1717,345.26715 372.22223,342.41724 377.2727,338.95215 382.32324,340.07147 387.37372,328.48083 392.42426,328.04355 397.47473,337.69296 402.52527,327.72638 407.57574,324.88467 412.62625,328.41507 417.67676,324.34094 422.72726,322.84708 427.77777,321.87054 432.82828,319.18936 437.87878,316.95013 442.9293,314.43597 447.9798,310.00952 453.0303,311.91412 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(x,0.2)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >2000</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >4000</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >6000</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >8000</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="319.4612" y2="319.4612" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="319.4612" >0.005</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.9213" y2="238.9213" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="238.9213" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="158.38138" y2="158.38138" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="158.38138" >0.015</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,399.9823 155.0505,399.56006 160.10101,398.7162 165.15152,397.87683 170.20203,396.80573 175.25253,396.11005 180.30302,393.99744 185.35353,393.8585 190.40404,393.23004 195.45454,392.30435 200.50505,391.3559 205.55556,390.12744 210.60606,388.41397 215.65656,387.9812 220.70706,387.0379 225.75757,386.43976 230.80807,385.25803 235.85858,384.72192 240.90909,383.46667 245.9596,381.1729 251.0101,379.0285 256.0606,379.13916 261.1111,378.18646 266.16162,372.89255 271.21213,372.42758 276.26263,375.51947 281.3131,371.12387 286.36365,373.89288 291.41412,372.61282 296.46466,370.16266 301.51514,367.9662 306.56567,369.81488 311.61615,365.92633 316.66666,365.95624 321.71716,366.0792 326.76767,365.4953 331.81818,364.70313 336.86868,345.7818 341.9192,344.06583 346.9697,338.64288 352.0202,331.15112 357.0707,341.98596 362.12122,356.99667 367.1717,348.8817 372.22223,273.68896 377.2727,351.76166 382.32324,353.998 387.37372,348.70117 392.42426,351.921 397.47473,350.5641 402.52527,349.09433 407.57574,348.66476 412.62625,347.39825 417.67676,345.54443 422.72726,345.28107 427.77777,345.2031 432.82828,343.88678 437.87878,342.71136 442.9293,340.07437 447.9798,334.0296 453.0303,341.07748 458.0808,334.16177 463.13132,336.01926 468.18182,212.45279 473.23233,331.3366 478.28284,331.6913 483.3333,334.24097 488.38382,333.27295 493.43433,332.46405 498.48483,326.52448 503.53534,325.45868 508.58585,327.18195 513.63635,316.45743 518.6869,310.49606 523.73737,316.38763 528.78784,321.791 533.8384,323.43616 538.8889,323.17053 543.9394,322.44458 548.98987,313.35446 554.0404,319.1578 559.09094,317.45935 564.1414,186.77881 569.1919,311.3977 574.24243,309.9276 579.2929,298.95093 584.3434,284.47507 589.3939,301.78784 594.44446,306.54303 599.49493,305.52667 604.5454,280.92508 609.59595,302.88623 614.6465,302.36368 619.69696,291.8482 624.74744,299.69 629.798,297.96725 634.8485,290.3232 639.899,290.4414 644.94946,273.1462 650,284.1899 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,399.96524 155.0505,399.476 160.10101,398.65475 165.15152,397.8325 170.20203,396.93112 175.25253,396.04782 180.30302,394.15576 185.35353,393.7499 190.40404,393.11884 195.45454,392.26666 200.50505,389.48544 205.55556,389.8686 210.60606,386.49908 215.65656,387.84302 220.70706,387.0978 225.75757,385.92664 230.80807,384.97165 235.85858,384.55927 240.90909,383.15845 245.9596,380.4191 251.0101,379.75113 256.0606,372.0895 261.1111,238.57248 266.16162,376.57776 271.21213,377.49872 276.26263,372.59613 281.3131,184.17107 286.36365,368.30795 291.41412,376.325 296.46466,374.13043 301.51514,372.85336 306.56567,374.211 311.61615,374.95764 316.66666,366.41885 321.71716,368.77512 326.76767,367.13574 331.81818,371.93677 336.86868,306.2038 341.9192,319.7008 346.9697,320.53683 352.0202,371.1816 357.0707,293.93588 362.12122,357.27167 367.1717,336.02417 372.22223,367.96173 377.2727,247.09622 382.32324,348.79254 387.37372,364.21854 392.42426,179.62437 397.47473,363.82397 402.52527,258.00385 407.57574,365.0859 412.62625,279.06906 417.67676,353.88464 422.72726,356.6216 427.77777,291.07568 432.82828,361.0788 437.87878,352.86246 442.9293,368.4816 447.9798,367.311 453.0303,333.6198 458.0808,355.17722 463.13132,359.62387 468.18182,331.32733 473.23233,300.7977 478.28284,364.05212 483.3333,356.07178 488.38382,237.1809 493.43433,347.6861 498.48483,365.99146 503.53534,355.70557 508.58585,362.40277 513.63635,348.31747 518.6869,327.9776 523.73737,347.3278 528.78784,355.45682 533.8384,365.32935 538.8889,346.5919 543.9394,266.42462 548.98987,349.85556 554.0404,343.16702 559.09094,346.0462 564.1414,351.52475 569.1919,340.03192 574.24243,310.74847 579.2929,324.85327 584.3434,358.0393 589.3939,336.74878 594.44446,342.893 599.49493,337.6978 604.5454,355.339 609.59595,339.5413 614.6465,342.10516 619.69696,339.74698 624.74744,293.5027 629.798,355.24857 634.8485,308.90076 639.899,352.4885 644.94946,331.1684 650,315.47644 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,399.41202 160.10101,397.6218 165.15152,395.1599 170.20203,390.76013 175.25253,387.30426 180.30302,383.8516 185.35353,380.7482 190.40404,376.89645 195.45454,371.29233 200.50505,366.34644 205.55556,360.8912 210.60606,350.95172 215.65656,348.75137 220.70706,341.75473 225.75757,329.00964 230.80807,326.1922 235.85858,317.7191 240.90909,309.04456 245.9596,298.62054 251.0101,289.23514 256.0606,281.60052 261.1111,264.3625 266.16162,252.3168 271.21213,158.35474 276.26263,231.5111 281.3131,217.12057 286.36365,202.5975 291.41412,195.4748 296.46466,184.23685 301.51514,175.072 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,399.98605 155.0505,399.37994 160.10101,398.14233 165.15152,396.94717 170.20203,394.97797 175.25253,393.47055 180.30302,391.67532 185.35353,388.69235 190.40404,387.328 195.45454,385.57172 200.50505,383.35654 205.55556,381.60934 210.60606,378.94577 215.65656,375.9828 220.70706,375.1354 225.75757,372.0243 230.80807,370.50046 235.85858,366.5553 240.90909,365.86526 245.9596,363.75214 251.0101,361.51697 256.0606,355.9547 261.1111,337.443 266.16162,228.27937 271.21213,342.42712 276.26263,345.53397 281.3131,338.21518 286.36365,340.17548 291.41412,335.3328 296.46466,338.15973 301.51514,337.47095 306.56567,335.71466 311.61615,332.10294 316.66666,326.54758 321.71716,317.87497 326.76767,317.73505 331.81818,318.79605 336.86868,290.73453 341.9192,299.72717 346.9697,299.78375 352.0202,298.48553 357.0707,297.6055 362.12122,297.0622 367.1717,291.9574 372.22223,284.91226 377.2727,293.35425 382.32324,286.43805 387.37372,290.4991 392.42426,283.2449 397.47473,279.0218 402.52527,283.5061 407.57574,126.99069 412.62625,270.89896 417.67676,261.77795 422.72726,109.996735 427.77777,261.12488 432.82828,256.07318 437.87878,256.09802 442.9293,254.98947 447.9798,257.83282 453.0303,247.29907 458.0808,250.62941 463.13132,229.13013 468.18182,203.71535 473.23233,227.87553 478.28284,225.76875 483.3333,230.47017 488.38382,228.23802 493.43433,216.71788 498.48483,220.33144 503.53534,209.49176 508.58585,203.51772 513.63635,181.60123 518.6869,146.0545 523.73737,177.37306 528.78784,198.37329 533.8384,189.03395 538.8889,187.35236 543.9394,185.78316 548.98987,190.91699 554.0404,175.94572 559.09094,165.93115 564.1414,177.39613 569.1919,176.99078 574.24243,172.286 579.2929,158.06696 584.3434,168.05354 589.3939,161.51079 594.44446,157.38908 599.49493,157.89377 604.5454,155.81604 609.59595,148.98508 614.6465,151.24403 619.69696,137.90121 624.74744,135.56323 629.798,128.8493 634.8485,134.3164 639.899,113.605194 644.94946,101.97638 650,100 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,399.98346 155.0505,399.45596 160.10101,398.1797 165.15152,396.99896 170.20203,394.9894 175.25253,393.67563 180.30302,391.60303 185.35353,389.7729 190.40404,388.74695 195.45454,384.20627 200.50505,381.9311 205.55556,382.57648 210.60606,379.4365 215.65656,376.73602 220.70706,375.1177 225.75757,372.7277 230.80807,368.1696 235.85858,369.81128 240.90909,366.8199 245.9596,364.811 251.0101,363.11075 256.0606,364.53912 261.1111,355.69675 266.16162,362.10358 271.21213,358.55344 276.26263,358.96027 281.3131,311.15506 286.36365,328.8079 291.41412,352.92044 296.46466,350.07285 301.51514,351.41327 306.56567,349.09238 311.61615,347.0645 316.66666,345.2047 321.71716,342.82364 326.76767,335.93167 331.81818,338.91864 336.86868,292.6241 341.9192,279.8318 346.9697,322.65723 352.0202,269.07004 357.0707,218.23888 362.12122,312.9324 367.1717,302.75568 372.22223,317.94006 377.2727,327.3945 382.32324,322.81134 387.37372,305.54993 392.42426,317.37515 397.47473,317.53696 402.52527,317.49225 407.57574,319.9069 412.62625,317.29858 417.67676,311.02692 422.72726,308.9063 427.77777,322.061 432.82828,324.52548 437.87878,306.72903 442.9293,306.75763 447.9798,295.72748 453.0303,305.41516 458.0808,294.44022 463.13132,306.18167 468.18182,260.56152 473.23233,279.12885 478.28284,278.51434 483.3333,244.66306 488.38382,283.03528 493.43433,298.57324 498.48483,233.43681 503.53534,213.93597 508.58585,158.18683 513.63635,252.31787 518.6869,200.66727 523.73737,262.74384 528.78784,264.18277 533.8384,291.1503 538.8889,258.08054 543.9394,249.22339 548.98987,266.91205 554.0404,270.64236 559.09094,228.22105 564.1414,262.14087 569.1919,237.5188 574.24243,234.61873 579.2929,275.33423 584.3434,264.2395 589.3939,253.40416 594.44446,253.97296 599.49493,179.68983 604.5454,278.50998 609.59595,246.72678 614.6465,252.54872 619.69696,220.94147 624.74744,257.3456 629.798,221.41815 634.8485,167.65524 639.899,260.05707 644.94946,159.93672 650,217.14282 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,399.9497 155.0505,399.48434 160.10101,398.4205 165.15152,397.00162 170.20203,394.1338 175.25253,393.60532 180.30302,372.74255 185.35353,389.2465 190.40404,387.38727 195.45454,384.8996 200.50505,382.78296 205.55556,380.17892 210.60606,376.43246 215.65656,374.73795 220.70706,371.90558 225.75757,368.9929 230.80807,365.03223 235.85858,362.47745 240.90909,359.65457 245.9596,356.40247 251.0101,352.43045 256.0606,349.04468 261.1111,308.83008 266.16162,339.24493 271.21213,337.7978 276.26263,330.8511 281.3131,328.6816 286.36365,301.32657 291.41412,323.97797 296.46466,317.5011 301.51514,314.1406 306.56567,307.77283 311.61615,304.85046 316.66666,301.10004 321.71716,295.9314 326.76767,293.22308 331.81818,284.85684 336.86868,264.73572 341.9192,196.5787 346.9697,196.5968 352.0202,257.1161 357.0707,254.14323 362.12122,239.45319 367.1717,241.90872 372.22223,160.43011 377.2727,245.03027 382.32324,239.87807 387.37372,236.02655 392.42426,230.15697 397.47473,223.70831 402.52527,194.85814 407.57574,215.59439 412.62625,205.93684 417.67676,198.54356 422.72726,189.59564 427.77777,172.20677 432.82828,184.34741 437.87878,179.6023 442.9293,179.58174 447.9798,173.8483 453.0303,168.48947 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(x,0.05)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Number of Elements</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="189.8724" y="430" >0.5</text><line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="256.32642" y="430" >1.0</text><line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="322.78046" y="430" >1.5</text><line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="389.23444" y="430" >2.0</text><line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="455.68848" y="430" >2.5</text><line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="522.14246" y="430" >3.0</text><line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="588.5965" y="430" >3.5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.22528" y2="365.22528" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="365.22528" >1e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.4506" y2="330.4506" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="330.4506" >2.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.67587" y2="295.67587" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="295.67587" >3.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.90118" y2="260.90118" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="260.90118" >4.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.12646" y2="226.12646" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="226.12646" >5.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.35175" y2="191.35175" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="191.35175" >6.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="156.57706" y2="156.57706" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="156.57706" >7.0e5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.80234" y2="121.80234" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="121.80234" >8.0e5</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="189.8724" y="430" >0.5</text><line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="256.32642" y="430" >1.0</text><line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="322.78046" y="430" >1.5</text><line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="389.23444" y="430" >2.0</text><line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="455.68848" y="430" >2.5</text><line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="522.14246" y="430" >3.0</text><line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="588.5965" y="430" >3.5</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="400" >0.00</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="356.3202" y2="356.3202" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="356.3202" >0.01</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="312.64035" y2="312.64035" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="312.64035" >0.02</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="268.9605" y2="268.9605" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="268.9605" >0.03</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="225.2807" y2="225.2807" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="225.2807" >0.04</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="181.60089" y2="181.60089" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="181.60089" >0.05</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="137.92105" y2="137.92105" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="137.92105" >0.06</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,348.56665 155.0505,350.8646 160.10101,352.3554 165.15152,353.73392 170.20203,353.9046 175.25253,356.20663 180.30304,357.49338 185.35353,357.89307 190.40405,358.56525 195.45454,359.39594 200.50505,359.50323 205.55556,360.4961 210.60606,361.3144 215.65657,361.75644 220.70708,361.63904 225.75757,362.48288 230.80809,363.01508 235.8586,363.7653 240.90909,364.06375 245.9596,364.25638 251.0101,364.10553 256.0606,364.62054 261.1111,365.00793 266.16162,365.04724 271.21213,365.41473 276.26263,365.48804 281.31314,365.7955 286.36365,365.93396 291.41415,366.2281 296.46466,366.62213 301.51514,366.49176 306.56567,366.9975 311.61615,367.11072 316.6667,367.04144 321.71716,367.05768 326.76767,367.59503 331.81818,368.02856 336.86868,368.22885 341.9192,368.37454 346.96973,368.93066 352.0202,370.6789 357.0707,369.08432 362.12122,369.08142 367.17172,369.77457 372.22223,369.85114 377.27274,369.70627 382.32324,369.6604 387.37372,370.1475 392.42426,369.77692 397.47476,370.02783 402.52527,370.48285 407.57578,370.64035 412.62628,370.77103 417.6768,370.80875 422.7273,371.072 427.77777,370.68484 432.8283,371.09805 437.87878,371.42426 442.92932,371.18896 447.9798,371.3752 453.0303,369.45004 458.0808,371.34372 463.13132,371.56897 468.18185,371.44666 473.23233,371.5665 478.28284,371.32126 483.33334,371.71503 488.38385,372.06076 493.43436,371.7647 498.48486,372.03818 503.53534,371.87057 508.58588,372.02228 513.63635,372.09525 518.6869,371.91068 523.7374,372.63638 528.7879,371.95334 533.8384,372.34872 538.8889,372.19666 543.93945,372.248 548.98987,372.5495 554.0404,372.67676 559.09094,372.60626 564.1414,371.19608 569.19196,372.29025 574.24243,372.59573 579.29297,372.56085 584.34344,372.857 589.3939,373.07474 594.44446,372.8898 599.495,373.14697 604.5455,373.30847 609.59595,373.08917 614.6465,372.9509 619.697,373.0137 624.7475,372.92493 629.798,371.8224 634.8485,373.31735 639.899,373.30936 644.9495,373.21017 650,373.1139 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,376.80505 155.0505,383.77725 160.10101,382.93674 165.15152,382.88498 170.20203,383.3983 175.25253,384.6392 180.30304,384.94955 185.35353,385.16183 190.40405,386.14606 195.45454,385.8871 200.50505,377.75937 205.55556,386.3722 210.60606,386.6035 215.65657,385.7425 220.70708,386.52985 225.75757,387.45657 230.80809,387.83307 235.8586,387.46088 240.90909,387.6383 245.9596,387.58838 251.0101,387.12283 256.0606,387.15613 261.1111,387.01785 266.16162,387.3192 271.21213,387.16058 276.26263,385.32434 281.31314,381.72867 286.36365,387.88193 291.41415,387.51077 296.46466,387.8056 301.51514,388.08664 306.56567,388.72006 311.61615,388.3124 316.6667,387.52182 321.71716,388.12128 326.76767,389.2217 331.81818,387.8626 336.86868,388.43616 341.9192,388.66858 346.96973,388.47247 352.0202,389.27798 357.0707,389.25433 362.12122,388.26468 367.17172,389.20493 372.22223,389.03125 377.27274,388.52087 382.32324,388.09897 387.37372,389.35052 392.42426,388.7511 397.47476,389.01633 402.52527,389.08472 407.57578,389.1052 412.62628,388.99017 417.6768,389.65222 422.7273,389.9841 427.77777,388.06787 432.8283,389.39267 437.87878,390.37946 442.92932,390.1993 447.9798,389.736 453.0303,387.90558 458.0808,388.73148 463.13132,390.01862 468.18185,389.99036 473.23233,389.82675 478.28284,389.72916 483.33334,389.47302 488.38385,389.20343 493.43436,389.99554 498.48486,389.87915 503.53534,390.32675 508.58588,389.278 513.63635,389.78067 518.6869,389.31903 523.7374,390.28595 528.7879,389.0585 533.8384,389.83408 538.8889,390.12982 543.93945,390.7515 548.98987,390.08606 554.0404,388.6018 559.09094,390.52527 564.1414,389.20282 569.19196,389.7583 574.24243,389.9417 579.29297,390.44208 584.34344,390.25754 589.3939,390.62247 594.44446,389.5442 599.495,391.06775 604.5455,388.57037 609.59595,390.689 614.6465,390.36725 619.697,389.7698 624.7475,389.15186 629.798,389.08957 634.8485,389.28647 639.899,388.9381 644.9495,389.89612 650,390.23712 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,271.6695 155.0505,283.09842 160.10101,286.93094 165.15152,296.7855 170.20203,298.14667 175.25253,304.73468 180.30304,307.6116 185.35353,310.08716 190.40405,312.3271 195.45454,315.38452 200.50505,317.28333 205.55556,318.29083 210.60606,320.27597 215.65657,322.2847 220.70708,322.26556 225.75757,325.1178 230.80809,326.38617 235.8586,327.0759 240.90909,327.86063 245.9596,328.61456 251.0101,329.6377 256.0606,330.75925 261.1111,331.078 266.16162,332.54828 271.21213,332.40393 276.26263,332.523 281.31314,333.82025 286.36365,333.71167 291.41415,334.72263 296.46466,334.96533 301.51514,335.45117 306.56567,336.38696 311.61615,336.9231 316.6667,337.39963 321.71716,337.18506 326.76767,338.09625 331.81818,338.6501 336.86868,339.23877 341.9192,339.97928 346.96973,340.65604 352.0202,342.43225 357.0707,341.1648 362.12122,340.84058 367.17172,341.79984 372.22223,342.1583 377.27274,342.5786 382.32324,342.4113 387.37372,343.8398 392.42426,343.81387 397.47476,343.59576 402.52527,343.82422 407.57578,344.24026 412.62628,344.69006 417.6768,344.54382 422.7273,345.14648 427.77777,344.9693 432.8283,345.31662 437.87878,345.92487 442.92932,342.735 447.9798,346.20886 453.0303,344.39096 458.0808,346.46497 463.13132,347.25238 468.18185,346.94473 473.23233,346.7853 478.28284,347.3526 483.33334,347.4599 488.38385,348.00592 493.43436,347.71582 498.48486,347.93823 503.53534,348.1214 508.58588,348.38824 513.63635,346.8863 518.6869,348.60495 523.7374,348.9948 528.7879,348.1724 533.8384,349.12137 538.8889,348.65283 543.93945,349.32645 548.98987,349.5457 554.0404,349.56406 559.09094,349.7062 564.1414,348.3459 569.19196,349.29895 574.24243,349.8501 579.29297,350.0786 584.34344,350.48886 589.3939,350.5391 594.44446,350.53918 599.495,351.00623 604.5455,350.80472 609.59595,350.86057 614.6465,350.95126 619.697,350.99893 624.7475,350.70377 629.798,350.28964 634.8485,350.92438 639.899,350.88245 644.9495,351.18576 650,351.25375 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,351.38583 155.0505,357.11765 160.10101,359.79623 165.15152,362.83044 170.20203,361.5147 175.25253,365.3527 180.30304,366.74387 185.35353,352.79965 190.40405,368.96655 195.45454,367.09268 200.50505,360.575 205.55556,363.56503 210.60606,366.81808 215.65657,373.92532 220.70708,372.29214 225.75757,369.57852 230.80809,375.4725 235.8586,374.71173 240.90909,375.05505 245.9596,374.93436 251.0101,374.7313 256.0606,376.26593 261.1111,376.22516 266.16162,376.39734 271.21213,375.91678 276.26263,376.36234 281.31314,376.84305 286.36365,377.77692 291.41415,377.4154 296.46466,377.56052 301.51514,377.4969 306.56567,378.9221 311.61615,378.0992 316.6667,378.04645 321.71716,377.8871 326.76767,378.44284 331.81818,378.84955 336.86868,378.74933 341.9192,379.3298 346.96973,379.69272 352.0202,380.5596 357.0707,379.91284 362.12122,379.71008 367.17172,377.88257 372.22223,379.67554 377.27274,380.93243 382.32324,378.75507 387.37372,380.86435 392.42426,381.17664 397.47476,380.23428 402.52527,380.6272 407.57578,381.24442 412.62628,380.83817 417.6768,381.3412 422.7273,381.53574 427.77777,381.27112 432.8283,381.0165 437.87878,382.3581 442.92932,376.72342 447.9798,381.44955 453.0303,379.97955 458.0808,381.9097 463.13132,382.65894 468.18185,381.4582 473.23233,381.3438 478.28284,382.16595 483.33334,382.54865 488.38385,382.2985 493.43436,382.14517 498.48486,382.8324 503.53534,382.44794 508.58588,383.0861 513.63635,382.9237 518.6869,376.02304 523.7374,382.9349 528.7879,383.12534 533.8384,383.48782 538.8889,377.82922 543.93945,383.48862 548.98987,382.6673 554.0404,382.80963 559.09094,383.01358 564.1414,381.49976 569.19196,383.00568 574.24243,381.11783 579.29297,383.42325 584.34344,383.52887 589.3939,384.10226 594.44446,383.8596 599.495,384.29208 604.5455,384.05905 609.59595,384.19073 614.6465,383.7944 619.697,383.46707 624.7475,383.54886 629.798,382.0948 634.8485,382.38165 639.899,376.78668 644.9495,383.7433 650,383.812 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,100 155.0505,125.59808 160.10101,145.61232 165.15152,161.22377 170.20203,173.34976 175.25253,185.82509 180.30304,195.83574 185.35353,202.83174 190.40405,211.67296 195.45454,217.74106 200.50505,222.38277 205.55556,228.07964 210.60606,233.72807 215.65657,237.76662 220.70708,241.43164 225.75757,246.21289 230.80809,249.80557 235.8586,253.2629 240.90909,255.95323 245.9596,258.93573 251.0101,261.12427 256.0606,264.0835 261.1111,265.57666 266.16162,268.44922 271.21213,270.17584 276.26263,271.79248 281.31314,274.11444 286.36365,275.89178 291.41415,277.53394 296.46466,279.05475 301.51514,281.3678 306.56567,281.8723 311.61615,283.8811 316.6667,285.06018 321.71716,286.50085 326.76767,287.4867 331.81818,289.02817 336.86868,290.34695 341.9192,291.765 346.96973,292.94196 352.0202,295.57755 357.0707,295.17694 362.12122,296.16022 367.17172,297.38815 372.22223,297.74854 377.27274,298.85406 382.32324,299.8402 387.37372,300.7118 392.42426,301.26178 397.47476,302.24875 402.52527,303.22922 407.57578,303.91678 412.62628,304.6116 417.6768,305.44116 422.7273,306.353 427.77777,306.341 432.8283,307.12827 437.87878,308.0532 442.92932,308.6089 447.9798,309.25745 453.0303,308.48135 458.0808,309.62753 463.13132,310.8091 468.18185,311.44595 473.23233,310.40704 478.28284,312.4196 483.33334,312.96207 488.38385,313.41797 493.43436,314.1106 498.48486,314.68695 503.53534,315.05743 508.58588,315.2862 513.63635,315.89566 518.6869,316.48395 523.7374,317.11884 528.7879,317.08273 533.8384,317.80414 538.8889,318.0323 543.93945,318.3155 548.98987,318.75952 554.0404,319.03156 559.09094,319.7597 564.1414,318.7166 569.19196,320.15335 574.24243,320.55673 579.29297,320.8603 584.34344,321.3164 589.3939,321.63055 594.44446,322.0147 599.495,322.1083 604.5455,322.68417 609.59595,323.31555 614.6465,323.39453 619.697,323.73758 624.7475,324.01114 629.798,322.9761 634.8485,324.53253 639.899,324.97485 644.9495,325.1613 650,325.2708 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(30_000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0.000</text><line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="276.26263" y="430" >0.005</text><line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="402.52527" y="430" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="528.78784" y="430" >0.015</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="389.64188" y2="389.64188" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="389.64188" >2e6</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.5106" y2="353.5106" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="353.5106" >4e6</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="317.3793" y2="317.3793" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="317.3793" >6e6</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="281.248" y2="281.248" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="281.248" >8e6</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="245.1167" y2="245.1167" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="245.1167" >1e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.98541" y2="208.98541" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="208.98541" >1.2e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="172.85413" y2="172.85413" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="172.85413" >1.4e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.72284" y2="136.72284" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="136.72284" >1.6e7</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100.59155" y2="100.59155" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="100.59155" >1.8e7</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >broccoli</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >naive</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >nosort</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >sweep</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Complexity of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Number of Comparisons</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<p><svg class="poloto" width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" ><rect class="poloto_background" fill="white" x="0" y="0" width="800" height="500" /><style><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style></style><line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="150" y="430" >0.000</text><line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="251.0101" y="430" >0.001</text><line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="352.0202" y="430" >0.002</text><line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="453.0303" y="430" >0.003</text><line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405" /><text class="poloto_text" alignment-baseline="start" text-anchor="middle" x="554.0404" y="430" >0.004</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="370.8793" y2="370.8793" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="370.8793" >0.010</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="320.16336" y2="320.16336" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="320.16336" >0.015</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="269.4474" y2="269.4474" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="269.4474" >0.020</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="218.73145" y2="218.73145" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="218.73145" >0.025</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="168.0155" y2="168.0155" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="168.0155" >0.030</text><line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="117.29956" y2="117.29956" /><text class="poloto_text" alignment-baseline="middle" text-anchor="end" x="135" y="117.29956" >0.035</text><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="100" >brocc</text><line class="poloto0stroke" stroke="black" x1="680" x2="730" y1="81.25" y2="81.25" /><polyline class="poloto0stroke" fill="none" stroke="black"  points="150,304.21014 155.0505,212.12862 160.10101,146.1933 165.15152,295.1632 170.20203,295.39813 175.25253,293.73135 180.30304,307.28973 185.35353,298.06406 190.40404,299.94998 195.45454,296.32837 200.50505,285.58344 205.55556,262.01062 210.60606,276.29178 215.65656,272.4842 220.70706,268.82397 225.75757,265.91318 230.80807,248.5432 235.85858,253.72229 240.90909,263.22607 245.9596,260.8579 251.0101,201.56433 256.0606,224.81055 261.1111,254.68834 266.16162,251.26476 271.21213,256.51788 276.26263,270.32675 281.3131,303.5706 286.36365,288.59702 291.41412,305.12894 296.46466,263.46423 301.51514,294.84778 306.56567,303.24588 311.61615,311.09286 316.6667,315.03522 321.71716,248.27936 326.7677,317.03043 331.81818,305.17224 336.86868,324.28668 341.9192,290.83368 346.9697,331.41458 352.0202,332.05594 357.0707,323.42325 362.12122,334.03204 367.17172,343.19028 372.22223,341.71716 377.2727,346.06052 382.32324,355.18835 387.37372,357.1308 392.42426,358.7751 397.47473,361.39996 402.52527,362.56787 407.57578,364.73907 412.62625,357.90475 417.67676,360.5206 422.7273,366.08707 427.77777,369.50244 432.82828,369.20642 437.87878,368.23105 442.9293,365.90274 447.9798,368.45746 453.0303,347.2055 458.0808,358.9963 463.13132,348.2201 468.18182,361.74744 473.23233,364.71057 478.28284,374.1493 483.33334,374.98987 488.38382,380.4226 493.43436,379.21957 498.48483,375.8871 503.53537,376.98288 508.58588,378.98108 513.63635,383.6331 518.6869,384.45004 523.73737,385.70172 528.78784,386.0521 533.8384,386.4201 538.8889,387.70215 543.9394,388.13846 548.98987,388.64673 554.0404,388.03754 559.09094,389.39648 564.1414,390.52228 569.1919,390.88733 574.24243,386.90973 579.29297,391.75983 584.34344,393.65506 589.3939,393.67624 594.44446,394.92685 599.49493,394.15463 604.5454,395.16965 609.59595,395.5934 614.6465,395.64185 619.69696,396.6453 624.74744,396.52484 629.798,397.0501 634.8485,397.67584 639.89905,398.38397 644.94946,398.20853 650,399.53204 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="150" >brocc_par</text><line class="poloto1stroke" stroke="black" x1="680" x2="730" y1="131.25" y2="131.25" /><polyline class="poloto1stroke" fill="none" stroke="black"  points="150,300.98944 155.0505,305.08054 160.10101,253.41772 165.15152,258.64154 170.20203,289.97913 175.25253,291.33313 180.30304,291.22607 185.35353,304.65167 190.40404,288.56662 195.45454,300.6475 200.50505,287.5285 205.55556,281.625 210.60606,292.80817 215.65656,287.4512 220.70706,284.5718 225.75757,284.029 230.80807,271.82727 235.85858,278.4188 240.90909,276.4258 245.9596,255.07841 251.0101,263.08264 256.0606,251.99638 261.1111,297.39703 266.16162,268.77863 271.21213,274.12177 276.26263,293.97464 281.3131,311.23157 286.36365,301.36844 291.41412,316.90613 296.46466,272.20953 301.51514,314.50464 306.56567,263.8081 311.61615,318.89178 316.6667,325.20502 321.71716,324.78802 326.7677,328.0545 331.81818,321.12613 336.86868,334.56775 341.9192,324.96985 346.9697,338.97623 352.0202,341.8594 357.0707,344.66125 362.12122,278.1993 367.17172,355.7079 372.22223,328.56335 377.2727,359.01483 382.32324,362.77457 387.37372,362.9667 392.42426,366.743 397.47473,361.4874 402.52527,368.67017 407.57578,364.52982 412.62625,365.7104 417.67676,367.81146 422.7273,367.8417 427.77777,374.05966 432.82828,372.87952 437.87878,372.42896 442.9293,369.1562 447.9798,372.14063 453.0303,369.081 458.0808,352.88315 463.13132,359.19006 468.18182,341.93433 473.23233,370.735 478.28284,376.50168 483.33334,382.10266 488.38382,382.85297 493.43436,378.07132 498.48483,374.03748 503.53537,382.62823 508.58588,376.60715 513.63635,386.12302 518.6869,387.1058 523.73737,384.50754 528.78784,388.8229 533.8384,389.60745 538.8889,390.00488 543.9394,390.3315 548.98987,390.4092 554.0404,390.11676 559.09094,389.7691 564.1414,392.95313 569.1919,392.5622 574.24243,393.78497 579.29297,394.41403 584.34344,395.7661 589.3939,396.29086 594.44446,396.2167 599.49493,396.4878 604.5454,397.31384 609.59595,395.92822 614.6465,397.76245 619.69696,398.187 624.74744,398.66116 629.798,398.05234 634.8485,398.34164 639.89905,399.8027 644.94946,399.56848 650,400 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="200" >naive</text><line class="poloto2stroke" stroke="black" x1="680" x2="730" y1="181.25" y2="181.25" /><polyline class="poloto2stroke" fill="none" stroke="black"  points="150,280.61832 155.0505,258.21848 160.10101,253.70851 165.15152,269.9522 170.20203,264.94812 175.25253,264.17996 180.30304,284.64612 185.35353,270.5848 190.40404,276.83478 195.45454,268.0158 200.50505,251.99461 205.55556,255.41647 210.60606,248.75008 215.65656,257.99957 220.70706,261.10938 225.75757,250.41077 230.80807,242.64485 235.85858,233.9078 240.90909,238.78836 245.9596,235.67104 251.0101,225.2558 256.0606,229.70186 261.1111,219.7706 266.16162,221.49036 271.21213,219.31407 276.26263,245.15663 281.3131,250.47144 286.36365,254.90851 291.41412,252.78757 296.46466,233.11827 301.51514,241.87625 306.56567,229.8425 311.61615,239.92093 316.6667,236.15276 321.71716,238.80974 326.7677,241.03989 331.81818,249.65314 336.86868,250.35233 341.9192,248.07185 346.9697,247.86119 352.0202,247.14824 357.0707,222.97177 362.12122,254.19371 367.17172,189.75458 372.22223,256.09595 377.2727,267.92035 382.32324,266.44208 387.37372,267.3631 392.42426,268.58032 397.47473,269.42874 402.52527,269.47025 407.57578,262.46515 412.62625,260.08368 417.67676,263.47195 422.7273,272.20746 427.77777,272.4385 432.82828,272.25494 437.87878,263.6772 442.9293,261.53607 447.9798,186.33485 453.0303,211.77022 458.0808,249.84517 463.13132,180.5128 468.18182,169.00826 473.23233,254.17172 478.28284,265.2707 483.33334,273.82693 488.38382,265.59668 493.43436,267.43158 498.48483,265.1953 503.53537,266.3538 508.58588,276.33545 513.63635,277.906 518.6869,277.44818 523.73737,277.13763 528.78784,277.03085 533.8384,277.73648 538.8889,277.10376 543.9394,277.27582 548.98987,277.0938 554.0404,277.04407 559.09094,277.74902 564.1414,277.999 569.1919,277.85974 574.24243,277.5587 579.29297,277.29047 584.34344,278.72076 589.3939,278.58447 594.44446,278.29318 599.49493,278.07916 604.5454,279.11307 609.59595,278.59802 614.6465,279.1751 619.69696,281.32178 624.74744,281.71866 629.798,280.84662 634.8485,281.46786 639.89905,280.97455 644.94946,279.52863 650,280.12546 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="250" >nosort</text><line class="poloto3stroke" stroke="black" x1="680" x2="730" y1="231.25" y2="231.25" /><polyline class="poloto3stroke" fill="none" stroke="black"  points="150,309.6756 155.0505,287.2082 160.10101,271.11972 165.15152,296.11053 170.20203,294.9436 175.25253,291.91684 180.30304,308.3102 185.35353,302.37622 190.40404,297.45078 195.45454,285.651 200.50505,264.70905 205.55556,269.4171 210.60606,262.73096 215.65656,243.19499 220.70706,251.16661 225.75757,244.78784 230.80807,236.88896 235.85858,228.48094 240.90909,233.46396 245.9596,213.52837 251.0101,219.26761 256.0606,231.89328 261.1111,207.55495 266.16162,202.81915 271.21213,207.55974 276.26263,238.35266 281.3131,227.35143 286.36365,228.5387 291.41412,238.08899 296.46466,214.14563 301.51514,111.57236 306.56567,247.2497 311.61615,252.67812 316.6667,246.94202 321.71716,250.54532 326.7677,238.55598 331.81818,251.13918 336.86868,252.36986 341.9192,238.04887 346.9697,265.053 352.0202,257.28564 357.0707,271.85657 362.12122,261.1633 367.17172,226.39749 372.22223,266.4513 377.2727,284.547 382.32324,280.58197 387.37372,273.7874 392.42426,293.50403 397.47473,294.54913 402.52527,288.86685 407.57578,278.33206 412.62625,290.88248 417.67676,288.04315 422.7273,298.21478 427.77777,294.3277 432.82828,302.6714 437.87878,301.18652 442.9293,227.0319 447.9798,288.9677 453.0303,271.24255 458.0808,276.51813 463.13132,206.28815 468.18182,264.21924 473.23233,301.19617 478.28284,306.80664 483.33334,303.0887 488.38382,313.08582 493.43436,303.10223 498.48483,305.50665 503.53537,304.18167 508.58588,303.46155 513.63635,313.91034 518.6869,322.9615 523.73737,323.93512 528.78784,321.656 533.8384,297.79703 538.8889,317.6596 543.9394,325.4841 548.98987,322.28467 554.0404,325.67682 559.09094,313.9239 564.1414,327.04636 569.1919,320.6702 574.24243,328.16534 579.29297,326.0976 584.34344,314.7937 589.3939,324.0631 594.44446,331.61786 599.49493,331.85834 604.5454,322.90982 609.59595,326.21097 614.6465,331.33835 619.69696,337.3559 624.74744,334.31976 629.798,328.68668 634.8485,333.47098 639.89905,329.39752 644.94946,335.79004 650,333.15332 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="300" >nosort_par</text><line class="poloto4stroke" stroke="black" x1="680" x2="730" y1="281.25" y2="281.25" /><polyline class="poloto4stroke" fill="none" stroke="black"  points="150,311.8957 155.0505,293.1978 160.10101,290.1967 165.15152,297.88562 170.20203,299.39294 175.25253,287.19385 180.30304,311.6892 185.35353,288.3772 190.40404,288.83038 195.45454,249.9099 200.50505,269.65173 205.55556,284.52313 210.60606,266.07272 215.65656,256.91357 220.70706,255.51904 225.75757,253.39995 230.80807,251.51097 235.85858,227.41869 240.90909,243.34259 245.9596,250.13664 251.0101,220.63664 256.0606,229.95798 261.1111,217.81123 266.16162,223.1172 271.21213,222.65202 276.26263,246.42886 281.3131,250.4754 286.36365,236.5721 291.41412,237.18666 296.46466,248.96243 301.51514,250.2837 306.56567,256.47668 311.61615,264.75354 316.6667,257.80487 321.71716,252.9596 326.7677,265.5103 331.81818,255.73488 336.86868,272.46484 341.9192,260.65515 346.9697,205.42381 352.0202,258.31604 357.0707,256.74298 362.12122,265.0484 367.17172,247.98242 372.22223,274.13144 377.2727,287.45135 382.32324,285.1722 387.37372,273.79053 392.42426,289.06406 397.47473,295.11426 402.52527,282.68863 407.57578,285.89856 412.62625,295.90955 417.67676,293.7647 422.7273,302.81427 427.77777,296.0194 432.82828,305.524 437.87878,304.3612 442.9293,274.39536 447.9798,282.40558 453.0303,200.9192 458.0808,275.52295 463.13132,276.37616 468.18182,280.2456 473.23233,298.90012 478.28284,295.04236 483.33334,296.6622 488.38382,315.60095 493.43436,306.35046 498.48483,307.36502 503.53537,304.03537 508.58588,304.8515 513.63635,315.15985 518.6869,325.90784 523.73737,326.93665 528.78784,325.7022 533.8384,300.05075 538.8889,321.8572 543.9394,328.2428 548.98987,325.53156 554.0404,328.91895 559.09094,315.34146 564.1414,326.39102 569.1919,323.96478 574.24243,331.40643 579.29297,329.93967 584.34344,315.5045 589.3939,326.78308 594.44446,336.7461 599.49493,335.91718 604.5454,326.03763 609.59595,327.76813 614.6465,334.2766 619.69696,341.59845 624.74744,337.6493 629.798,334.99902 634.8485,338.27563 639.89905,334.48975 644.94946,340.67148 650,336.2924 "/><text class="poloto_text" alignment-baseline="middle" text-anchor="start" font-size="large" x="675" y="350" >sweep</text><line class="poloto5stroke" stroke="black" x1="680" x2="730" y1="331.25" y2="331.25" /><polyline class="poloto5stroke" fill="none" stroke="black"  points="150,314.97015 155.0505,297.34998 160.10101,271.05072 165.15152,293.82684 170.20203,304.87097 175.25253,305.3562 180.30304,317.82556 185.35353,299.5725 190.40404,309.11334 195.45454,304.066 200.50505,291.3532 205.55556,276.39398 210.60606,278.90543 215.65656,270.52045 220.70706,268.56653 225.75757,261.8597 230.80807,259.4063 235.85858,248.99901 240.90909,241.44757 245.9596,242.37006 251.0101,234.48228 256.0606,216.56773 261.1111,207.91866 266.16162,199.2984 271.21213,209.7766 276.26263,213.65082 281.3131,236.38756 286.36365,234.15138 291.41412,234.47978 296.46466,220.18286 301.51514,215.73196 306.56567,199.04358 311.61615,224.51683 316.6667,223.06865 321.71716,226.94238 326.7677,224.46893 331.81818,216.14587 336.86868,240.16226 341.9192,232.62733 346.9697,227.34566 352.0202,227.3427 357.0707,216.0827 362.12122,241.97472 367.17172,216.64978 372.22223,230.18207 377.2727,252.80057 382.32324,252.04742 387.37372,254.78589 392.42426,257.91568 397.47473,258.89578 402.52527,260.46017 407.57578,260.7613 412.62625,252.42415 417.67676,251.4667 422.7273,263.65283 427.77777,265.32495 432.82828,265.5257 437.87878,255.46742 442.9293,254.54732 447.9798,100 453.0303,240.93518 458.0808,250.90282 463.13132,157.73709 468.18182,226.5565 473.23233,259.338 478.28284,268.31516 483.33334,275.51273 488.38382,274.08322 493.43436,268.1513 498.48483,268.5376 503.53537,270.21878 508.58588,280.2561 513.63635,280.38742 518.6869,281.00864 523.73737,282.76355 528.78784,282.78156 533.8384,282.94727 538.8889,284.03802 543.9394,286.6425 548.98987,285.9854 554.0404,287.6927 559.09094,287.34146 564.1414,285.51865 569.1919,289.48654 574.24243,289.94043 579.29297,291.89932 584.34344,292.80475 589.3939,291.39493 594.44446,292.5642 599.49493,293.0846 604.5454,296.57785 609.59595,295.25082 614.6465,297.4477 619.69696,298.0269 624.74744,299.11688 629.798,299.7525 634.8485,300.4925 639.89905,300.57733 644.94946,302.18805 650,301.33435 "/><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="37.5" >Bench of space partitioning algs with abspiral(3000,grow)</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" x="400" y="481.25" >Grow</text><text class="poloto_text" alignment-baseline="start" text-anchor="middle" font-size="x-large" transform="rotate(-90,37.5,250)" x="37.5" y="250" >Time in Seconds</text><path stroke="black" fill="none" class="poloto_axis_lines"  d="M 150 100 L 150 400 L 650 400 "/></svg></p>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
