<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.51495" y2="346.51495"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.51495">
1.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="293.0299" y2="293.0299"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="293.0299">
2.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="239.54486" y2="239.54486"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="239.54486">
3.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="186.05981" y2="186.05981"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="186.05981">
4.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="132.5748" y2="132.5748"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="132.5748">
5.00e7
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="213.13132" x2="213.13132" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="213.13132" y="440">
10000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
20000
</text>
<line class="poloto_axis_lines" stroke="black" x1="339.39392" x2="339.39392" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="339.39392" y="440">
30000
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
40000
</text>
<line class="poloto_axis_lines" stroke="black" x1="465.65656" x2="465.65656" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="465.65656" y="440">
50000
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
60000
</text>
<line class="poloto_axis_lines" stroke="black" x1="591.9192" x2="591.9192" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="591.9192" y="440">
70000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="346.05627" y2="346.05627"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="346.05627">
2.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="292.11258" y2="292.11258"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="292.11258">
4.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="238.16885" y2="238.16885"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="238.16885">
6.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="184.22516" y2="184.22516"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="184.22516">
8.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="130.28143" y2="130.28143"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="130.28143">
1.00e8
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="343.94604" y2="343.94604"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="343.94604">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="287.88745" y2="287.88745"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="287.88745">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="231.82886" y2="231.82886"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="231.82886">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="175.77026" y2="175.77026"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="175.77026">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="119.71167" y2="119.71167"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="119.71167">
0.010
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.6947 155.0505,399.1401 160.10101,397.74026 165.15152,397.2693 170.20203,396.21094 175.25253,395.3267 180.30302,392.5049 185.35353,393.5115 190.40404,392.4194 195.45454,391.2155 200.50505,390.35144 205.55556,389.43225 210.60606,388.65106 215.65656,387.77985 220.70706,386.43964 225.75757,385.40964 230.80807,384.41724 235.85858,383.49966 240.90909,382.42715 245.9596,381.2052 251.0101,380.37738 256.0606,379.0064 261.1111,377.96414 266.16162,376.85526 271.21213,376.26035 276.26263,375.21567 281.3131,374.00186 286.36365,372.927 291.41412,372.12674 296.46466,370.83856 301.51514,370.063 306.56567,368.93643 311.61615,367.9909 316.66666,366.79913 321.71716,365.9863 326.76767,364.83456 331.81818,363.08313 336.86868,362.378 341.9192,361.6005 346.9697,360.10315 352.0202,359.18256 357.0707,358.732 362.12122,357.0382 367.1717,356.67786 372.22223,355.42697 377.2727,354.86578 382.32324,353.45935 387.37372,352.42987 392.42426,351.24823 397.47473,349.58423 402.52527,349.31967 407.57574,348.60876 412.62625,347.02997 417.67676,345.96307 422.72726,344.7787 427.77777,344.30426 432.82828,340.36053 437.87878,342.30002 442.9293,340.94446 447.9798,340.4218 453.0303,338.64816 458.0808,338.3462 463.13132,336.9112 468.18182,336.2182 473.23233,335.0904 478.28284,333.8651 483.3333,332.7113 488.38382,330.27618 493.43433,330.9197 498.48483,328.73904 503.53534,327.36636 508.58585,326.8654 513.63635,325.67444 518.6869,324.28738 523.73737,322.97083 528.78784,322.2444 533.8384,321.45456 538.8889,320.14258 543.9394,318.4071 548.98987,317.41708 554.0404,316.0078 559.09094,315.80127 564.1414,312.76035 569.1919,311.0603 574.24243,310.46414 579.2929,310.16107 584.3434,308.38596 589.3939,307.96307 594.44446,306.67642 599.49493,304.75626 604.5454,304.61017 609.59595,303.6585 614.6465,303.05264 619.69696,302.07184 624.74744,300.10803 629.798,298.43015 634.8485,298.18164 639.899,297.69437 644.94946,295.43906 650,295.61807 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.43292 155.0505,398.66333 160.10101,397.8562 165.15152,397.04086 170.20203,396.15134 175.25253,395.15656 180.30302,394.30084 185.35353,393.38025 190.40404,392.41785 195.45454,391.2522 200.50505,390.33612 205.55556,389.25714 210.60606,388.562 215.65656,387.70258 220.70706,386.64246 225.75757,385.52408 230.80807,384.49673 235.85858,383.52826 240.90909,382.3138 245.9596,381.5519 251.0101,380.5282 256.0606,377.49625 261.1111,377.8592 266.16162,375.65573 271.21213,354.11462 276.26263,376.4394 281.3131,374.23053 286.36365,373.48602 291.41412,373.96317 296.46466,372.8707 301.51514,372.14166 306.56567,371.24203 311.61615,370.71487 316.66666,368.82724 321.71716,369.41208 326.76767,367.9667 331.81818,368.03436 336.86868,367.92395 341.9192,366.2403 346.9697,366.86615 352.0202,366.45364 357.0707,377.2375 362.12122,376.81882 367.1717,372.07397 372.22223,371.18823 377.2727,374.33807 382.32324,374.0189 387.37372,373.38632 392.42426,376.77457 397.47473,376.1638 402.52527,372.27182 407.57574,371.7041 412.62625,375.0657 417.67676,370.1109 422.72726,370.83124 427.77777,371.69632 432.82828,361.6315 437.87878,368.18274 442.9293,367.8519 447.9798,368.3337 453.0303,368.25128 458.0808,366.01392 463.13132,371.9757 468.18182,368.14893 473.23233,369.7139 478.28284,367.31845 483.3333,365.03812 488.38382,366.21332 493.43433,370.32028 498.48483,365.7233 503.53534,369.4311 508.58585,363.5579 513.63635,367.068 518.6869,361.37924 523.73737,365.04282 528.78784,360.35718 533.8384,361.1034 538.8889,359.37207 543.9394,348.6009 548.98987,365.59308 554.0404,360.36526 559.09094,363.93304 564.1414,350.93405 569.1919,339.21964 574.24243,361.34222 579.2929,357.8659 584.3434,358.14816 589.3939,360.39493 594.44446,357.52023 599.49493,355.92752 604.5454,359.81384 609.59595,354.4235 614.6465,359.33835 619.69696,356.95068 624.74744,357.31192 629.798,356.13754 634.8485,354.9692 639.899,354.89166 644.94946,353.17944 650,356.7024 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,398.78784 160.10101,396.28174 165.15152,392.82648 170.20203,389.16287 175.25253,384.9406 180.30302,379.9474 185.35353,374.91223 190.40404,368.9942 195.45454,362.47552 200.50505,355.07962 205.55556,346.30264 210.60606,335.09308 215.65656,324.85318 220.70706,320.0296 225.75757,309.94574 230.80807,300.64258 235.85858,288.07318 240.90909,275.99155 245.9596,265.28583 251.0101,250.64749 256.0606,238.93242 261.1111,223.65155 266.16162,212.51947 271.21213,196.8549 276.26263,181.26974 281.3131,166.92012 286.36365,151.16136 291.41412,132.58813 296.46466,119.993866 301.51514,100 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.98117 155.0505,399.10367 160.10101,397.72803 165.15152,396.195 170.20203,394.7325 175.25253,392.81912 180.30302,391.51132 185.35353,390.3692 190.40404,388.13382 195.45454,385.9879 200.50505,383.9097 205.55556,383.13577 210.60606,381.35806 215.65656,379.23343 220.70706,377.80368 225.75757,374.83063 230.80807,373.43146 235.85858,370.97485 240.90909,368.17703 245.9596,366.33438 251.0101,363.3422 256.0606,365.10965 261.1111,362.4281 266.16162,360.71527 271.21213,358.6478 276.26263,356.51047 281.3131,353.78555 286.36365,352.45593 291.41412,350.28467 296.46466,346.76678 301.51514,345.15747 306.56567,342.66232 311.61615,340.82504 316.66666,338.84854 321.71716,335.73575 326.76767,332.71875 331.81818,331.028 336.86868,326.58295 341.9192,325.01984 346.9697,322.59747 352.0202,320.06842 357.0707,323.51703 362.12122,321.79773 367.1717,318.96558 372.22223,315.27872 377.2727,314.9937 382.32324,311.41138 387.37372,309.26404 392.42426,308.01984 397.47473,304.39935 402.52527,300.94998 407.57574,299.8232 412.62625,296.69403 417.67676,295.17776 422.72726,292.82043 427.77777,290.13312 432.82828,287.36978 437.87878,283.9679 442.9293,282.5399 447.9798,279.72968 453.0303,274.79053 458.0808,274.5196 463.13132,270.86285 468.18182,269.36664 473.23233,268.18994 478.28284,265.82635 483.3333,262.6021 488.38382,260.3667 493.43433,257.4215 498.48483,254.10951 503.53534,247.69737 508.58585,247.54695 513.63635,243.7283 518.6869,237.18353 523.73737,239.83553 528.78784,234.91289 533.8384,235.77553 538.8889,230.34 543.9394,228.35538 548.98987,224.37776 554.0404,224.03764 559.09094,221.22078 564.1414,233.6826 569.1919,230.74316 574.24243,228.17776 579.2929,225.44885 584.3434,223.50336 589.3939,221.29538 594.44446,215.33606 599.49493,217.62737 604.5454,212.49686 609.59595,211.84999 614.6465,209.57533 619.69696,204.15585 624.74744,202.08981 629.798,200.78304 634.8485,196.52046 639.899,197.46404 644.94946,193.70578 650,191.34586 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.96915 155.0505,399.08447 160.10101,397.6411 165.15152,396.22293 170.20203,394.58527 175.25253,392.80737 180.30302,391.58224 185.35353,390.4894 190.40404,388.2316 195.45454,386.08246 200.50505,384.06293 205.55556,382.88354 210.60606,381.5658 215.65656,378.4362 220.70706,377.50134 225.75757,374.63165 230.80807,373.31873 235.85858,371.14575 240.90909,368.47766 245.9596,366.73468 251.0101,363.73184 256.0606,366.1714 261.1111,365.24683 266.16162,367.00055 271.21213,364.2958 276.26263,362.2063 281.3131,361.60098 286.36365,360.12265 291.41412,357.82224 296.46466,357.98224 301.51514,354.56873 306.56567,356.26404 311.61615,351.32874 316.66666,352.28333 321.71716,350.81647 326.76767,347.88397 331.81818,346.21582 336.86868,344.0251 341.9192,343.99295 346.9697,340.91476 352.0202,341.6129 357.0707,354.47247 362.12122,354.8664 367.1717,352.0055 372.22223,353.80798 377.2727,353.7262 382.32324,351.27597 387.37372,351.1088 392.42426,351.823 397.47473,348.4297 402.52527,348.34995 407.57574,351.3497 412.62625,345.6508 417.67676,345.84818 422.72726,344.1115 427.77777,341.93982 432.82828,335.9049 437.87878,339.28223 442.9293,340.7951 447.9798,337.3147 453.0303,336.84622 458.0808,339.045 463.13132,334.39148 468.18182,337.3604 473.23233,336.7211 478.28284,333.30933 483.3333,333.39014 488.38382,334.19122 493.43433,329.41852 498.48483,330.6615 503.53534,326.1846 508.58585,326.77832 513.63635,327.31854 518.6869,323.9675 523.73737,327.82086 528.78784,323.64404 533.8384,323.9132 538.8889,321.3567 543.9394,292.95337 548.98987,319.96423 554.0404,319.6832 559.09094,287.85138 564.1414,301.19012 569.1919,321.36484 574.24243,320.13803 579.2929,320.96777 584.3434,316.4718 589.3939,318.56232 594.44446,314.97678 599.49493,317.27734 604.5454,313.40256 609.59595,315.2891 614.6465,314.1402 619.69696,309.50797 624.74744,304.06702 629.798,310.44998 634.8485,302.93445 639.899,304.83673 644.94946,304.43207 650,302.93225 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.64145 155.0505,399.10223 160.10101,397.9982 165.15152,396.05777 170.20203,394.5995 175.25253,393.10867 180.30302,391.26135 185.35353,389.9279 190.40404,387.74567 195.45454,385.90927 200.50505,383.85416 205.55556,381.5733 210.60606,379.16373 215.65656,376.768 220.70706,374.72946 225.75757,372.38803 230.80807,369.9207 235.85858,367.17892 240.90909,364.5006 245.9596,362.3017 251.0101,359.6205 256.0606,356.07678 261.1111,353.61545 266.16162,350.78195 271.21213,347.8955 276.26263,345.18472 281.3131,342.08792 286.36365,339.03067 291.41412,335.76596 296.46466,332.4309 301.51514,329.1302 306.56567,326.5557 311.61615,323.09875 316.66666,319.74792 321.71716,317.022 326.76767,313.57977 331.81818,309.77325 336.86868,306.4361 341.9192,303.37885 346.9697,299.54544 352.0202,296.0008 357.0707,292.55862 362.12122,289.01367 367.1717,284.90204 372.22223,281.4877 377.2727,277.99945 382.32324,274.23303 387.37372,270.6051 392.42426,266.5102 397.47473,263.09424 402.52527,259.33093 407.57574,254.8274 412.62625,251.12148 417.67676,247.02841 422.72726,243.43483 427.77777,239.73625 432.82828,234.74068 437.87878,230.74902 442.9293,227.31348 447.9798,223.12592 453.0303,218.23389 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.2)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
2000
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
4000
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
6000
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
8000
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.05304" y2="365.05304"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.05304">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.10345" y2="330.10345"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.10345">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.15387" y2="295.15387"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.15387">
0.006
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.20428" y2="260.20428"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.20428">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="225.2547" y2="225.2547"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="225.2547">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="190.30511" y2="190.30511"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="190.30511">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="155.35553" y2="155.35553"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="155.35553">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="120.405945" y2="120.405945"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="120.405945">
0.016
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,399.9921 155.0505,399.52344 160.10101,398.62024 165.15152,397.6928 170.20203,396.71823 175.25253,395.8145 180.30302,394.45737 185.35353,393.49673 190.40404,392.6663 195.45454,391.69083 200.50505,390.62576 205.55556,389.3367 210.60606,388.2224 215.65656,387.13297 220.70706,386.46432 225.75757,385.42035 230.80807,384.29132 235.85858,383.47256 240.90909,382.29904 245.9596,381.48743 251.0101,380.4522 256.0606,377.71295 261.1111,376.93378 266.16162,376.23962 271.21213,374.8044 276.26263,373.75418 281.3131,372.80344 286.36365,371.91287 291.41412,370.5368 296.46466,369.63828 301.51514,368.57236 306.56567,367.50043 311.61615,366.85678 316.66666,365.30316 321.71716,364.65015 326.76767,363.45193 331.81818,362.75406 336.86868,361.58594 341.9192,360.6707 346.9697,359.34756 352.0202,358.51788 357.0707,356.0406 362.12122,354.91397 367.1717,353.40796 372.22223,352.61023 377.2727,351.57117 382.32324,350.70203 387.37372,349.7994 392.42426,348.42938 397.47473,347.0267 402.52527,346.0558 407.57574,344.91364 412.62625,343.75104 417.67676,342.38043 422.72726,342.01395 427.77777,340.8842 432.82828,339.5002 437.87878,338.13574 442.9293,337.12152 447.9798,336.40262 453.0303,336.4686 458.0808,334.65643 463.13132,333.4519 468.18182,332.34082 473.23233,331.49283 478.28284,330.41614 483.3333,328.98904 488.38382,328.27365 493.43433,327.27966 498.48483,326.1991 503.53534,325.1053 508.58585,324.976 513.63635,323.69406 518.6869,322.48495 523.73737,321.14838 528.78784,319.74384 533.8384,318.98386 538.8889,317.84857 543.9394,316.86755 548.98987,315.67175 554.0404,314.14188 559.09094,313.6207 564.1414,305.78687 569.1919,304.8106 574.24243,302.77618 579.2929,302.35522 584.3434,301.12646 589.3939,300.27676 594.44446,299.2255 599.49493,298.12732 604.5454,295.81967 609.59595,295.73065 614.6465,294.6015 619.69696,293.5993 624.74744,292.93875 629.798,292.26755 634.8485,290.79077 639.899,288.72162 644.94946,288.37537 650,288.0233 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,399.98328 155.0505,399.48434 160.10101,398.56744 165.15152,397.6598 170.20203,396.73523 175.25253,395.8187 180.30302,394.41702 185.35353,393.44058 190.40404,392.6234 195.45454,391.62848 200.50505,390.66556 205.55556,389.31006 210.60606,388.17722 215.65656,387.14816 220.70706,386.49908 225.75757,385.36716 230.80807,384.2343 235.85858,383.47723 240.90909,382.2608 245.9596,381.5498 251.0101,380.39404 256.0606,377.51215 261.1111,377.03726 266.16162,376.89313 271.21213,376.41492 276.26263,376.19214 281.3131,375.21198 286.36365,375.6598 291.41412,374.77338 296.46466,373.40915 301.51514,372.55597 306.56567,372.0243 311.61615,370.8831 316.66666,370.0459 321.71716,369.64395 326.76767,369.37198 331.81818,367.34998 336.86868,366.16846 341.9192,367.132 346.9697,366.4169 352.0202,365.9017 357.0707,372.46198 362.12122,371.5966 367.1717,371.0672 372.22223,371.9157 377.2727,364.6131 382.32324,371.4313 387.37372,372.72116 392.42426,369.67142 397.47473,370.34702 402.52527,368.1365 407.57574,367.67166 412.62625,368.45905 417.67676,366.8104 422.72726,365.58908 427.77777,366.38937 432.82828,363.9937 437.87878,364.36523 442.9293,366.05447 447.9798,364.80255 453.0303,367.46268 458.0808,365.9361 463.13132,362.41544 468.18182,363.61243 473.23233,364.68036 478.28284,363.04678 483.3333,363.19937 488.38382,361.33417 493.43433,362.9372 498.48483,361.16415 503.53534,361.77167 508.58585,362.5543 513.63635,362.57965 518.6869,362.82648 523.73737,359.8733 528.78784,360.50845 533.8384,359.7573 538.8889,359.06204 543.9394,358.5295 548.98987,358.30878 554.0404,358.3344 559.09094,358.33655 564.1414,341.8075 569.1919,351.80347 574.24243,351.84045 579.2929,352.01538 584.3434,351.64285 589.3939,355.04764 594.44446,354.02386 599.49493,350.8464 604.5454,351.50177 609.59595,349.5296 614.6465,349.75815 619.69696,349.60165 624.74744,349.06946 629.798,350.588 634.8485,351.20682 639.899,348.42966 644.94946,348.66562 650,339.964 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,399.40396 160.10101,397.52133 165.15152,394.99603 170.20203,391.99283 175.25253,388.1495 180.30302,383.90793 185.35353,379.23062 190.40404,373.88635 195.45454,368.126 200.50505,362.68286 205.55556,356.91965 210.60606,348.8041 215.65656,342.4858 220.70706,333.70596 225.75757,326.83252 230.80807,320.14038 235.85858,307.9136 240.90909,300.8202 245.9596,291.243 251.0101,279.75305 256.0606,268.94162 261.1111,254.38033 266.16162,245.90924 271.21213,232.9601 276.26263,221.56456 281.3131,209.34239 286.36365,192.40895 291.41412,183.4679 296.46466,167.91763 301.51514,145.76779 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,399.99457 155.0505,399.40887 160.10101,398.11246 165.15152,396.85434 170.20203,394.80197 175.25253,393.34116 180.30302,391.1675 185.35353,389.44806 190.40404,387.904 195.45454,385.0355 200.50505,383.19232 205.55556,381.58298 210.60606,378.17447 215.65656,376.84375 220.70706,375.10278 225.75757,370.7872 230.80807,369.17752 235.85858,367.59137 240.90909,364.06778 245.9596,362.34467 251.0101,360.14365 256.0606,357.2088 261.1111,351.53186 266.16162,353.1493 271.21213,349.08902 276.26263,346.05444 281.3131,342.02487 286.36365,339.87616 291.41412,335.29846 296.46466,334.03375 301.51514,333.24988 306.56567,331.51587 311.61615,327.89676 316.66666,325.29938 321.71716,320.99622 326.76767,319.3454 331.81818,315.1297 336.86868,309.01797 341.9192,312.67188 346.9697,308.89282 352.0202,305.23248 357.0707,300.44443 362.12122,295.75525 367.1717,296.1069 372.22223,293.17136 377.2727,293.80988 382.32324,286.69006 387.37372,284.6504 392.42426,282.42343 397.47473,276.37494 402.52527,280.53552 407.57574,268.66556 412.62625,269.51608 417.67676,263.98297 422.72726,260.69275 427.77777,261.35703 432.82828,256.7142 437.87878,253.5977 442.9293,250.06088 447.9798,252.6786 453.0303,246.43852 458.0808,243.0285 463.13132,238.4109 468.18182,231.35478 473.23233,231.29073 478.28284,225.1795 483.3333,226.35359 488.38382,222.68614 493.43433,216.15681 498.48483,216.84915 503.53534,211.51422 508.58585,209.27852 513.63635,205.33913 518.6869,199.01434 523.73737,197.45831 528.78784,198.12392 533.8384,192.19157 538.8889,190.49173 543.9394,182.40656 548.98987,187.72713 554.0404,176.27289 559.09094,171.264 564.1414,171.23383 569.1919,171.90352 574.24243,167.09972 579.2929,153.09935 584.3434,157.49619 589.3939,150.79019 594.44446,153.83731 599.49493,151.35138 604.5454,145.5613 609.59595,139.50784 614.6465,139.90674 619.69696,128.29599 624.74744,124.68771 629.798,121.61395 634.8485,126.07233 639.899,115.924194 644.94946,100 650,112.17447 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,399.99258 155.0505,399.42267 160.10101,397.94366 165.15152,396.64227 170.20203,394.51474 175.25253,393.09644 180.30302,390.9339 185.35353,389.29425 190.40404,387.95847 195.45454,385.06833 200.50505,383.21112 205.55556,380.85696 210.60606,377.1184 215.65656,375.96915 220.70706,374.303 225.75757,370.11758 230.80807,368.14417 235.85858,366.6257 240.90909,363.1836 245.9596,361.36722 251.0101,359.44476 256.0606,361.8356 261.1111,355.9228 266.16162,358.9508 271.21213,356.75037 276.26263,353.6874 281.3131,351.97244 286.36365,350.71927 291.41412,347.33786 296.46466,345.79367 301.51514,348.00882 306.56567,347.25113 311.61615,342.9012 316.66666,339.1865 321.71716,337.43225 326.76767,336.5022 331.81818,333.2644 336.86868,326.93774 341.9192,334.7617 346.9697,330.5522 352.0202,327.95013 357.0707,334.73105 362.12122,333.3423 367.1717,332.007 372.22223,318.66727 377.2727,320.72974 382.32324,332.1598 387.37372,332.25876 392.42426,329.1582 397.47473,323.03604 402.52527,328.0914 407.57574,319.73575 412.62625,322.32468 417.67676,317.28668 422.72726,318.97995 427.77777,317.15488 432.82828,318.25964 437.87878,315.62164 442.9293,313.91928 447.9798,314.85358 453.0303,312.11755 458.0808,308.32132 463.13132,308.5154 468.18182,303.90927 473.23233,305.76373 478.28284,300.81152 483.3333,301.98337 488.38382,301.60287 493.43433,292.9577 498.48483,297.7931 503.53534,299.78415 508.58585,296.47156 513.63635,296.58124 518.6869,288.1494 523.73737,287.97223 528.78784,290.1098 533.8384,285.95294 538.8889,288.13684 543.9394,279.88184 548.98987,289.08795 554.0404,280.2968 559.09094,252.9873 564.1414,276.42276 569.1919,278.50854 574.24243,277.52792 579.2929,266.4926 584.3434,272.44757 589.3939,270.50055 594.44446,270.82834 599.49493,271.34198 604.5454,269.33417 609.59595,260.19806 614.6465,265.58704 619.69696,256.98654 624.74744,253.55872 629.798,254.76595 634.8485,259.81738 639.899,248.24219 644.94946,243.11345 650,256.0357 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,399.7934 155.0505,399.44193 160.10101,398.2962 165.15152,396.71918 170.20203,394.9552 175.25253,392.9903 180.30302,391.24573 185.35353,389.05154 190.40404,386.75214 195.45454,384.4724 200.50505,382.2056 205.55556,379.55414 210.60606,376.93082 215.65656,374.2542 220.70706,371.7067 225.75757,368.44766 230.80807,365.35516 235.85858,362.54352 240.90909,359.65176 245.9596,356.37408 251.0101,352.9615 256.0606,350.00122 261.1111,346.37323 266.16162,342.8123 271.21213,339.26053 276.26263,335.8953 281.3131,332.22452 286.36365,329.05826 291.41412,325.37094 296.46466,321.28665 301.51514,317.39777 306.56567,313.82867 311.61615,309.722 316.66666,305.49786 321.71716,301.52277 326.76767,297.56595 331.81818,293.40195 336.86868,288.37625 341.9192,284.6311 346.9697,280.07544 352.0202,276.00873 357.0707,271.84946 362.12122,267.51843 367.1717,262.62354 372.22223,258.32642 377.2727,253.75023 382.32324,249.39023 387.37372,244.98082 392.42426,239.96138 397.47473,235.48798 402.52527,231.0294 407.57574,225.25742 412.62625,220.60246 417.67676,215.25157 422.72726,209.86314 427.77777,205.69244 432.82828,200.5912 437.87878,194.31035 442.9293,190.46489 447.9798,185.6254 453.0303,180.65004 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(x,0.05)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Number of Elements
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="365.22528" y2="365.22528"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="365.22528">
1.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="330.4506" y2="330.4506"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="330.4506">
2.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="295.67587" y2="295.67587"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="295.67587">
3.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="260.90118" y2="260.90118"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="260.90118">
4.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="226.12646" y2="226.12646"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="226.12646">
5.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="191.35175" y2="191.35175"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="191.35175">
6.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="156.57706" y2="156.57706"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="156.57706">
7.00e5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="121.80234" y2="121.80234"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="121.80234">
8.00e5
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="189.8724" x2="189.8724" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="189.8724" y="440">
0.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="256.32642" x2="256.32642" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="256.32642" y="440">
1.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="322.78046" x2="322.78046" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="322.78046" y="440">
1.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="389.23444" x2="389.23444" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="389.23444" y="440">
2.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="455.68848" x2="455.68848" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="455.68848" y="440">
2.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="522.14246" x2="522.14246" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="522.14246" y="440">
3.0
</text>
<line class="poloto_axis_lines" stroke="black" x1="588.5965" x2="588.5965" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="588.5965" y="440">
3.5
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="400" y2="400"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="400">
0.00
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="352.22327" y2="352.22327"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="352.22327">
0.01
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="304.44656" y2="304.44656"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="304.44656">
0.02
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="256.66983" y2="256.66983"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="256.66983">
0.03
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.89313" y2="208.89313"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="208.89313">
0.04
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="161.1164" y2="161.1164"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="161.1164">
0.05
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="113.33966" y2="113.33966"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="113.33966">
0.06
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,343.7017 155.0505,346.11447 160.10101,347.85004 165.15152,349.31805 170.20203,349.54303 175.25253,351.76685 180.30304,353.56772 185.35353,353.85547 190.40405,354.72156 195.45454,355.3263 200.50505,356.51468 205.55556,356.9259 210.60606,357.60742 215.65657,358.16708 220.70708,358.1866 225.75757,358.96408 230.80809,359.4747 235.8586,360.284 240.90909,360.67416 245.9596,360.88562 251.0101,360.70355 256.0606,361.2495 261.1111,361.6601 266.16162,362.10318 271.21213,362.1083 276.26263,362.1205 281.31314,362.50635 286.36365,362.71567 291.41415,363.2079 296.46466,363.46222 301.51514,363.2543 306.56567,363.76483 311.61615,363.97363 316.6667,363.93997 321.71716,363.8648 326.76767,364.51276 331.81818,364.9441 336.86868,365.22794 341.9192,365.32336 346.96973,365.8929 352.0202,367.9698 357.0707,366.1506 362.12122,366.1144 367.17172,366.89203 372.22223,366.94376 377.27274,366.79535 382.32324,366.7987 387.37372,367.28125 392.42426,367.5126 397.47476,367.20288 402.52527,367.6726 407.57578,367.89108 412.62628,367.9571 417.6768,367.86957 422.7273,368.29352 427.77777,367.86743 432.8283,368.29657 437.87878,368.60455 442.92932,368.34436 447.9798,368.67944 453.0303,366.561 458.0808,368.60074 463.13132,368.87622 468.18185,368.73712 473.23233,368.8076 478.28284,368.53735 483.33334,368.74014 488.38385,369.26343 493.43436,368.99426 498.48486,369.26355 503.53534,368.99496 508.58588,369.25998 513.63635,369.35626 518.6869,369.40054 523.7374,369.9472 528.7879,369.2041 533.8384,369.71765 538.8889,369.57446 543.93945,369.52124 548.98987,369.89316 554.0404,370.0256 559.09094,369.98178 564.1414,368.43298 569.19196,369.61777 574.24243,370.01358 579.29297,369.88596 584.34344,370.24902 589.3939,370.41776 594.44446,370.2596 599.495,370.53674 604.5455,370.71494 609.59595,370.48914 614.6465,370.30396 619.697,370.4649 624.7475,370.21527 629.798,369.24722 634.8485,370.72437 639.899,370.7679 644.9495,370.68127 650,370.58524 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,380.87497 155.0505,381.8334 160.10101,382.55566 165.15152,382.76074 170.20203,382.26163 175.25253,376.34595 180.30304,384.5914 185.35353,384.1688 190.40405,384.90564 195.45454,384.72812 200.50505,384.78955 205.55556,384.88763 210.60606,385.08878 215.65657,385.7574 220.70708,385.13068 225.75757,385.6809 230.80809,386.00156 235.8586,380.41272 240.90909,386.68518 245.9596,387.20612 251.0101,386.64822 256.0606,386.7706 261.1111,386.33328 266.16162,387.42505 271.21213,387.00156 276.26263,386.72986 281.31314,387.59024 286.36365,386.96863 291.41415,387.5961 296.46466,388.01544 301.51514,386.80197 306.56567,386.8112 311.61615,387.6559 316.6667,387.8639 321.71716,388.07098 326.76767,387.59366 331.81818,387.04843 336.86868,386.50214 341.9192,388.07703 346.96973,388.64862 352.0202,389.23242 357.0707,387.99136 362.12122,388.52722 367.17172,387.41208 372.22223,389.12558 377.27274,388.472 382.32324,388.36057 387.37372,389.10535 392.42426,385.57886 397.47476,388.45056 402.52527,387.8771 407.57578,388.00684 412.62628,388.98352 417.6768,389.13013 422.7273,388.82034 427.77777,388.70523 432.8283,388.72415 437.87878,387.63943 442.92932,388.68918 447.9798,388.612 453.0303,387.16318 458.0808,389.53198 463.13132,389.17697 468.18185,388.90317 473.23233,389.71265 478.28284,388.4311 483.33334,388.7494 488.38385,388.35852 493.43436,388.97125 498.48486,389.0503 503.53534,387.78986 508.58588,389.09866 513.63635,389.38803 518.6869,389.09387 523.7374,388.5609 528.7879,388.1118 533.8384,389.06345 538.8889,389.19205 543.93945,387.64258 548.98987,389.7976 554.0404,388.30972 559.09094,389.53384 564.1414,387.6929 569.19196,388.75977 574.24243,388.87888 579.29297,389.1619 584.34344,383.58603 589.3939,390.15512 594.44446,390.2255 599.495,389.54807 604.5455,389.6778 609.59595,389.1871 614.6465,389.0077 619.697,389.05637 624.7475,388.60028 629.798,387.99945 634.8485,390.10538 639.899,389.29138 644.9495,389.31223 650,389.48715 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,264.56763 155.0505,276.33554 160.10101,283.14297 165.15152,289.98386 170.20203,291.0623 175.25253,298.36984 180.30304,301.56073 185.35353,304.14932 190.40405,306.1611 195.45454,309.6067 200.50505,311.9035 205.55556,313.4068 210.60606,314.92755 215.65657,316.64905 220.70708,316.2909 225.75757,319.5534 230.80809,320.6941 235.8586,321.38217 240.90909,322.06082 245.9596,322.98505 251.0101,324.04205 256.0606,325.3 261.1111,325.37924 266.16162,327.12402 271.21213,326.83112 276.26263,327.161 281.31314,328.4711 286.36365,328.28937 291.41415,329.41498 296.46466,329.63153 301.51514,330.29813 306.56567,331.31842 311.61615,331.57245 316.6667,332.14325 321.71716,331.90967 326.76767,333.0512 331.81818,333.5487 336.86868,334.18076 341.9192,334.85226 346.96973,335.59668 352.0202,337.34985 357.0707,336.11536 362.12122,336.0081 367.17172,336.9149 372.22223,337.40567 377.27274,337.6546 382.32324,337.47888 387.37372,338.93362 392.42426,339.1222 397.47476,338.62146 402.52527,339.0955 407.57578,339.5622 412.62628,339.7677 417.6768,339.8187 422.7273,340.4853 427.77777,340.01816 432.8283,340.46042 437.87878,341.19955 442.92932,340.76526 447.9798,341.442 453.0303,339.39948 458.0808,341.81433 463.13132,342.3861 468.18185,342.2644 473.23233,342.00293 478.28284,342.66953 483.33334,342.96744 488.38385,343.28174 493.43436,342.97522 498.48486,343.09702 503.53534,343.33374 508.58588,343.67502 513.63635,343.68277 518.6869,344.16263 523.7374,344.46603 528.7879,343.61365 533.8384,344.70126 538.8889,344.50333 543.93945,344.81366 548.98987,345.04318 554.0404,344.82343 559.09094,345.22174 564.1414,343.54953 569.19196,344.67166 574.24243,345.34863 579.29297,345.39075 584.34344,345.92145 589.3939,345.88013 594.44446,346.08417 599.495,346.58798 604.5455,346.4236 609.59595,346.28693 614.6465,346.4959 619.697,346.47415 624.7475,346.1353 629.798,345.5783 634.8485,346.49023 639.899,346.41858 644.9495,346.66467 650,346.8799 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,346.60535 155.0505,331.47723 160.10101,357.4888 165.15152,359.62878 170.20203,358.93384 175.25253,362.82068 180.30304,364.4497 185.35353,366.58875 190.40405,365.27164 195.45454,368.64206 200.50505,369.4718 205.55556,369.83795 210.60606,370.42102 215.65657,371.9146 220.70708,370.50278 225.75757,371.5652 230.80809,355.88696 235.8586,373.5502 240.90909,373.31445 245.9596,373.20526 251.0101,373.52142 256.0606,373.87747 261.1111,374.91574 266.16162,375.19327 271.21213,374.71964 276.26263,374.42783 281.31314,375.6448 286.36365,376.75415 291.41415,376.43515 296.46466,376.84326 301.51514,376.82303 306.56567,374.40692 311.61615,377.45306 316.6667,377.18036 321.71716,377.34604 326.76767,377.8459 331.81818,378.10056 336.86868,378.2305 341.9192,377.92807 346.96973,378.6167 352.0202,378.3499 357.0707,379.3519 362.12122,378.82306 367.17172,379.91202 372.22223,379.60593 377.27274,379.87088 382.32324,378.74988 387.37372,379.65756 392.42426,379.73053 397.47476,379.5107 402.52527,378.75388 407.57578,380.15857 412.62628,379.82336 417.6768,379.6055 422.7273,379.69226 427.77777,379.5213 432.8283,380.443 437.87878,380.73682 442.92932,380.23895 447.9798,380.37033 453.0303,378.29712 458.0808,381.09885 463.13132,381.33115 468.18185,380.72662 473.23233,381.24094 478.28284,380.80652 483.33334,366.25558 488.38385,381.0687 493.43436,380.75476 498.48486,381.55823 503.53534,381.35538 508.58588,381.38245 513.63635,381.18774 518.6869,380.75168 523.7374,381.69742 528.7879,381.43665 533.8384,381.7725 538.8889,380.92874 543.93945,382.21228 548.98987,381.85266 554.0404,381.63287 559.09094,381.781 564.1414,380.62073 569.19196,381.84653 574.24243,373.81012 579.29297,374.7498 584.34344,382.27084 589.3939,382.54504 594.44446,382.17026 599.495,382.54648 604.5455,381.9444 609.59595,382.2743 614.6465,380.78513 619.697,381.52573 624.7475,381.77905 629.798,381.14542 634.8485,382.87054 639.899,381.71893 644.9495,382.0069 650,382.36182 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,100 155.0505,125.46274 160.10101,145.40712 165.15152,161.033 170.20203,171.91206 175.25253,184.55501 180.30304,194.78348 185.35353,203.20068 190.40405,210.77469 195.45454,216.7572 200.50505,223.03294 205.55556,227.61928 210.60606,233.03134 215.65657,236.90273 220.70708,240.4066 225.75757,244.8795 230.80809,248.6071 235.8586,251.95406 240.90909,254.61458 245.9596,257.51755 251.0101,259.67554 256.0606,262.53357 261.1111,264.516 266.16162,266.9726 271.21213,268.5767 276.26263,270.19443 281.31314,272.3185 286.36365,274.0349 291.41415,275.54825 296.46466,277.08334 301.51514,279.4572 306.56567,279.71127 311.61615,281.90094 316.6667,283.31122 321.71716,284.55908 326.76767,285.63544 331.81818,287.21448 336.86868,288.41708 341.9192,290.09464 346.96973,291.32025 352.0202,294.46732 357.0707,293.71136 362.12122,294.73843 367.17172,295.7343 372.22223,296.47717 377.27274,297.32446 382.32324,298.57016 387.37372,299.39798 392.42426,300.1333 397.47476,300.84766 402.52527,301.8377 407.57578,302.43515 412.62628,303.13773 417.6768,304.16055 422.7273,304.4889 427.77777,305.34955 432.8283,305.9831 437.87878,306.46326 442.92932,307.19946 447.9798,307.93073 453.0303,306.87726 458.0808,308.61633 463.13132,309.50232 468.18185,309.83002 473.23233,310.28925 478.28284,310.60144 483.33334,311.3363 488.38385,311.83466 493.43436,312.35757 498.48486,313.10983 503.53534,313.16025 508.58588,313.4973 513.63635,313.98627 518.6869,315.00446 523.7374,315.22363 528.7879,315.18274 533.8384,315.9171 538.8889,316.18427 543.93945,316.57193 548.98987,316.78296 554.0404,317.109 559.09094,317.7038 564.1414,316.78348 569.19196,318.32733 574.24243,318.59518 579.29297,318.99045 584.34344,319.44217 589.3939,319.81366 594.44446,320.16174 599.495,320.26828 604.5455,320.7577 609.59595,321.47467 614.6465,321.5177 619.697,321.90842 624.7475,322.1246 629.798,320.91388 634.8485,322.55792 639.899,322.98972 644.9495,323.15176 650,323.2866 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(30_000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="276.26263" x2="276.26263" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="276.26263" y="440">
0.005
</text>
<line class="poloto_axis_lines" stroke="black" x1="402.52527" x2="402.52527" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="402.52527" y="440">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="528.78784" x2="528.78784" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="528.78784" y="440">
0.015
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="389.64188" y2="389.64188"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="389.64188">
2.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="353.5106" y2="353.5106"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="353.5106">
4.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="317.3793" y2="317.3793"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="317.3793">
6.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="281.248" y2="281.248"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="281.248">
8.00e6
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="245.1167" y2="245.1167"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="245.1167">
1.00e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="208.98541" y2="208.98541"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="208.98541">
1.20e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="172.85413" y2="172.85413"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="172.85413">
1.40e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="136.72284" y2="136.72284"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="136.72284">
1.60e7
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="100.59155" y2="100.59155"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="100.59155">
1.80e7
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
broccoli
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
naive
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
nosort
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
sweep
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Complexity of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Number of Comparisons
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<svg class="poloto" height="500" viewBox="0 0 800 500" width="800" xmlns="http://www.w3.org/2000/svg">
<rect class="poloto_background" fill="white" height="500" width="800" x="0" y="0"/>
<style>
.poloto {
font-family: "Arial";
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}
</style>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="150" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="150" y="440">
0.000
</text>
<line class="poloto_axis_lines" stroke="black" x1="251.0101" x2="251.0101" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="251.0101" y="440">
0.001
</text>
<line class="poloto_axis_lines" stroke="black" x1="352.0202" x2="352.0202" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="352.0202" y="440">
0.002
</text>
<line class="poloto_axis_lines" stroke="black" x1="453.0303" x2="453.0303" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="453.0303" y="440">
0.003
</text>
<line class="poloto_axis_lines" stroke="black" x1="554.0404" x2="554.0404" y1="400" y2="405"/>
<text alignment-baseline="start" class="poloto_text" text-anchor="middle" x="554.0404" y="440">
0.004
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="380.4708" y2="380.4708"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="380.4708">
0.008
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="343.7017" y2="343.7017"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="343.7017">
0.010
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="306.93262" y2="306.93262"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="306.93262">
0.012
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="270.1635" y2="270.1635"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="270.1635">
0.014
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="233.39441" y2="233.39441"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="233.39441">
0.016
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="196.6253" y2="196.6253"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="196.6253">
0.018
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="159.8562" y2="159.8562"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="159.8562">
0.020
</text>
<line class="poloto_axis_lines" stroke="black" x1="150" x2="144" y1="123.08713" y2="123.08713"/>
<text alignment-baseline="middle" class="poloto_text" text-anchor="end" x="120" y="123.08713">
0.022
</text>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="100">
brocc
</text>
<line class="poloto0stroke" x1="680" x2="730" y1="81.25" y2="81.25"/>
<polyline class="poloto0stroke" fill="none" points="150,249.16977 155.0505,248.80017 160.10101,248.68237 165.15152,250.32407 170.20203,249.66719 175.25253,249.33952 180.30304,247.86021 185.35353,240.49055 190.40404,236.516 195.45454,224.70673 200.50505,219.82088 205.55556,207.22032 210.60606,204.55927 215.65656,198.5776 220.70706,196.44226 225.75757,193.5545 230.80807,190.7387 235.85858,190.60936 240.90909,198.17914 245.9596,201.49806 251.0101,201.90416 256.0606,210.22723 261.1111,217.34062 266.16162,219.90959 271.21213,230.81943 276.26263,235.4102 281.3131,247.49623 286.36365,254.01265 291.41412,261.09277 296.46466,266.0607 301.51514,268.38684 306.56567,274.5885 311.61615,276.96133 316.6667,283.46982 321.71716,284.05237 326.7677,288.80365 331.81818,295.66837 336.86868,300.84094 341.9192,301.68298 346.9697,307.1132 352.0202,309.52557 357.0707,313.95795 362.12122,313.34274 367.17172,320.46927 372.22223,324.24493 377.2727,326.80832 382.32324,328.23688 387.37372,330.21237 392.42426,332.8523 397.47473,334.96826 402.52527,338.38766 407.57578,341.61362 412.62625,342.19016 417.67676,344.89264 422.7273,349.52563 427.77777,351.58258 432.82828,349.96338 437.87878,354.46735 442.9293,350.9268 447.9798,357.36154 453.0303,359.93857 458.0808,358.88773 463.13132,361.48523 468.18182,363.8932 473.23233,364.39102 478.28284,363.96024 483.33334,369.32037 488.38382,368.68454 493.43436,370.76947 498.48483,369.74915 503.53537,372.2146 508.58588,371.34302 513.63635,374.55124 518.6869,375.78833 523.73737,378.346 528.78784,378.61502 533.8384,379.25296 538.8889,380.92862 543.9394,381.9685 548.98987,382.66562 554.0404,381.46545 559.09094,385.66547 564.1414,385.43948 569.1919,386.04132 574.24243,386.11295 579.29297,388.30258 584.34344,391.60632 589.3939,389.40698 594.44446,391.7894 599.49493,391.3874 604.5454,393.52234 609.59595,394.03412 614.6465,393.96808 619.69696,395.0626 624.74744,396.2435 629.798,395.7631 634.8485,397.96692 639.89905,390.76752 644.94946,398.89233 650,400 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="150">
brocc_par
</text>
<line class="poloto1stroke" x1="680" x2="730" y1="131.25" y2="131.25"/>
<polyline class="poloto1stroke" fill="none" points="150,240.67903 155.0505,240.94086 160.10101,241.22943 165.15152,241.23871 170.20203,240.80125 175.25253,240.96942 180.30304,239.99094 185.35353,232.25586 190.40404,227.46494 195.45454,217.16194 200.50505,207.23433 205.55556,196.7637 210.60606,189.93962 215.65656,183.06454 220.70706,168.89539 225.75757,172.30295 230.80807,174.50737 235.85858,167.91672 240.90909,175.55496 245.9596,175.93599 251.0101,177.65431 256.0606,185.8247 261.1111,196.1067 266.16162,196.9617 271.21213,198.4611 276.26263,215.14638 281.3131,228.84366 286.36365,232.26202 291.41412,239.76578 296.46466,245.01944 301.51514,251.10602 306.56567,256.00165 311.61615,259.51492 316.6667,267.03217 321.71716,267.79156 326.7677,271.96378 331.81818,278.53625 336.86868,286.41125 341.9192,286.56906 346.9697,293.89395 352.0202,287.7708 357.0707,301.5111 362.12122,302.93173 367.17172,302.24396 372.22223,308.79462 377.2727,315.7157 382.32324,318.0908 387.37372,319.43213 392.42426,323.2943 397.47473,325.6527 402.52527,327.99008 407.57578,332.36163 412.62625,332.8283 417.67676,331.00662 422.7273,337.27615 427.77777,339.7074 432.82828,335.28607 437.87878,337.20755 442.9293,339.45532 447.9798,344.8739 453.0303,346.62527 458.0808,346.20645 463.13132,350.68668 468.18182,353.07074 473.23233,353.5542 478.28284,354.90045 483.33334,359.28943 488.38382,360.38284 493.43436,360.5763 498.48483,359.92133 503.53537,364.54376 508.58588,359.87885 513.63635,365.02353 518.6869,367.89734 523.73737,370.43103 528.78784,371.69424 533.8384,371.11435 538.8889,373.55518 543.9394,374.66382 548.98987,375.0659 554.0404,373.43588 559.09094,377.94366 564.1414,378.28192 569.1919,379.57043 574.24243,380.28598 579.29297,383.80103 584.34344,386.19376 589.3939,385.19724 594.44446,387.04282 599.49493,386.7555 604.5454,388.7122 609.59595,390.17288 614.6465,390.56473 619.69696,391.59726 624.74744,391.60767 629.798,392.46957 634.8485,391.7912 639.89905,393.12488 644.94946,394.273 650,395.02643 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="200">
naive
</text>
<line class="poloto2stroke" x1="680" x2="730" y1="181.25" y2="181.25"/>
<polyline class="poloto2stroke" fill="none" points="150,236.46056 155.0505,236.11919 160.10101,235.71983 165.15152,235.20648 170.20203,235.63556 175.25253,235.6196 180.30304,235.22778 185.35353,229.37529 190.40404,221.33774 195.45454,215.83505 200.50505,205.23047 205.55556,195.43344 210.60606,184.60367 215.65656,184.73804 220.70706,182.90555 225.75757,172.25296 230.80807,169.8993 235.85858,164.6566 240.90909,164.16992 245.9596,158.73334 251.0101,158.53099 256.0606,155.9756 261.1111,154.13976 266.16162,163.33311 271.21213,158.60605 276.26263,166.32675 281.3131,163.70415 286.36365,163.85316 291.41412,163.77489 296.46466,163.45573 301.51514,162.57803 306.56567,162.29486 311.61615,160.93309 316.6667,161.60995 321.71716,160.34628 326.7677,156.11655 331.81818,163.26706 336.86868,156.9033 341.9192,161.26672 346.9697,159.0632 352.0202,149.10765 357.0707,155.62598 362.12122,152.5267 367.17172,151.67926 372.22223,153.31729 377.2727,151.22348 382.32324,146.70811 387.37372,148.49016 392.42426,149.43475 397.47473,141.70139 402.52527,146.66304 407.57578,138.9046 412.62625,147.15096 417.67676,150.8492 422.7273,150.73228 427.77777,145.17775 432.82828,148.15587 437.87878,144.84866 442.9293,148.49883 447.9798,145.62111 453.0303,142.92902 458.0808,145.39317 463.13132,139.8475 468.18182,138.62018 473.23233,142.1706 478.28284,145.55646 483.33334,138.82974 488.38382,140.80368 493.43436,139.52203 498.48483,138.55588 503.53537,142.29156 508.58588,149.94296 513.63635,149.3957 518.6869,150.24068 523.73737,149.32921 528.78784,147.50894 533.8384,149.32745 538.8889,146.80646 543.9394,149.68411 548.98987,150.17229 554.0404,153.18709 559.09094,153.719 564.1414,154.60448 569.1919,148.96341 574.24243,154.21506 579.29297,153.77907 584.34344,155.2482 589.3939,154.26201 594.44446,156.95097 599.49493,155.52817 604.5454,155.67673 609.59595,155.09026 614.6465,164.34782 619.69696,162.04858 624.74744,164.79785 629.798,166.58324 634.8485,165.61821 639.89905,162.65347 644.94946,161.69266 650,163.44159 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="250">
nosort
</text>
<line class="poloto3stroke" x1="680" x2="730" y1="231.25" y2="231.25"/>
<polyline class="poloto3stroke" fill="none" points="150,258.41724 155.0505,258.42114 160.10101,259.1265 165.15152,258.67798 170.20203,258.77496 175.25253,258.61304 180.30304,256.45923 185.35353,251.81024 190.40404,239.14839 195.45454,226.36758 200.50505,213.43678 205.55556,225.44228 210.60606,206.01987 215.65656,170.0857 220.70706,185.2104 225.75757,178.49025 230.80807,180.78616 235.85858,141.11533 240.90909,170.6788 245.9596,177.33835 251.0101,149.94002 256.0606,158.968 261.1111,151.162 266.16162,173.5095 271.21213,155.30275 276.26263,163.74326 281.3131,184.29437 286.36365,163.52666 291.41412,171.42987 296.46466,181.33838 301.51514,186.54512 306.56567,197.04492 311.61615,197.60011 316.6667,196.66998 321.71716,185.65814 326.7677,199.36858 331.81818,193.63046 336.86868,203.95674 341.9192,196.57687 346.9697,206.37189 352.0202,189.60974 357.0707,212.8168 362.12122,205.86443 367.17172,208.5413 372.22223,213.5799 377.2727,212.71365 382.32324,205.47409 387.37372,192.9817 392.42426,224.6747 397.47473,225.36194 402.52527,217.2291 407.57578,221.45992 412.62625,240.01904 417.67676,236.42844 422.7273,235.79637 427.77777,224.4737 432.82828,244.0075 437.87878,255.24577 442.9293,221.30832 447.9798,238.53488 453.0303,239.37132 458.0808,244.36494 463.13132,260.16016 468.18182,234.14574 473.23233,244.80101 478.28284,249.22647 483.33334,239.8317 488.38382,269.07742 493.43436,253.32233 498.48483,257.29053 503.53537,250.96251 508.58588,239.70999 513.63635,256.69107 518.6869,278.24365 523.73737,276.87393 528.78784,274.43878 533.8384,225.82101 538.8889,265.53052 543.9394,278.9085 548.98987,274.2752 554.0404,279.09116 559.09094,253.28154 564.1414,282.20758 569.1919,266.4317 574.24243,284.3062 579.29297,280.063 584.34344,254.713 589.3939,272.87848 594.44446,290.00873 599.49493,291.43893 604.5454,272.6617 609.59595,275.47253 614.6465,286.67154 619.69696,298.25262 624.74744,293.9879 629.798,283.7641 634.8485,289.96463 639.89905,283.25287 644.94946,297.24207 650,288.46948 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="300">
nosort_par
</text>
<line class="poloto4stroke" x1="680" x2="730" y1="281.25" y2="281.25"/>
<polyline class="poloto4stroke" fill="none" points="150,229.90279 155.0505,229.33496 160.10101,229.76047 165.15152,230.05278 170.20203,229.23387 175.25253,230.21259 180.30304,226.91264 185.35353,222.17258 190.40404,208.40718 195.45454,193.5204 200.50505,178.25618 205.55556,189.24423 210.60606,171.02826 215.65656,131.90439 220.70706,127.47766 225.75757,141.67752 230.80807,141.46643 235.85858,103.648895 240.90909,129.02518 245.9596,136.14886 251.0101,111.68359 256.0606,114.71826 261.1111,110.423676 266.16162,128.85788 271.21213,115.438446 276.26263,121.13449 281.3131,137.22342 286.36365,129.12823 291.41412,129.26724 296.46466,133.07059 301.51514,132.9732 306.56567,148.53835 311.61615,150.16846 316.6667,148.21463 321.71716,146.97195 326.7677,153.97264 331.81818,147.92987 336.86868,157.92522 341.9192,156.93765 346.9697,164.03308 352.0202,151.65694 357.0707,170.95953 362.12122,162.05698 367.17172,166.07889 372.22223,171.55835 377.2727,172.84154 382.32324,167.62459 387.37372,156.22897 392.42426,184.47005 397.47473,187.65726 402.52527,178.51538 407.57578,180.34044 412.62625,198.69044 417.67676,199.78973 422.7273,195.58784 427.77777,185.44562 432.82828,202.40433 437.87878,213.20782 442.9293,191.1914 447.9798,203.51859 453.0303,201.77684 458.0808,206.23297 463.13132,223.50887 468.18182,202.34766 473.23233,213.82207 478.28284,211.31236 483.33334,204.1557 488.38382,231.02657 493.43436,220.4479 498.48483,221.91481 503.53537,214.64374 508.58588,186.08632 513.63635,226.02426 518.6869,240.73251 523.73737,244.26543 528.78784,241.12906 533.8384,195.91237 538.8889,236.87457 543.9394,244.44347 548.98987,242.67114 554.0404,249.04044 559.09094,224.7056 564.1414,251.22748 569.1919,244.027 574.24243,252.95457 579.29297,250.6378 584.34344,226.48792 589.3939,247.73022 594.44446,264.73993 599.49493,263.91534 604.5454,249.30151 609.59595,249.40201 614.6465,262.53787 619.69696,273.96075 624.74744,268.41547 629.798,262.4961 634.8485,272.35922 639.89905,264.07135 644.94946,273.1418 650,267.45343 " stroke="black"/>
<text alignment-baseline="middle" class="poloto_text" font-size="large" text-anchor="start" x="675" y="350">
sweep
</text>
<line class="poloto5stroke" x1="680" x2="730" y1="331.25" y2="331.25"/>
<polyline class="poloto5stroke" fill="none" points="150,268.65817 155.0505,270.0308 160.10101,270.03107 165.15152,266.38272 170.20203,270.02924 175.25253,268.64566 180.30304,265.5019 185.35353,264.68524 190.40404,252.56471 195.45454,241.46164 200.50505,230.32762 205.55556,217.40048 210.60606,201.18188 215.65656,191.1043 220.70706,175.17424 225.75757,170.00906 230.80807,160.95935 235.85858,149.44293 240.90909,137.47806 245.9596,131.83511 251.0101,128.35593 256.0606,122.21127 261.1111,118.20575 266.16162,110.90808 271.21213,105.394104 276.26263,102.47577 281.3131,103.87866 286.36365,100.760254 291.41412,104.539795 296.46466,100.37793 301.51514,102.750885 306.56567,106.32953 311.61615,100 316.6667,100.68863 321.71716,100.885345 326.7677,107.635284 331.81818,107.65048 336.86868,110.73224 341.9192,109.0574 346.9697,106.85281 352.0202,110.896515 357.0707,121.84964 362.12122,116.79718 367.17172,119.68289 372.22223,118.06558 377.2727,120.22687 382.32324,119.753296 387.37372,121.507324 392.42426,125.9469 397.47473,124.905975 402.52527,132.59952 407.57578,131.86401 412.62625,134.918 417.67676,138.92816 422.7273,138.32855 427.77777,142.47305 432.82828,142.17444 437.87878,142.88904 442.9293,149.76016 447.9798,150.95915 453.0303,154.48593 458.0808,152.7238 463.13132,157.73532 468.18182,162.42116 473.23233,160.59662 478.28284,160.89005 483.33334,166.90738 488.38382,167.69978 493.43436,171.56812 498.48483,171.65762 503.53537,171.61537 508.58588,179.91643 513.63635,177.66425 518.6869,177.07823 523.73737,183.01088 528.78784,184.3506 533.8384,185.07904 538.8889,187.09145 543.9394,188.67393 548.98987,189.5256 554.0404,194.35129 559.09094,193.49026 564.1414,193.07861 569.1919,198.51292 574.24243,199.28888 579.29297,203.13214 584.34344,204.91327 589.3939,202.60172 594.44446,208.69962 599.49493,209.00073 604.5454,213.08163 609.59595,210.95715 614.6465,215.31168 619.69696,216.1473 624.74744,219.90251 629.798,219.98093 634.8485,221.27083 639.89905,223.15315 644.94946,226.04901 650,224.88252 " stroke="black"/>
<text alignment-baseline="start" class="poloto_text" font-size="x-large" text-anchor="middle" x="400" y="37.5">
Bench of space partitioning algs with abspiral(3000,grow)
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" x="400" y="481.25">
Grow
</text>
<text alignment-baseline="start" class="poloto_text" font-size="large" text-anchor="middle" transform="rotate(-90,37.5,250)" x="37.5" y="250">
Time in Seconds
</text>
<path class="poloto_axis_lines" d="M150,100 L150,400 L650,400" stroke="black"/>
</svg>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
