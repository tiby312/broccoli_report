<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Comparison to other Algs - broccoli_report</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="ch0-analysis-method.html"><strong aria-hidden="true">2.</strong> Analysis Method</a></li><li class="chapter-item expanded "><a href="ch1-broccoli-vs-other.html" class="active"><strong aria-hidden="true">3.</strong> Comparison to other Algs</a></li><li class="chapter-item expanded "><a href="ch2-construction-vs-query.html"><strong aria-hidden="true">4.</strong> Construction vs Query</a></li><li class="chapter-item expanded "><a href="ch3-level-analysis.html"><strong aria-hidden="true">5.</strong> Tree Level Load</a></li><li class="chapter-item expanded "><a href="ch4-aabb-data-layout.html"><strong aria-hidden="true">6.</strong> AABB Data Layout</a></li><li class="chapter-item expanded "><a href="ch5-tree-data-layout.html"><strong aria-hidden="true">7.</strong> Tree Data Layout</a></li><li class="chapter-item expanded "><a href="ch6-choosing-optimal-height.html"><strong aria-hidden="true">8.</strong> Optimal Tree Height</a></li><li class="chapter-item expanded "><a href="ch7-parallelism.html"><strong aria-hidden="true">9.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="ch8-bounds-checking.html"><strong aria-hidden="true">10.</strong> Bounds Checking</a></li><li class="chapter-item expanded "><a href="ch9-primitive-types.html"><strong aria-hidden="true">11.</strong> Primitive Types</a></li><li class="chapter-item expanded "><a href="ch10-api-design.html"><strong aria-hidden="true">12.</strong> API Design</a></li><li class="chapter-item expanded "><a href="ch11-algorithm-in-depth.html"><strong aria-hidden="true">13.</strong> Algorithm In-Depth</a></li><li class="chapter-item expanded "><a href="ch12-improvements.html"><strong aria-hidden="true">14.</strong> Improvements</a></li><li class="chapter-item expanded "><a href="ch13-how-to-make-aabb.html"><strong aria-hidden="true">15.</strong> How to make Aabb</a></li><li class="chapter-item expanded "><a href="ch14-code-layout.html"><strong aria-hidden="true">16.</strong> Code Layout</a></li><li class="chapter-item expanded "><a href="ch15-general-thoughts.html"><strong aria-hidden="true">17.</strong> General Thoughts</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">broccoli_report</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3><a class="header" href="#trends-as-n-increases" id="trends-as-n-increases">Trends as N increases</a></h3>
<p>The broccoli crate's goal is to provide broad-phase queries such as &quot;find all elements that intersect&quot;. Its data structure is basically a kdtree with the added feature that elements that belong to a node are sorted along the divider axis so that we can use sweep and prune during the query phase. Lets compare the complexity of finding all intersecting pairs whith the complexity of a kdtree, sweep and prune, and the naive method by find all intersecting pairs given a distribution using the method described in the analysis method section.</p>
<link rel="stylesheet" href="css/poloto.css">
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0</text><line x1='213.13132' x2='213.13132' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='213.13132' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>10000</text><line x1='276.26263' x2='276.26263' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='276.26263' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>20000</text><line x1='339.39392' x2='339.39392' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='339.39392' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>30000</text><line x1='402.52527' x2='402.52527' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='402.52527' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>40000</text><line x1='465.65656' x2='465.65656' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='465.65656' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>50000</text><line x1='528.78784' x2='528.78784' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='528.78784' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>60000</text><line x1='591.9192' x2='591.9192' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='591.9192' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>70000</text><line x1='150' x2='144' y1='400' y2='400' stroke='black' class='poloto_axis_lines'/><text x='120' y='400' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0</text><line x1='150' x2='144' y1='346.51495' y2='346.51495' stroke='black' class='poloto_axis_lines'/><text x='120' y='346.51495' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.00e7</text><line x1='150' x2='144' y1='293.0299' y2='293.0299' stroke='black' class='poloto_axis_lines'/><text x='120' y='293.0299' alignment-baseline='middle' text-anchor='end' class='poloto_text'>2.00e7</text><line x1='150' x2='144' y1='239.54486' y2='239.54486' stroke='black' class='poloto_axis_lines'/><text x='120' y='239.54486' alignment-baseline='middle' text-anchor='end' class='poloto_text'>3.00e7</text><line x1='150' x2='144' y1='186.05981' y2='186.05981' stroke='black' class='poloto_axis_lines'/><text x='120' y='186.05981' alignment-baseline='middle' text-anchor='end' class='poloto_text'>4.00e7</text><line x1='150' x2='144' y1='132.5748' y2='132.5748' stroke='black' class='poloto_axis_lines'/><text x='120' y='132.5748' alignment-baseline='middle' text-anchor='end' class='poloto_text'>5.00e7</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>broccoli</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,400 155.0505,399.64752 160.10101,399.16708 165.15152,398.8584 170.20203,398.4201 175.25253,397.9228 180.30302,397.444 185.35353,396.88782 190.40404,396.3956 195.45454,395.80814 200.50505,395.1039 205.55556,395.33572 210.60606,394.92557 215.65656,394.38974 220.70706,393.90173 225.75757,393.3617 230.80807,392.97943 235.85858,392.46933 240.90909,392.02698 245.9596,391.34595 251.0101,390.69943 256.0606,390.46658 261.1111,389.75797 266.16162,389.30658 271.21213,388.82297 276.26263,388.3472 281.3131,387.5963 286.36365,387.09802 291.41412,386.42224 296.46466,385.8557 301.51514,385.19614 306.56567,384.62665 311.61615,384.02283 316.66666,383.44028 321.71716,382.80768 326.76767,382.14102 331.81818,381.5304 336.86868,381.0192 341.9192,380.23657 346.9697,379.45947 352.0202,379.0528 357.0707,381.4788 362.12122,380.529 367.1717,380.1751 372.22223,379.73175 377.2727,379.33963 382.32324,378.63538 387.37372,378.31927 392.42426,377.47604 397.47473,377.31067 402.52527,376.70273 407.57574,376.4116 412.62625,375.66095 417.67676,375.10992 422.72726,374.53445 427.77777,373.93323 432.82828,373.42242 437.87878,372.9837 442.9293,372.3508 447.9798,372.05133 453.0303,371.6803 458.0808,370.74097 463.13132,370.44424 468.18182,369.48892 473.23233,368.79498 478.28284,368.3678 483.3333,367.8664 488.38382,367.6335 493.43433,366.84326 498.48483,366.3891 503.53534,365.55124 508.58585,365.12686 513.63635,364.57428 518.6869,364.03647 523.73737,363.76868 528.78784,363.04285 533.8384,362.53763 538.8889,361.8521 543.9394,360.82022 548.98987,360.56415 554.0404,360.68802 559.09094,359.69385 564.1414,359.17514 569.1919,358.28528 574.24243,357.8709 579.2929,357.22498 584.3434,356.1236 589.3939,356.33875 594.44446,354.80533 599.49493,355.31082 604.5454,354.71494 609.59595,353.9877 614.6465,353.12466 619.69696,350.45523 624.74744,352.51852 629.798,351.74695 634.8485,350.78833 639.899,349.7662 644.94946,349.78336 650,349.10428 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,400 155.0505,396.95532 160.10101,388.348 165.15152,374.42862 170.20203,355.15924 175.25253,330.45618 180.30302,300.53442 185.35353,265.3754 190.40404,224.63023 195.45454,178.87505 200.50505,128.39825 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,400 155.0505,399.1463 160.10101,397.943 165.15152,396.73322 170.20203,395.17288 175.25253,393.1203 180.30302,392.5157 185.35353,390.63235 190.40404,388.66696 195.45454,386.52786 200.50505,384.3762 205.55556,384.24335 210.60606,382.29147 215.65656,380.21365 220.70706,377.87662 225.75757,375.60684 230.80807,373.54675 235.85858,371.00204 240.90909,368.75983 245.9596,365.95563 251.0101,363.18713 256.0606,366.2199 261.1111,363.58957 266.16162,361.51392 271.21213,359.58017 276.26263,357.295 281.3131,354.80576 286.36365,352.6309 291.41412,350.19818 296.46466,347.32147 301.51514,344.81595 306.56567,342.41504 311.61615,339.2151 316.66666,336.6376 321.71716,334.0492 326.76767,331.04745 331.81818,328.61343 336.86868,326.00693 341.9192,323.1393 346.9697,319.9257 352.0202,317.24524 357.0707,323.40326 362.12122,320.61206 367.1717,318.66132 372.22223,315.88754 377.2727,313.64 382.32324,310.51004 387.37372,308.61987 392.42426,305.35022 397.47473,302.94308 402.52527,299.96976 407.57574,298.2536 412.62625,294.9181 417.67676,292.5019 422.72726,290.38342 427.77777,287.38168 432.82828,284.69727 437.87878,281.1875 442.9293,278.09338 447.9798,276.02194 453.0303,272.75778 458.0808,269.8139 463.13132,267.06137 468.18182,264.112 473.23233,260.73883 478.28284,257.39395 483.3333,254.4111 488.38382,251.55763 493.43433,247.4489 498.48483,245.6525 503.53534,242.17566 508.58585,238.97726 513.63635,235.89001 518.6869,233.12566 523.73737,229.89754 528.78784,226.62358 533.8384,223.29927 538.8889,220.16045 543.9394,216.05415 548.98987,213.03392 554.0404,210.0478 559.09094,206.81653 564.1414,228.6643 569.1919,225.73749 574.24243,221.9248 579.2929,218.55974 584.3434,215.97145 589.3939,214.47165 594.44446,210.64792 599.49493,208.65948 604.5454,206.02563 609.59595,203.47104 614.6465,200.18408 619.69696,195.44582 624.74744,194.96976 629.798,192.19843 634.8485,188.28963 639.899,185.46432 644.94946,183.16339 650,179.23181 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,400 155.0505,399.34616 160.10101,398.1832 165.15152,396.6853 170.20203,394.93076 175.25253,392.93185 180.30302,390.75525 185.35353,388.3628 190.40404,385.81744 195.45454,383.08762 200.50505,380.19632 205.55556,377.15726 210.60606,374.05542 215.65656,370.71216 220.70706,367.2925 225.75757,363.75995 230.80807,360.13882 235.85858,356.37543 240.90909,352.4978 245.9596,348.50427 251.0101,344.3837 256.0606,340.2413 261.1111,335.90103 266.16162,331.51715 271.21213,327.07095 276.26263,322.44437 281.3131,317.8145 286.36365,313.11853 291.41412,308.23523 296.46466,303.32016 301.51514,298.33887 306.56567,293.2164 311.61615,288.09567 316.66666,282.82312 321.71716,277.48383 326.76767,272.0419 331.81818,266.6278 336.86868,261.08368 341.9192,255.47723 346.9697,249.75438 352.0202,243.9915 357.0707,238.12376 362.12122,232.19734 367.1717,226.20894 372.22223,220.20818 377.2727,213.93985 382.32324,207.81665 387.37372,201.68967 392.42426,195.09212 397.47473,188.92982 402.52527,182.45682 407.57574,175.87006 412.62625,169.2299 417.67676,162.76563 422.72726,155.97687 427.77777,149.13864 432.82828,142.17969 437.87878,135.40762 442.9293,128.48169 447.9798,121.56897 453.0303,114.326416 458.0808,107.384094 463.13132,100 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Complexity of space partitioning algs with abspiral(x,0.2)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Number of Elements</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Number of Comparisons</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>As you can see, broccoli is a clear winner in terms of minimizing the number of comparisons. The jumps that you see in the kdtree line are the points at which the trees height grows. It is a complete binary tree so a slight increase in the height causes a doubling of nodes so it is a drastic change. As the number of aabbs increases it is inevitable that sometimes the tree will be too tall or too short. Like kdtree, broccoli is also a complete binary tree so it also have jumps, but they are less pronounced. I think this is because the second strategy of sweep and prune can &quot;absorb&quot; the jumps.</p>
<p>Lets make sure that broccoli is still the winner if the aabbs are more clumped up.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0</text><line x1='213.13132' x2='213.13132' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='213.13132' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>10000</text><line x1='276.26263' x2='276.26263' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='276.26263' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>20000</text><line x1='339.39392' x2='339.39392' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='339.39392' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>30000</text><line x1='402.52527' x2='402.52527' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='402.52527' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>40000</text><line x1='465.65656' x2='465.65656' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='465.65656' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>50000</text><line x1='528.78784' x2='528.78784' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='528.78784' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>60000</text><line x1='591.9192' x2='591.9192' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='591.9192' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>70000</text><line x1='150' x2='144' y1='400' y2='400' stroke='black' class='poloto_axis_lines'/><text x='120' y='400' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0</text><line x1='150' x2='144' y1='346.05627' y2='346.05627' stroke='black' class='poloto_axis_lines'/><text x='120' y='346.05627' alignment-baseline='middle' text-anchor='end' class='poloto_text'>2.00e7</text><line x1='150' x2='144' y1='292.11258' y2='292.11258' stroke='black' class='poloto_axis_lines'/><text x='120' y='292.11258' alignment-baseline='middle' text-anchor='end' class='poloto_text'>4.00e7</text><line x1='150' x2='144' y1='238.16885' y2='238.16885' stroke='black' class='poloto_axis_lines'/><text x='120' y='238.16885' alignment-baseline='middle' text-anchor='end' class='poloto_text'>6.00e7</text><line x1='150' x2='144' y1='184.22516' y2='184.22516' stroke='black' class='poloto_axis_lines'/><text x='120' y='184.22516' alignment-baseline='middle' text-anchor='end' class='poloto_text'>8.00e7</text><line x1='150' x2='144' y1='130.28143' y2='130.28143' stroke='black' class='poloto_axis_lines'/><text x='120' y='130.28143' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.00e8</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>broccoli</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,400 155.0505,399.581 160.10101,399.0434 165.15152,398.55453 170.20203,398.1018 175.25253,397.57516 180.30302,396.96344 185.35353,396.4367 190.40404,395.8512 195.45454,395.2239 200.50505,394.60233 205.55556,394.32764 210.60606,393.8146 215.65656,393.2248 220.70706,392.66797 225.75757,392.1173 230.80807,391.74384 235.85858,391.11407 240.90909,390.59763 245.9596,390.1261 251.0101,389.53534 256.0606,388.79373 261.1111,388.1439 266.16162,387.57205 271.21213,386.90353 276.26263,386.3974 281.3131,385.73337 286.36365,385.1575 291.41412,384.47726 296.46466,384.05298 301.51514,383.4699 306.56567,382.8056 311.61615,382.15918 316.66666,381.70288 321.71716,381.04645 326.76767,380.45563 331.81818,379.7871 336.86868,379.32666 341.9192,378.63843 346.9697,378.05072 352.0202,377.43796 357.0707,377.4848 362.12122,376.84106 367.1717,376.30884 372.22223,375.71664 377.2727,375.15488 382.32324,374.50943 387.37372,373.95554 392.42426,373.626 397.47473,373.12592 402.52527,372.40714 407.57574,371.87207 412.62625,371.26346 417.67676,370.72964 422.72726,370.27713 427.77777,369.7963 432.82828,369.1171 437.87878,368.50742 442.9293,367.95227 447.9798,367.43082 453.0303,366.90097 458.0808,365.98785 463.13132,365.75345 468.18182,365.40732 473.23233,364.56665 478.28284,363.98392 483.3333,363.60303 488.38382,363.02744 493.43433,362.49475 498.48483,361.72137 503.53534,361.3249 508.58585,360.8088 513.63635,360.28458 518.6869,359.6286 523.73737,359.2648 528.78784,358.4842 533.8384,357.74835 538.8889,357.30994 543.9394,356.72754 548.98987,356.2803 554.0404,355.73334 559.09094,354.92404 564.1414,353.28452 569.1919,352.4983 574.24243,352.02625 579.2929,351.29706 584.3434,350.75983 589.3939,350.3533 594.44446,349.51236 599.49493,349.0143 604.5454,348.55286 609.59595,347.78345 614.6465,347.1107 619.69696,346.8798 624.74744,346.20224 629.798,345.35382 634.8485,344.89984 639.899,344.4342 644.94946,343.94693 650,343.22345 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,400 155.0505,398.2101 160.10101,393.4316 165.15152,385.78308 170.20203,375.37915 175.25253,362.13177 180.30302,346.18005 185.35353,327.49026 190.40404,306.11826 195.45454,281.94815 200.50505,255.0781 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,400 155.0505,399.1311 160.10101,397.67966 165.15152,396.1987 170.20203,394.55493 175.25253,392.68893 180.30302,390.80536 185.35353,388.68698 190.40404,386.69922 195.45454,384.45425 200.50505,382.21808 205.55556,380.62643 210.60606,378.48578 215.65656,375.9472 220.70706,373.4483 225.75757,371.15353 230.80807,368.77994 235.85858,366.02512 240.90909,363.67715 245.9596,360.94745 251.0101,358.72342 256.0606,356.75134 261.1111,353.5458 266.16162,350.84787 271.21213,347.81738 276.26263,345.2338 281.3131,341.9724 286.36365,339.24277 291.41412,336.4097 296.46466,333.99826 301.51514,330.90314 306.56567,328.19357 311.61615,325.07858 316.66666,322.75528 321.71716,319.89163 326.76767,316.8236 331.81818,313.58722 336.86868,310.38776 341.9192,307.58566 346.9697,304.54602 352.0202,301.5201 357.0707,300.1859 362.12122,297.20294 367.1717,294.48645 372.22223,291.41376 377.2727,287.62964 382.32324,285.33255 387.37372,282.16412 392.42426,279.2467 397.47473,276.11377 402.52527,272.75455 407.57574,269.8963 412.62625,266.696 417.67676,263.21228 422.72726,261.14783 427.77777,258.41306 432.82828,255.39746 437.87878,252.49057 442.9293,249.31255 447.9798,245.62552 453.0303,242.07153 458.0808,238.00662 463.13132,235.71725 468.18182,232.37195 473.23233,228.70409 478.28284,225.77629 483.3333,221.91801 488.38382,218.04509 493.43433,215.58258 498.48483,211.70662 503.53534,208.08029 508.58585,205.45016 513.63635,202.37056 518.6869,198.24767 523.73737,195.32594 528.78784,191.64021 533.8384,188.18655 538.8889,183.85695 543.9394,180.94006 548.98987,178.39467 554.0404,174.59297 559.09094,170.30074 564.1414,168.34344 569.1919,164.98332 574.24243,162.36674 579.2929,158.66206 584.3434,155.13922 589.3939,151.69547 594.44446,147.14532 599.49493,143.78061 604.5454,139.80823 609.59595,135.94092 614.6465,131.85782 619.69696,128.78397 624.74744,125.73877 629.798,122.29166 634.8485,119.362976 639.899,116.428955 644.94946,112.60806 650,109.419556 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,400 155.0505,399.35785 160.10101,398.19632 165.15152,396.7043 170.20203,394.93753 175.25253,392.93948 180.30302,390.74402 185.35353,388.353 190.40404,385.79858 195.45454,383.09402 200.50505,380.22232 205.55556,377.21063 210.60606,374.05066 215.65656,370.774 220.70706,367.3675 225.75757,363.79358 230.80807,360.15033 235.85858,356.37653 240.90909,352.5044 245.9596,348.54202 251.0101,344.4204 256.0606,340.22604 261.1111,335.92328 266.16162,331.50784 271.21213,327.03497 276.26263,322.45273 281.3131,317.7865 286.36365,313.0279 291.41412,308.20053 296.46466,303.27185 301.51514,298.25708 306.56567,293.17657 311.61615,287.9573 316.66666,282.78778 321.71716,277.39716 326.76767,272.01187 331.81818,266.50494 336.86868,260.96384 341.9192,255.36192 346.9697,249.61276 352.0202,243.87387 357.0707,237.96036 362.12122,232.06526 367.1717,226.0559 372.22223,219.97127 377.2727,213.83002 382.32324,207.58191 387.37372,201.40407 392.42426,195.06256 397.47473,188.70781 402.52527,182.15785 407.57574,175.71606 412.62625,169.07904 417.67676,162.40027 422.72726,155.69505 427.77777,148.94147 432.82828,142.14917 437.87878,135.28448 442.9293,128.32361 447.9798,121.346466 453.0303,114.3251 458.0808,107.08746 463.13132,100 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Complexity of space partitioning algs with abspiral(x,0.05)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Number of Elements</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Number of Comparisons</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Okay good broccoli is still the winner against its building blocks in terms of comparisons.</p>
<p>So thats great that we've found a strategy that minimizes the comparisons, but that doesn't really mean anything unless the real world performance is also just as fast. Lets look at how it benches against the same set of strategies.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0</text><line x1='251.0101' x2='251.0101' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='251.0101' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2000</text><line x1='352.0202' x2='352.0202' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='352.0202' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>4000</text><line x1='453.0303' x2='453.0303' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='453.0303' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>6000</text><line x1='554.0404' x2='554.0404' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='554.0404' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>8000</text><line x1='150' x2='144' y1='341.95694' y2='341.95694' stroke='black' class='poloto_axis_lines'/><text x='120' y='341.95694' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.002</text><line x1='150' x2='144' y1='283.91196' y2='283.91196' stroke='black' class='poloto_axis_lines'/><text x='120' y='283.91196' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.004</text><line x1='150' x2='144' y1='225.867' y2='225.867' stroke='black' class='poloto_axis_lines'/><text x='120' y='225.867' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.006</text><line x1='150' x2='144' y1='167.82202' y2='167.82202' stroke='black' class='poloto_axis_lines'/><text x='120' y='167.82202' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.008</text><line x1='150' x2='144' y1='109.77707' y2='109.77707' stroke='black' class='poloto_axis_lines'/><text x='120' y='109.77707' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.010</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,399.68216 155.0505,399.2507 160.10101,396.53357 165.15152,397.0981 170.20203,395.95465 175.25253,394.40347 180.30302,393.65573 185.35353,393.2013 190.40404,392.07462 195.45454,390.731 200.50505,388.7795 205.55556,388.77188 210.60606,388.10318 215.65656,386.9935 220.70706,384.2982 225.75757,384.4399 230.80807,382.11417 235.85858,382.38828 240.90909,381.4787 245.9596,380.49094 251.0101,379.47192 256.0606,377.98828 261.1111,376.66794 266.16162,375.87436 271.21213,375.29593 276.26263,373.9028 281.3131,372.93103 286.36365,371.88504 291.41412,370.77234 296.46466,369.55273 301.51514,368.63828 306.56567,367.48102 311.61615,366.34534 316.66666,365.22925 321.71716,364.52313 326.76767,363.21005 331.81818,361.57886 336.86868,360.92896 341.9192,360.1379 346.9697,358.70874 352.0202,357.64954 357.0707,356.6433 362.12122,355.0823 367.1717,354.51715 372.22223,353.14386 377.2727,352.32962 382.32324,350.76367 387.37372,350.05533 392.42426,348.34882 397.47473,347.41876 402.52527,346.3866 407.57574,345.55734 412.62625,344.2096 417.67676,343.08023 422.72726,342.02914 427.77777,341.36978 432.82828,340.33838 437.87878,339.03778 442.9293,338.05634 447.9798,337.35315 453.0303,335.9206 458.0808,334.94846 463.13132,333.66794 468.18182,332.65967 473.23233,331.9834 478.28284,330.84918 483.3333,329.25922 488.38382,327.05493 493.43433,326.54822 498.48483,325.28445 503.53534,323.2634 508.58585,322.87787 513.63635,321.0886 518.6869,319.99585 523.73737,316.65887 528.78784,316.84402 533.8384,316.8982 538.8889,315.85138 543.9394,313.86078 548.98987,312.60342 554.0404,311.31512 559.09094,310.88925 564.1414,307.69 569.1919,306.22498 574.24243,306.19464 579.2929,306.01804 584.3434,304.4541 589.3939,303.4043 594.44446,302.30835 599.49493,300.6029 604.5454,300.42477 609.59595,299.03024 614.6465,298.2208 619.69696,297.02148 624.74744,295.47287 629.798,290.66208 634.8485,293.65872 639.899,293.43085 644.94946,291.12958 650,290.6654 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc_par</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,399.50555 155.0505,398.85074 160.10101,397.78433 165.15152,397.03046 170.20203,395.06985 175.25253,394.71368 180.30302,392.7242 185.35353,393.14563 190.40404,392.22412 195.45454,390.86456 200.50505,389.31146 205.55556,386.0254 210.60606,388.11884 215.65656,387.02563 220.70706,385.06577 225.75757,384.58087 230.80807,382.98862 235.85858,382.4204 240.90909,381.29663 245.9596,380.22794 251.0101,379.23895 256.0606,373.6236 261.1111,375.7053 266.16162,375.03256 271.21213,376.2568 276.26263,378.84183 281.3131,373.52524 286.36365,373.03915 291.41412,372.3955 296.46466,371.8007 301.51514,371.45654 306.56567,372.2538 311.61615,369.4365 316.66666,369.30414 321.71716,367.96545 326.76767,368.51157 331.81818,367.59778 336.86868,365.7399 341.9192,365.07135 346.9697,366.0221 352.0202,365.2668 357.0707,376.40384 362.12122,372.32938 367.1717,371.8936 372.22223,374.33807 377.2727,371.32355 382.32324,372.70538 387.37372,377.5559 392.42426,373.04974 397.47473,372.17645 402.52527,372.20792 407.57574,371.82742 412.62625,374.15857 417.67676,371.28375 422.72726,366.03366 427.77777,370.97397 432.82828,371.11832 437.87878,369.07864 442.9293,368.9473 447.9798,367.24792 453.0303,368.454 458.0808,365.50446 463.13132,366.53726 468.18182,367.2527 473.23233,369.92465 478.28284,364.97974 483.3333,367.95956 488.38382,347.9037 493.43433,362.12576 498.48483,368.02908 503.53534,366.45184 508.58585,361.93082 513.63635,359.62988 518.6869,360.8343 523.73737,363.9768 528.78784,366.66437 533.8384,364.80084 538.8889,359.4238 543.9394,358.2851 548.98987,361.8622 554.0404,357.8114 559.09094,362.06818 564.1414,361.23926 569.1919,360.3402 574.24243,360.01883 579.2929,359.99753 584.3434,360.25748 589.3939,359.14465 594.44446,354.00153 599.49493,358.25323 604.5454,358.64783 609.59595,355.17288 614.6465,354.21942 619.69696,355.02463 624.74744,351.43417 629.798,353.3883 634.8485,357.7006 639.899,356.79605 644.94946,355.87564 650,355.46594 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,400 155.0505,398.75418 160.10101,396.30112 165.15152,392.84662 170.20203,388.9944 175.25253,384.70898 180.30302,376.43207 185.35353,375.50754 190.40404,365.9088 195.45454,362.0613 200.50505,353.0576 205.55556,347.48245 210.60606,338.49408 215.65656,326.45715 220.70706,320.48547 225.75757,309.29175 230.80807,300.12003 235.85858,288.568 240.90909,277.7087 245.9596,265.98694 251.0101,254.90694 256.0606,239.32039 261.1111,225.38904 266.16162,211.14185 271.21213,197.2601 276.26263,181.35124 281.3131,167.66197 286.36365,150.42496 291.41412,134.9737 296.46466,119.40909 301.51514,100 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,399.9731 155.0505,399.0646 160.10101,397.5643 165.15152,396.07175 170.20203,394.36758 175.25253,392.07498 180.30302,391.08698 185.35353,389.69968 190.40404,387.4867 195.45454,384.94315 200.50505,382.58194 205.55556,381.85446 210.60606,380.7135 215.65656,376.92273 220.70706,376.62262 225.75757,371.67102 230.80807,371.69714 235.85858,369.48553 240.90909,366.60632 245.9596,364.79752 251.0101,361.53445 256.0606,363.7847 261.1111,360.77036 266.16162,358.788 271.21213,356.95078 276.26263,354.7171 281.3131,351.74997 286.36365,350.30997 291.41412,348.29514 296.46466,344.73596 301.51514,342.91043 306.56567,340.47375 311.61615,338.06894 316.66666,336.2773 321.71716,332.94153 326.76767,329.57092 331.81818,328.13623 336.86868,323.49588 341.9192,321.74872 346.9697,319.50494 352.0202,316.38873 357.0707,319.20938 362.12122,317.78174 367.1717,314.83005 372.22223,310.9356 377.2727,310.55408 382.32324,306.75485 387.37372,303.94946 392.42426,303.04718 397.47473,299.11862 402.52527,295.26007 407.57574,294.58234 412.62625,290.4721 417.67676,289.5428 422.72726,287.30136 427.77777,284.71823 432.82828,281.70734 437.87878,278.15308 442.9293,275.29495 447.9798,272.62854 453.0303,268.05115 458.0808,268.01135 463.13132,263.87103 468.18182,262.33765 473.23233,261.60693 478.28284,258.73047 483.3333,255.60226 488.38382,253.27264 493.43433,250.33975 498.48483,246.37485 503.53534,239.1333 508.58585,240.04645 513.63635,236.49825 518.6869,229.18983 523.73737,231.06245 528.78784,226.85715 533.8384,227.06323 538.8889,222.01274 543.9394,220.2038 548.98987,215.57332 554.0404,214.33876 559.09094,211.7016 564.1414,227.74367 569.1919,224.33147 574.24243,222.24371 579.2929,219.47914 584.3434,216.84732 589.3939,214.77419 594.44446,209.33012 599.49493,211.42633 604.5454,205.8123 609.59595,204.92456 614.6465,203.0513 619.69696,197.16107 624.74744,195.5628 629.798,193.7794 634.8485,189.3448 639.899,190.63914 644.94946,186.80446 650,184.26743 '/><text x='675' y='300' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort_par</text><line x1='680' y1='281.25' x2='730' y2='281.25' class='poloto4stroke'/><polyline class='poloto4stroke' fill='none' stroke='black' points='150,399.97626 155.0505,399.1312 160.10101,397.5947 165.15152,395.84937 170.20203,393.94733 175.25253,392.04446 180.30302,391.10736 185.35353,390.16388 190.40404,387.72687 195.45454,385.40808 200.50505,382.84143 205.55556,382.36926 210.60606,381.06082 215.65656,378.0989 220.70706,373.60046 225.75757,372.8842 230.80807,372.45224 235.85858,370.29553 240.90909,366.99442 245.9596,365.72086 251.0101,362.7432 256.0606,368.35516 261.1111,363.49905 266.16162,365.06274 271.21213,362.23184 276.26263,361.2832 281.3131,360.3951 286.36365,357.32913 291.41412,357.75507 296.46466,353.69986 301.51514,354.9882 306.56567,351.61823 311.61615,351.63934 316.66666,349.51392 321.71716,349.44742 326.76767,344.8926 331.81818,345.63455 336.86868,340.67212 341.9192,343.91513 346.9697,339.30908 352.0202,340.12567 357.0707,355.5758 362.12122,357.8793 367.1717,354.0132 372.22223,351.6075 377.2727,351.81592 382.32324,349.77356 387.37372,348.62103 392.42426,351.92163 397.47473,346.59534 402.52527,344.65305 407.57574,350.3195 412.62625,343.5307 417.67676,341.97202 422.72726,340.85114 427.77777,342.25723 432.82828,335.90234 437.87878,338.49432 442.9293,340.78073 447.9798,337.29874 453.0303,335.11987 458.0808,335.04755 463.13132,331.03976 468.18182,336.64703 473.23233,333.64017 478.28284,332.2892 483.3333,282.4316 488.38382,307.59094 493.43433,329.32916 498.48483,329.15137 503.53534,325.9762 508.58585,327.01486 513.63635,322.95367 518.6869,324.81854 523.73737,327.62738 528.78784,319.51465 533.8384,323.76517 538.8889,319.1254 543.9394,320.50287 548.98987,319.46204 554.0404,319.2109 559.09094,320.67694 564.1414,320.9819 569.1919,319.47595 574.24243,318.43665 579.2929,318.31314 584.3434,318.8293 589.3939,316.27496 594.44446,310.16763 599.49493,316.29285 604.5454,310.60117 609.59595,310.7236 614.6465,309.05276 619.69696,305.9704 624.74744,308.30487 629.798,305.76752 634.8485,308.11847 639.899,309.39447 644.94946,305.22003 650,303.2575 '/><text x='675' y='350' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='331.25' x2='730' y2='331.25' class='poloto5stroke'/><polyline class='poloto5stroke' fill='none' stroke='black' points='150,399.87103 155.0505,399.16507 160.10101,397.90387 165.15152,396.09164 170.20203,393.4046 175.25253,392.56464 180.30302,391.1681 185.35353,389.53427 190.40404,386.77594 195.45454,385.31543 200.50505,381.5948 205.55556,380.83624 210.60606,378.31482 215.65656,375.3914 220.70706,373.18698 225.75757,370.74777 230.80807,366.71585 235.85858,365.07947 240.90909,362.21283 245.9596,359.42432 251.0101,356.81998 256.0606,353.601 261.1111,350.61823 266.16162,347.3207 271.21213,343.93634 276.26263,340.0999 281.3131,337.8353 286.36365,334.62662 291.41412,331.3013 296.46466,327.3302 301.51514,323.8585 306.56567,321.13565 311.61615,316.63937 316.66666,313.5268 321.71716,310.13055 326.76767,306.84515 331.81818,302.48383 336.86868,298.63498 341.9192,295.0147 346.9697,290.58844 352.0202,286.85706 357.0707,283.33606 362.12122,279.71082 367.1717,274.59982 372.22223,270.83694 377.2727,266.8932 382.32324,263.36743 387.37372,258.48425 392.42426,254.13077 397.47473,250.51035 402.52527,246.25374 407.57574,241.5367 412.62625,237.53423 417.67676,232.59982 422.72726,228.86693 427.77777,224.06822 432.82828,214.70778 437.87878,215.33655 442.9293,209.84866 447.9798,206.49792 453.0303,200.32347 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Bench of space partitioning algs with abspiral(x,0.2)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Number of Elements</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Time in Seconds</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Here we have also plotted the parallel versions that uses the  <code>rayon</code> work-stealing crate under the hood.
This is benched on my quad-core laptop. It is interesting to note that the real world bench times follow the same trend as the theoretical number of comparisons. Again, we can see that brococli wins. Parallel broccoli beats parallel kdtree, and ditto for sequential versions. Lets make sure things don't change when elements are more clumped up.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0</text><line x1='251.0101' x2='251.0101' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='251.0101' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2000</text><line x1='352.0202' x2='352.0202' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='352.0202' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>4000</text><line x1='453.0303' x2='453.0303' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='453.0303' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>6000</text><line x1='554.0404' x2='554.0404' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='554.0404' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>8000</text><line x1='150' x2='144' y1='365.25043' y2='365.25043' stroke='black' class='poloto_axis_lines'/><text x='120' y='365.25043' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.002</text><line x1='150' x2='144' y1='330.49966' y2='330.49966' stroke='black' class='poloto_axis_lines'/><text x='120' y='330.49966' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.004</text><line x1='150' x2='144' y1='295.7489' y2='295.7489' stroke='black' class='poloto_axis_lines'/><text x='120' y='295.7489' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.006</text><line x1='150' x2='144' y1='260.99814' y2='260.99814' stroke='black' class='poloto_axis_lines'/><text x='120' y='260.99814' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.008</text><line x1='150' x2='144' y1='226.24738' y2='226.24738' stroke='black' class='poloto_axis_lines'/><text x='120' y='226.24738' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.010</text><line x1='150' x2='144' y1='191.49661' y2='191.49661' stroke='black' class='poloto_axis_lines'/><text x='120' y='191.49661' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.012</text><line x1='150' x2='144' y1='156.74585' y2='156.74585' stroke='black' class='poloto_axis_lines'/><text x='120' y='156.74585' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.014</text><line x1='150' x2='144' y1='121.99512' y2='121.99512' stroke='black' class='poloto_axis_lines'/><text x='120' y='121.99512' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.016</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,399.98538 155.0505,399.50607 160.10101,398.59088 165.15152,397.67166 170.20203,396.70694 175.25253,395.7757 180.30302,394.44504 185.35353,393.4698 190.40404,392.61322 195.45454,391.59024 200.50505,390.66614 205.55556,389.20148 210.60606,388.16013 215.65656,386.9929 220.70706,386.3695 225.75757,385.03027 230.80807,383.96722 235.85858,383.32227 240.90909,381.89224 245.9596,381.19547 251.0101,380.16223 256.0606,377.42834 261.1111,376.58698 266.16162,375.86954 271.21213,374.5617 276.26263,373.4992 281.3131,372.5935 286.36365,371.4675 291.41412,370.323 296.46466,369.28522 301.51514,368.13916 306.56567,367.20676 311.61615,366.64844 316.66666,365.02313 321.71716,364.21414 326.76767,363.01987 331.81818,362.14514 336.86868,360.77325 341.9192,360.25583 346.9697,358.94437 352.0202,358.2248 357.0707,355.21835 362.12122,354.33868 367.1717,352.72562 372.22223,351.78717 377.2727,350.7682 382.32324,349.96075 387.37372,348.14355 392.42426,347.86945 397.47473,346.36334 402.52527,345.36487 407.57574,344.0776 412.62625,342.40607 417.67676,341.30533 422.72726,340.4804 427.77777,339.7621 432.82828,338.4214 437.87878,336.8724 442.9293,336.19876 447.9798,334.96082 453.0303,334.95932 458.0808,333.4961 463.13132,331.91217 468.18182,330.83234 473.23233,330.1006 478.28284,329.1289 483.3333,327.65918 488.38382,326.932 493.43433,326.70438 498.48483,325.0833 503.53534,324.0808 508.58585,323.88007 513.63635,322.2578 518.6869,321.386 523.73737,319.99896 528.78784,318.6123 533.8384,317.63248 538.8889,316.50742 543.9394,315.72678 548.98987,314.114 554.0404,312.99878 559.09094,312.07562 564.1414,304.8971 569.1919,303.92172 574.24243,301.79288 579.2929,301.6147 584.3434,300.1121 589.3939,299.06354 594.44446,298.10052 599.49493,296.85132 604.5454,294.97455 609.59595,294.28918 614.6465,293.71466 619.69696,292.35565 624.74744,291.60248 629.798,290.91748 634.8485,289.42303 639.899,287.8656 644.94946,287.2162 650,286.96793 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc_par</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,399.9779 155.0505,399.46402 160.10101,398.58643 165.15152,397.65817 170.20203,396.71207 175.25253,395.72162 180.30302,394.5038 185.35353,393.52344 190.40404,392.7451 195.45454,391.76666 200.50505,390.7252 205.55556,389.2966 210.60606,388.21298 215.65656,387.23666 220.70706,386.48944 225.75757,385.34348 230.80807,384.25665 235.85858,383.47333 240.90909,382.30096 245.9596,381.39825 251.0101,380.4154 256.0606,379.4449 261.1111,376.80078 266.16162,376.3698 271.21213,376.57553 276.26263,376.05173 281.3131,375.6592 286.36365,375.07703 291.41412,372.72623 296.46466,373.48474 301.51514,371.82492 306.56567,371.7222 311.61615,370.36877 316.66666,371.6821 321.71716,371.40796 326.76767,368.99915 331.81818,368.94382 336.86868,367.87326 341.9192,366.58624 346.9697,367.58597 352.0202,366.66656 357.0707,373.3455 362.12122,373.4923 367.1717,370.31195 372.22223,370.3919 377.2727,369.60086 382.32324,372.4611 387.37372,371.18903 392.42426,369.3265 397.47473,368.52567 402.52527,370.25397 407.57574,370.72195 412.62625,368.2043 417.67676,370.2458 422.72726,367.40628 427.77777,366.35156 432.82828,365.7443 437.87878,365.19443 442.9293,364.87244 447.9798,365.19626 453.0303,366.26373 458.0808,363.96484 463.13132,362.6706 468.18182,363.66125 473.23233,362.74933 478.28284,361.97253 483.3333,363.10367 488.38382,364.84128 493.43433,365.30707 498.48483,362.38922 503.53534,350.39462 508.58585,361.67563 513.63635,352.4526 518.6869,361.5572 523.73737,361.98755 528.78784,359.53546 533.8384,360.49832 538.8889,359.33853 543.9394,358.6397 548.98987,357.07086 554.0404,361.19168 559.09094,361.68832 564.1414,356.2868 569.1919,355.27634 574.24243,353.4663 579.2929,353.18582 584.3434,355.36786 589.3939,351.42725 594.44446,351.51868 599.49493,351.2062 604.5454,350.84427 609.59595,350.78806 614.6465,350.4582 619.69696,350.1725 624.74744,348.9602 629.798,348.91074 634.8485,349.73486 639.899,349.54254 644.94946,351.34662 650,349.2128 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,400 155.0505,399.44452 160.10101,397.79086 165.15152,395.3089 170.20203,392.2604 175.25253,388.57184 180.30302,384.97043 185.35353,379.77206 190.40404,375.66516 195.45454,370.15247 200.50505,364.60596 205.55556,358.40192 210.60606,351.55853 215.65656,345.91354 220.70706,336.06906 225.75757,331.43536 230.80807,323.04248 235.85858,313.89413 240.90909,305.25006 245.9596,294.61993 251.0101,284.1993 256.0606,277.1031 261.1111,265.46838 266.16162,254.26736 271.21213,243.88818 276.26263,229.13426 281.3131,217.40593 286.36365,204.61053 291.41412,194.23529 296.46466,177.86385 301.51514,166.05693 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,399.9935 155.0505,399.36774 160.10101,398.02585 165.15152,396.73822 170.20203,394.51877 175.25253,393.13184 180.30302,391.08655 185.35353,389.31973 190.40404,387.7574 195.45454,384.7794 200.50505,382.91852 205.55556,381.23962 210.60606,377.64673 215.65656,376.35587 220.70706,374.6467 225.75757,370.34482 230.80807,368.63107 235.85858,367.166 240.90909,363.4994 245.9596,361.36444 251.0101,359.5885 256.0606,356.85867 261.1111,351.33398 266.16162,352.7796 271.21213,348.58197 276.26263,345.8105 281.3131,341.07788 286.36365,339.0421 291.41412,334.41452 296.46466,333.3352 301.51514,332.72946 306.56567,330.8176 311.61615,326.99753 316.66666,324.29083 321.71716,319.91608 326.76767,319.04178 331.81818,314.10217 336.86868,308.5213 341.9192,312.43634 346.9697,308.75812 352.0202,305.03784 357.0707,298.851 362.12122,293.61057 367.1717,295.3881 372.22223,291.59637 377.2727,292.197 382.32324,285.35684 387.37372,283.2909 392.42426,280.54807 397.47473,274.6618 402.52527,278.67743 407.57574,266.82715 412.62625,267.96732 417.67676,262.466 422.72726,259.27728 427.77777,259.08838 432.82828,254.76134 437.87878,251.69771 442.9293,248.3591 447.9798,249.75613 453.0303,243.76624 458.0808,240.76411 463.13132,235.50575 468.18182,228.8841 473.23233,228.8553 478.28284,223.21115 483.3333,223.13152 488.38382,219.78609 493.43433,213.1629 498.48483,214.10468 503.53534,208.8096 508.58585,206.33511 513.63635,202.89378 518.6869,195.51437 523.73737,195.34038 528.78784,195.67706 533.8384,188.5381 538.8889,187.19325 543.9394,178.8573 548.98987,184.71642 554.0404,173.38914 559.09094,169.55075 564.1414,170.60704 569.1919,170.57344 574.24243,166.50388 579.2929,151.6288 584.3434,156.3548 589.3939,150.23874 594.44446,152.34006 599.49493,151.34018 604.5454,145.05603 609.59595,138.11148 614.6465,139.46048 619.69696,127.50009 624.74744,123.75531 629.798,120.329956 634.8485,124.91217 639.899,114.201324 644.94946,100 650,114.91629 '/><text x='675' y='300' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort_par</text><line x1='680' y1='281.25' x2='730' y2='281.25' class='poloto4stroke'/><polyline class='poloto4stroke' fill='none' stroke='black' points='150,399.99014 155.0505,399.4192 160.10101,398.18835 165.15152,396.71912 170.20203,394.55945 175.25253,393.2794 180.30302,391.26642 185.35353,389.6572 190.40404,388.1319 195.45454,385.36673 200.50505,383.58066 205.55556,381.09155 210.60606,377.64963 215.65656,376.30206 220.70706,374.5189 225.75757,370.2303 230.80807,368.38458 235.85858,366.94275 240.90909,363.7303 245.9596,361.95972 251.0101,359.76346 256.0606,363.82025 261.1111,358.22128 266.16162,360.3905 271.21213,356.8514 276.26263,354.42123 281.3131,351.139 286.36365,349.98798 291.41412,346.9924 296.46466,345.8637 301.51514,347.17474 306.56567,345.69348 311.61615,344.1392 316.66666,341.65817 321.71716,337.48523 326.76767,339.04382 331.81818,332.48145 336.86868,329.33478 341.9192,335.20087 346.9697,332.38892 352.0202,329.69382 357.0707,334.1552 362.12122,333.70718 367.1717,335.50092 372.22223,333.4584 377.2727,332.88696 382.32324,330.02777 387.37372,329.33627 392.42426,330.87314 397.47473,324.5915 402.52527,331.30756 407.57574,318.66705 412.62625,322.98895 417.67676,319.5379 422.72726,319.85483 427.77777,317.39435 432.82828,317.76352 437.87878,315.8938 442.9293,310.8473 447.9798,315.8034 453.0303,311.85013 458.0808,310.4193 463.13132,310.30322 468.18182,303.35364 473.23233,306.81506 478.28284,301.96307 483.3333,304.66934 488.38382,303.86353 493.43433,293.70294 498.48483,299.32153 503.53534,283.04077 508.58585,295.4397 513.63635,280.45782 518.6869,292.03818 523.73737,287.1199 528.78784,290.28253 533.8384,285.88947 538.8889,290.35233 543.9394,279.1673 548.98987,290.54517 554.0404,282.58374 559.09094,281.76526 564.1414,283.38934 569.1919,280.1048 574.24243,278.51968 579.2929,268.6251 584.3434,270.187 589.3939,269.76706 594.44446,268.29437 599.49493,274.96326 604.5454,268.01434 609.59595,260.32394 614.6465,262.71667 619.69696,256.86206 624.74744,255.62856 629.798,256.0987 634.8485,259.08536 639.899,251.77376 644.94946,243.5195 650,255.79874 '/><text x='675' y='350' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='331.25' x2='730' y2='331.25' class='poloto5stroke'/><polyline class='poloto5stroke' fill='none' stroke='black' points='150,399.96127 155.0505,399.45758 160.10101,398.31268 165.15152,396.80463 170.20203,395.113 175.25253,393.1565 180.30302,391.16614 185.35353,388.89716 190.40404,386.55084 195.45454,383.9474 200.50505,381.56757 205.55556,378.6826 210.60606,375.91132 215.65656,372.7928 220.70706,370.25214 225.75757,366.9781 230.80807,363.7253 235.85858,360.453 240.90909,357.03036 245.9596,353.44498 251.0101,349.87836 256.0606,346.55496 261.1111,342.2937 266.16162,338.55606 271.21213,334.55478 276.26263,331.07645 281.3131,327.12274 286.36365,323.48196 291.41412,319.2382 296.46466,315.22272 301.51514,310.7238 306.56567,306.59625 311.61615,302.35318 316.66666,297.48508 321.71716,293.4598 326.76767,288.8668 331.81818,284.10574 336.86868,278.8186 341.9192,274.33304 346.9697,269.4281 352.0202,264.619 357.0707,259.87592 362.12122,255.57478 367.1717,250.41374 372.22223,245.98616 377.2727,239.89354 382.32324,235.00056 387.37372,230.57956 392.42426,224.8392 397.47473,220.13379 402.52527,215.01108 407.57574,208.73592 412.62625,204.28604 417.67676,197.78983 422.72726,192.16876 427.77777,187.03363 432.82828,181.23997 437.87878,175.1918 442.9293,170.10854 447.9798,164.1109 453.0303,159.13234 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Bench of space partitioning algs with abspiral(x,0.05)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Number of Elements</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Time in Seconds</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Okay good its still the same results. In fact you can see that the parallel kdtree algorithm is suffering a bit with the extra clumpiness. Earlier it was on par with sequential broccoli, but now it is definitively worse.</p>
<p>It's worth noting that the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>naive</code> is much bigger than the difference between <code>sweep and prune</code>/<code>kdtree</code> and <code>broccoli</code>. So using these simpler algorithms gets you big gains as it is. The gains you get from using <code>broccoli</code> are not as pronounced, but are noticeable with more elements.</p>
<p>In the same vein, you can see that there aren't many gains to use <code>broccoli_par</code> over <code>broccoli</code>. It can double/quadruple your performance, but as you can see those gains pale in comparison to the gains from simply using the a better sequential algorithm. Thats not to say multiplying your performance by the number of cores you have isn't great, it's just that it isn't as big a factor. This to me means that typically, allocating effort on
investigating if your algorithm is optimal sequentially may be better than spending effort in parallelizing what you have.</p>
<h3><a class="header" href="#trends-as-grow-increases" id="trends-as-grow-increases">Trends as Grow increases</a></h3>
<p>Up until now, we have been looking at trends of how the algorithms preform as we increase the number of aabbs that it has to find intersections for. Lets instead look at trends of what happens when we change how clumped the aabbs are instead.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='189.8724' x2='189.8724' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='189.8724' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.5</text><line x1='256.32642' x2='256.32642' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='256.32642' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>1.0</text><line x1='322.78046' x2='322.78046' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='322.78046' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>1.5</text><line x1='389.23444' x2='389.23444' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='389.23444' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2.0</text><line x1='455.68848' x2='455.68848' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='455.68848' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2.5</text><line x1='522.14246' x2='522.14246' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='522.14246' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>3.0</text><line x1='588.5965' x2='588.5965' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='588.5965' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>3.5</text><line x1='150' x2='144' y1='400' y2='400' stroke='black' class='poloto_axis_lines'/><text x='120' y='400' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0</text><line x1='150' x2='144' y1='365.22528' y2='365.22528' stroke='black' class='poloto_axis_lines'/><text x='120' y='365.22528' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.00e5</text><line x1='150' x2='144' y1='330.4506' y2='330.4506' stroke='black' class='poloto_axis_lines'/><text x='120' y='330.4506' alignment-baseline='middle' text-anchor='end' class='poloto_text'>2.00e5</text><line x1='150' x2='144' y1='295.67587' y2='295.67587' stroke='black' class='poloto_axis_lines'/><text x='120' y='295.67587' alignment-baseline='middle' text-anchor='end' class='poloto_text'>3.00e5</text><line x1='150' x2='144' y1='260.90118' y2='260.90118' stroke='black' class='poloto_axis_lines'/><text x='120' y='260.90118' alignment-baseline='middle' text-anchor='end' class='poloto_text'>4.00e5</text><line x1='150' x2='144' y1='226.12646' y2='226.12646' stroke='black' class='poloto_axis_lines'/><text x='120' y='226.12646' alignment-baseline='middle' text-anchor='end' class='poloto_text'>5.00e5</text><line x1='150' x2='144' y1='191.35175' y2='191.35175' stroke='black' class='poloto_axis_lines'/><text x='120' y='191.35175' alignment-baseline='middle' text-anchor='end' class='poloto_text'>6.00e5</text><line x1='150' x2='144' y1='156.57706' y2='156.57706' stroke='black' class='poloto_axis_lines'/><text x='120' y='156.57706' alignment-baseline='middle' text-anchor='end' class='poloto_text'>7.00e5</text><line x1='150' x2='144' y1='121.80234' y2='121.80234' stroke='black' class='poloto_axis_lines'/><text x='120' y='121.80234' alignment-baseline='middle' text-anchor='end' class='poloto_text'>8.00e5</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>broccoli</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,304.501 155.0505,311.27304 160.10101,315.67133 165.15152,320.5937 170.20203,323.17224 175.25253,326.6278 180.30304,327.871 185.35353,330.57092 190.40405,332.3493 195.45454,333.4774 200.50505,335.10553 205.55556,335.7746 210.60606,336.59598 215.65657,338.19177 220.70708,337.6465 225.75757,338.55936 230.80809,340.8503 235.8586,341.01306 240.90909,341.26447 245.9596,340.95813 251.0101,342.5028 256.0606,341.15424 261.1111,343.10718 266.16162,342.48508 271.21213,343.279 276.26263,345.09943 281.31314,343.07867 286.36365,345.226 291.41415,344.65466 296.46466,344.66614 301.51514,344.17722 306.56567,344.61084 311.61615,345.91385 316.6667,345.92114 321.71716,345.8683 326.76767,346.84198 331.81818,347.33685 336.86868,349.36456 341.9192,347.6147 346.96973,349.18964 352.0202,347.92523 357.0707,348.72748 362.12122,348.29663 367.17172,348.08484 372.22223,349.36697 377.27274,347.6578 382.32324,350.1209 387.37372,349.70465 392.42426,347.365 397.47476,350.44012 402.52527,349.8076 407.57578,349.67786 412.62628,350.53403 417.6768,351.233 422.7273,350.39178 427.77777,350.17758 432.8283,350.6039 437.87878,349.68378 442.92932,349.96582 447.9798,350.0131 453.0303,351.1551 458.0808,349.73282 463.13132,351.31995 468.18185,349.19867 473.23233,352.36908 478.28284,350.40884 483.33334,350.84317 488.38385,350.06143 493.43436,349.88654 498.48486,352.47516 503.53534,351.169 508.58588,350.85846 513.63635,351.63742 518.6869,351.5724 523.7374,351.10608 528.7879,353.54935 533.8384,351.5769 538.8889,350.92175 543.93945,351.7341 548.98987,352.64624 554.0404,350.1574 559.09094,353.2214 564.1414,351.64334 569.19196,352.94946 574.24243,351.0946 579.29297,352.0349 584.34344,352.91785 589.3939,352.7339 594.44446,352.06653 599.495,351.46252 604.5455,353.27774 609.59595,351.62177 614.6465,351.2542 619.697,353.82825 624.7475,353.1456 629.798,352.5513 634.8485,351.8346 639.899,352.5826 644.9495,353.01346 650,354.1019 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,112.57593 155.0505,139.69464 160.10101,144.04669 165.15152,158.18747 170.20203,169.92603 175.25253,187.99217 180.30304,185.24394 185.35353,194.0875 190.40405,204.15894 195.45454,206.59282 200.50505,212.39986 205.55556,214.14589 210.60606,216.06511 215.65657,226.5389 220.70708,222.28734 225.75757,223.71068 230.80809,230.34534 235.8586,237.2269 240.90909,232.94684 245.9596,233.58286 251.0101,238.62276 256.0606,236.78075 261.1111,242.32939 266.16162,243.55486 271.21213,246.37822 276.26263,246.08923 281.31314,247.73235 286.36365,254.75578 291.41415,251.07384 296.46466,253.48651 301.51514,252.77084 306.56567,254.07455 311.61615,256.08246 316.6667,258.92563 321.71716,256.8009 326.76767,262.28833 331.81818,258.959 336.86868,265.3092 341.9192,264.02673 346.96973,263.23248 352.0202,266.04993 357.0707,265.0091 362.12122,262.36554 367.17172,269.31873 372.22223,269.57294 377.27274,269.3838 382.32324,270.5835 387.37372,271.32593 392.42426,266.9989 397.47476,272.4683 402.52527,270.73685 407.57578,269.48322 412.62628,273.48685 417.6768,275.29895 422.7273,274.037 427.77777,276.60614 432.8283,278.51422 437.87878,274.38055 442.92932,276.9285 447.9798,274.4355 453.0303,277.665 458.0808,276.13806 463.13132,279.99597 468.18185,275.9548 473.23233,278.5782 478.28284,278.74512 483.33334,280.01822 488.38385,276.3293 493.43436,282.71326 498.48486,281.2795 503.53534,282.44516 508.58588,281.63245 513.63635,282.43228 518.6869,279.5039 523.7374,283.8205 528.7879,286.7325 533.8384,283.3747 538.8889,284.9291 543.93945,283.63794 548.98987,285.34293 554.0404,281.09866 559.09094,285.5554 564.1414,284.79663 569.19196,286.8118 574.24243,282.61868 579.29297,286.63654 584.34344,287.0243 589.3939,285.40656 594.44446,287.2559 599.495,285.42047 604.5455,287.64362 609.59595,285.97305 614.6465,286.67966 619.697,288.32068 624.7475,289.52527 629.798,284.9378 634.8485,286.10938 639.899,288.42813 644.9495,291.31653 650,291.42676 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,100 155.0505,124.96164 160.10101,143.27121 165.15152,158.63641 170.20203,171.82785 175.25253,183.71002 180.30304,191.87444 185.35353,200.51698 190.40405,207.38742 195.45454,213.55055 200.50505,220.04333 205.55556,225.44315 210.60606,230.71326 215.65657,233.97546 220.70708,238.13104 225.75757,241.92357 230.80809,245.10928 235.8586,248.82184 240.90909,251.79298 245.9596,254.4077 251.0101,257.69983 256.0606,259.4438 261.1111,261.91797 266.16162,264.22598 271.21213,266.9638 276.26263,268.07346 281.31314,270.44476 286.36365,271.96265 291.41415,273.7786 296.46466,275.34973 301.51514,276.60196 306.56567,278.14526 311.61615,280.15628 316.6667,280.60593 321.71716,283.08362 326.76767,284.93292 331.81818,286.0951 336.86868,287.5219 341.9192,288.58325 346.96973,290.4301 352.0202,289.5458 357.0707,291.7119 362.12122,291.57874 367.17172,293.77338 372.22223,295.30762 377.27274,294.82877 382.32324,296.66418 387.37372,297.95224 392.42426,297.93518 397.47476,298.9496 402.52527,300.0843 407.57578,300.54956 412.62628,301.3153 417.6768,302.57135 422.7273,302.579 427.77777,304.0625 432.8283,304.09518 437.87878,305.56964 442.92932,305.27682 447.9798,306.7732 453.0303,306.39276 458.0808,307.54483 463.13132,307.3261 468.18185,307.85675 473.23233,309.053 478.28284,309.278 483.33334,309.8118 488.38385,310.48157 493.43436,311.34918 498.48486,311.79395 503.53534,312.88763 508.58588,312.63306 513.63635,313.09488 518.6869,314.23096 523.7374,314.18542 528.7879,315.44983 533.8384,315.4046 538.8889,314.94003 543.93945,315.90884 548.98987,316.24164 554.0404,316.27432 559.09094,317.7752 564.1414,318.01828 569.19196,317.30402 574.24243,318.20572 579.29297,318.86713 584.34344,319.21417 589.3939,319.65723 594.44446,320.47583 599.495,320.22995 604.5455,320.78912 609.59595,321.22626 614.6465,321.0868 619.697,321.6154 624.7475,322.22394 629.798,322.80502 634.8485,322.18777 639.899,322.08728 644.9495,323.0655 650,323.90112 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Complexity of space partitioning algs with abspiral(3000,grow)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Grow</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Number of Comparisons</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Okay broccoli is still the best. We didn't include naive because it dwarfed the other algorithms so that you couldn't see the differences between the non naive algorithms. Lets look at bench times:</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='189.8724' x2='189.8724' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='189.8724' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.5</text><line x1='256.32642' x2='256.32642' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='256.32642' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>1.0</text><line x1='322.78046' x2='322.78046' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='322.78046' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>1.5</text><line x1='389.23444' x2='389.23444' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='389.23444' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2.0</text><line x1='455.68848' x2='455.68848' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='455.68848' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>2.5</text><line x1='522.14246' x2='522.14246' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='522.14246' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>3.0</text><line x1='588.5965' x2='588.5965' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='588.5965' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>3.5</text><line x1='150' x2='144' y1='400' y2='400' stroke='black' class='poloto_axis_lines'/><text x='120' y='400' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.00</text><line x1='150' x2='144' y1='356.39685' y2='356.39685' stroke='black' class='poloto_axis_lines'/><text x='120' y='356.39685' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.01</text><line x1='150' x2='144' y1='312.79367' y2='312.79367' stroke='black' class='poloto_axis_lines'/><text x='120' y='312.79367' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.02</text><line x1='150' x2='144' y1='269.1905' y2='269.1905' stroke='black' class='poloto_axis_lines'/><text x='120' y='269.1905' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.03</text><line x1='150' x2='144' y1='225.58734' y2='225.58734' stroke='black' class='poloto_axis_lines'/><text x='120' y='225.58734' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.04</text><line x1='150' x2='144' y1='181.98419' y2='181.98419' stroke='black' class='poloto_axis_lines'/><text x='120' y='181.98419' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.05</text><line x1='150' x2='144' y1='138.38101' y2='138.38101' stroke='black' class='poloto_axis_lines'/><text x='120' y='138.38101' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.06</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,347.79178 155.0505,349.90826 160.10101,351.93127 165.15152,353.22568 170.20203,353.5007 175.25253,355.67725 180.30304,357.1266 185.35353,357.3117 190.40405,358.06967 195.45454,358.77692 200.50505,359.77957 205.55556,360.12384 210.60606,360.78503 215.65657,361.21555 220.70708,361.29987 225.75757,362.01758 230.80809,362.0828 235.8586,363.26578 240.90909,363.64902 245.9596,363.88837 251.0101,363.69592 256.0606,364.2082 261.1111,364.69702 266.16162,365.06882 271.21213,365.13193 276.26263,365.19095 281.31314,365.46817 286.36365,365.72937 291.41415,366.1368 296.46466,366.3257 301.51514,366.15994 306.56567,366.7384 311.61615,366.89877 316.6667,366.78217 321.71716,366.70978 326.76767,367.3413 331.81818,367.8186 336.86868,368.05652 341.9192,368.12823 346.96973,368.78885 352.0202,370.62787 357.0707,368.98978 362.12122,368.91336 367.17172,369.6657 372.22223,369.73517 377.27274,369.6624 382.32324,369.55927 387.37372,369.987 392.42426,370.2818 397.47476,370.02902 402.52527,370.43695 407.57578,370.67303 412.62628,370.79178 417.6768,370.80176 422.7273,371.16672 427.77777,370.65466 432.8283,371.14035 437.87878,371.3277 442.92932,371.25424 447.9798,371.39383 453.0303,369.44968 458.0808,371.40808 463.13132,371.6863 468.18185,371.4104 473.23233,371.64926 478.28284,371.3458 483.33334,371.6646 488.38385,372.12012 493.43436,371.78854 498.48486,372.00278 503.53534,371.84555 508.58588,372.04898 513.63635,372.12018 518.6869,372.1584 523.7374,372.54813 528.7879,371.94876 533.8384,372.4056 538.8889,372.2118 543.93945,372.2864 548.98987,372.54868 554.0404,372.67468 559.09094,372.68655 564.1414,371.14645 569.19196,372.24796 574.24243,372.627 579.29297,372.5463 584.34344,372.84155 589.3939,373.06683 594.44446,372.8627 599.495,373.083 604.5455,373.4102 609.59595,373.1233 614.6465,372.9903 619.697,373.06076 624.7475,372.889 629.798,371.94583 634.8485,373.25015 639.899,373.32776 644.9495,373.31464 650,373.12296 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc_par</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,376.46313 155.0505,380.40952 160.10101,383.65244 165.15152,383.57587 170.20203,382.63525 175.25253,384.53366 180.30304,385.80075 185.35353,385.7149 190.40405,385.303 195.45454,386.60455 200.50505,386.41614 205.55556,386.24283 210.60606,387.31473 215.65657,387.10028 220.70708,386.26187 225.75757,387.13354 230.80809,382.11053 235.8586,386.9096 240.90909,386.5651 245.9596,388.1503 251.0101,387.6698 256.0606,387.40283 261.1111,388.59888 266.16162,388.10785 271.21213,388.19302 276.26263,388.5921 281.31314,388.533 286.36365,388.4242 291.41415,388.62408 296.46466,388.70593 301.51514,388.168 306.56567,383.29504 311.61615,389.15915 316.6667,388.57593 321.71716,388.97214 326.76767,388.90152 331.81818,388.575 336.86868,388.63324 341.9192,388.49582 346.96973,389.3139 352.0202,389.47833 357.0707,388.34116 362.12122,389.21838 367.17172,389.52365 372.22223,389.75946 377.27274,389.10992 382.32324,388.55408 387.37372,390.3239 392.42426,389.24597 397.47476,388.1832 402.52527,389.9831 407.57578,389.7837 412.62628,389.34778 417.6768,389.58426 422.7273,389.6001 427.77777,389.02936 432.8283,389.48965 437.87878,389.3535 442.92932,389.3624 447.9798,389.9677 453.0303,387.5189 458.0808,389.70187 463.13132,389.453 468.18185,390.13058 473.23233,389.3227 478.28284,388.6155 483.33334,389.72046 488.38385,390.51404 493.43436,389.905 498.48486,388.2909 503.53534,389.48798 508.58588,389.18265 513.63635,389.9259 518.6869,389.86975 523.7374,389.4413 528.7879,388.6635 533.8384,389.59103 538.8889,389.68524 543.93945,390.02728 548.98987,390.05377 554.0404,388.64194 559.09094,389.43103 564.1414,388.67648 569.19196,390.26898 574.24243,389.52118 579.29297,389.68887 584.34344,389.572 589.3939,389.7501 594.44446,389.6987 599.495,389.02527 604.5455,390.77206 609.59595,390.27304 614.6465,389.10846 619.697,390.27905 624.7475,389.353 629.798,388.958 634.8485,389.66843 639.899,389.86673 644.9495,389.84247 650,390.28973 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,400 155.0505,400 160.10101,400 165.15152,400 170.20203,400 175.25253,400 180.30304,400 185.35353,400 190.40405,400 195.45454,400 200.50505,400 205.55556,400 210.60606,400 215.65657,400 220.70708,400 225.75757,400 230.80809,400 235.8586,400 240.90909,400 245.9596,400 251.0101,400 256.0606,400 261.1111,400 266.16162,400 271.21213,400 276.26263,400 281.31314,400 286.36365,400 291.41415,400 296.46466,400 301.51514,400 306.56567,400 311.61615,400 316.6667,400 321.71716,400 326.76767,400 331.81818,400 336.86868,400 341.9192,400 346.96973,400 352.0202,400 357.0707,400 362.12122,400 367.17172,400 372.22223,400 377.27274,400 382.32324,400 387.37372,400 392.42426,400 397.47476,400 402.52527,400 407.57578,400 412.62628,400 417.6768,400 422.7273,400 427.77777,400 432.8283,400 437.87878,400 442.92932,400 447.9798,400 453.0303,400 458.0808,400 463.13132,400 468.18185,400 473.23233,400 478.28284,400 483.33334,400 488.38385,400 493.43436,400 498.48486,400 503.53534,400 508.58588,400 513.63635,400 518.6869,400 523.7374,400 528.7879,400 533.8384,400 538.8889,400 543.93945,400 548.98987,400 554.0404,400 559.09094,400 564.1414,400 569.19196,400 574.24243,400 579.29297,400 584.34344,400 589.3939,400 594.44446,400 599.495,400 604.5455,400 609.59595,400 614.6465,400 619.697,400 624.7475,400 629.798,400 634.8485,400 639.899,400 644.9495,400 650,400 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,274.01648 155.0505,285.70544 160.10101,292.0724 165.15152,298.4878 170.20203,300.0193 175.25253,306.276 180.30304,309.0913 185.35353,311.82272 190.40405,313.87262 195.45454,316.8839 200.50505,319.09344 205.55556,320.27063 210.60606,321.7425 215.65657,323.5939 220.70708,323.46597 225.75757,326.28506 230.80809,327.39468 235.8586,328.09155 240.90909,328.78864 245.9596,329.482 251.0101,330.5282 256.0606,331.58685 261.1111,331.8328 266.16162,333.4048 271.21213,333.15543 276.26263,333.43393 281.31314,334.63504 286.36365,334.4604 291.41415,335.51306 296.46466,335.81827 301.51514,336.05167 306.56567,337.24878 311.61615,337.62268 316.6667,338.0875 321.71716,337.91028 326.76767,338.87726 331.81818,339.438 336.86868,339.83844 341.9192,340.57172 346.96973,341.24503 352.0202,342.85434 357.0707,341.9205 362.12122,341.50665 367.17172,342.41922 372.22223,343.01266 377.27274,343.2654 382.32324,343.0912 387.37372,344.47043 392.42426,344.36176 397.47476,344.03946 402.52527,344.45813 407.57578,344.89526 412.62628,344.75854 417.6768,345.05936 422.7273,345.66922 427.77777,345.19733 432.8283,345.7726 437.87878,346.3827 442.92932,345.9593 447.9798,346.56296 453.0303,344.5788 458.0808,346.91324 463.13132,347.6393 468.18185,347.28006 473.23233,347.07397 478.28284,347.6022 483.33334,348.01614 488.38385,348.34344 493.43436,348.1174 498.48486,348.2049 503.53534,348.3116 508.58588,348.63474 513.63635,348.68127 518.6869,349.0943 523.7374,349.40738 528.7879,348.5396 533.8384,349.58398 538.8889,349.31113 543.93945,349.6976 548.98987,349.8687 554.0404,349.80005 559.09094,349.84906 564.1414,348.38895 569.19196,349.67444 574.24243,350.23978 579.29297,350.2386 584.34344,350.70917 589.3939,350.7871 594.44446,350.80182 599.495,351.28497 604.5455,351.13345 609.59595,351.19025 614.6465,351.15622 619.697,351.24088 624.7475,351.01367 629.798,350.27 634.8485,351.28094 639.899,351.22797 644.9495,351.3271 650,351.54645 '/><text x='675' y='300' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort_par</text><line x1='680' y1='281.25' x2='730' y2='281.25' class='poloto4stroke'/><polyline class='poloto4stroke' fill='none' stroke='black' points='150,350.49634 155.0505,358.34116 160.10101,360.10403 165.15152,363.54163 170.20203,363.16364 175.25253,366.97906 180.30304,368.4524 185.35353,369.36188 190.40405,369.14087 195.45454,371.6586 200.50505,372.43484 205.55556,373.03287 210.60606,372.8039 215.65657,373.98337 220.70708,373.1015 225.75757,373.98047 230.80809,366.6866 235.8586,375.98624 240.90909,376.00787 245.9596,376.1129 251.0101,376.36694 256.0606,377.5819 261.1111,377.21008 266.16162,377.30933 271.21213,376.53354 276.26263,377.35153 281.31314,377.5688 286.36365,378.41388 291.41415,378.41785 296.46466,378.75598 301.51514,378.45093 306.56567,379.91522 311.61615,379.95563 316.6667,379.36453 321.71716,379.83228 326.76767,379.97464 331.81818,379.67487 336.86868,379.4676 341.9192,380.00317 346.96973,380.44168 352.0202,380.9867 357.0707,381.06058 362.12122,379.75357 367.17172,381.54697 372.22223,381.10736 377.27274,381.5994 382.32324,381.41977 387.37372,381.48364 392.42426,380.45633 397.47476,380.3202 402.52527,381.56238 407.57578,381.3361 412.62628,381.14874 417.6768,381.78098 422.7273,382.50906 427.77777,380.8739 432.8283,382.0809 437.87878,382.91827 442.92932,382.22037 447.9798,381.54575 453.0303,380.52612 458.0808,381.94257 463.13132,382.97443 468.18185,382.6816 473.23233,382.32227 478.28284,382.553 483.33334,383.17813 488.38385,383.1242 493.43436,382.75668 498.48486,383.24695 503.53534,382.61615 508.58588,383.17435 513.63635,382.51614 518.6869,383.56137 523.7374,382.19104 528.7879,382.7409 533.8384,383.24585 538.8889,382.8643 543.93945,382.38818 548.98987,383.3452 554.0404,383.12073 559.09094,383.44794 564.1414,380.7483 569.19196,383.20593 574.24243,377.33954 579.29297,383.20767 584.34344,384.20236 589.3939,384.08783 594.44446,383.7017 599.495,384.29828 604.5455,384.2364 609.59595,383.42203 614.6465,383.9068 619.697,384.37903 624.7475,383.944 629.798,382.6942 634.8485,383.59717 639.899,383.50726 644.9495,383.69492 650,383.8469 '/><text x='675' y='350' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='331.25' x2='730' y2='331.25' class='poloto5stroke'/><polyline class='poloto5stroke' fill='none' stroke='black' points='150,100 155.0505,125.627655 160.10101,145.6769 165.15152,161.64206 170.20203,173.38785 175.25253,185.94852 180.30304,196.06671 185.35353,204.33676 190.40405,212.22285 195.45454,218.03247 200.50505,224.04756 205.55556,228.99722 210.60606,234.21594 215.65657,238.51355 220.70708,242.02864 225.75757,246.513 230.80809,250.00262 235.8586,253.33125 240.90909,256.3737 245.9596,259.17227 251.0101,261.5551 256.0606,264.34912 261.1111,266.3228 266.16162,268.8822 271.21213,270.55774 276.26263,272.3452 281.31314,274.4353 286.36365,276.2885 291.41415,277.84964 296.46466,279.5042 301.51514,281.559 306.56567,282.3109 311.61615,284.255 316.6667,285.4996 321.71716,286.67798 326.76767,288.18658 331.81818,289.65778 336.86868,290.61557 341.9192,292.04016 346.96973,293.273 352.0202,295.9575 357.0707,295.63034 362.12122,296.68457 367.17172,297.6875 372.22223,298.4836 377.27274,299.32788 382.32324,300.2772 387.37372,301.1771 392.42426,302.09308 397.47476,302.7472 402.52527,303.76923 407.57578,304.42468 412.62628,305.13022 417.6768,305.93823 422.7273,306.75726 427.77777,307.222 432.8283,307.70636 437.87878,308.50137 442.92932,309.0112 447.9798,309.78265 453.0303,308.80682 458.0808,310.65796 463.13132,311.4238 468.18185,311.9027 473.23233,312.48816 478.28284,312.6328 483.33334,313.3581 488.38385,313.9876 493.43436,314.5086 498.48486,315.00647 503.53534,315.562 508.58588,315.65228 513.63635,316.27466 518.6869,316.99133 523.7374,317.54532 528.7879,317.46063 533.8384,318.1998 538.8889,318.43054 543.93945,318.79333 548.98987,319.0653 554.0404,319.54337 559.09094,320.04022 564.1414,319.10852 569.19196,320.52252 574.24243,320.94833 579.29297,321.34283 584.34344,321.69635 589.3939,321.99893 594.44446,322.3153 599.495,322.46594 604.5455,323.06393 609.59595,323.60806 614.6465,323.79886 619.697,324.2256 624.7475,324.40723 629.798,323.1802 634.8485,324.93622 639.899,325.31482 644.9495,325.60757 650,325.70532 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Bench of space partitioning algs with abspiral(30_000,grow)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Grow</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Time in Seconds</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Same trends. Again naive was excluded since it just dwarfed everything.</p>
<h3><a class="header" href="#extremely-clumped-up-case" id="extremely-clumped-up-case">Extremely clumped up case</a></h3>
<p>So far we've looked at &quot;reasonable&quot; levels of clumpiness. When things get extremely clumped up, weird things happen.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.000</text><line x1='276.26263' x2='276.26263' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='276.26263' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.005</text><line x1='402.52527' x2='402.52527' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='402.52527' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.010</text><line x1='528.78784' x2='528.78784' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='528.78784' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.015</text><line x1='150' x2='144' y1='389.64188' y2='389.64188' stroke='black' class='poloto_axis_lines'/><text x='120' y='389.64188' alignment-baseline='middle' text-anchor='end' class='poloto_text'>2.00e6</text><line x1='150' x2='144' y1='353.5106' y2='353.5106' stroke='black' class='poloto_axis_lines'/><text x='120' y='353.5106' alignment-baseline='middle' text-anchor='end' class='poloto_text'>4.00e6</text><line x1='150' x2='144' y1='317.3793' y2='317.3793' stroke='black' class='poloto_axis_lines'/><text x='120' y='317.3793' alignment-baseline='middle' text-anchor='end' class='poloto_text'>6.00e6</text><line x1='150' x2='144' y1='281.248' y2='281.248' stroke='black' class='poloto_axis_lines'/><text x='120' y='281.248' alignment-baseline='middle' text-anchor='end' class='poloto_text'>8.00e6</text><line x1='150' x2='144' y1='245.1167' y2='245.1167' stroke='black' class='poloto_axis_lines'/><text x='120' y='245.1167' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.00e7</text><line x1='150' x2='144' y1='208.98541' y2='208.98541' stroke='black' class='poloto_axis_lines'/><text x='120' y='208.98541' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.20e7</text><line x1='150' x2='144' y1='172.85413' y2='172.85413' stroke='black' class='poloto_axis_lines'/><text x='120' y='172.85413' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.40e7</text><line x1='150' x2='144' y1='136.72284' y2='136.72284' stroke='black' class='poloto_axis_lines'/><text x='120' y='136.72284' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.60e7</text><line x1='150' x2='144' y1='100.59155' y2='100.59155' stroke='black' class='poloto_axis_lines'/><text x='120' y='100.59155' alignment-baseline='middle' text-anchor='end' class='poloto_text'>1.80e7</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>broccoli</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,136.5636 155.0505,146.19633 160.10101,151.32947 165.15152,168.53984 170.20203,176.53625 175.25253,199.83974 180.30304,211.87476 185.35353,233.791 190.40404,243.34561 195.45454,256.48285 200.50505,274.26883 205.55556,285.79062 210.60606,287.53363 215.65656,299.42197 220.70706,303.13788 225.75757,310.022 230.80807,314.49854 235.85858,321.73154 240.90909,322.3786 245.9596,326.17444 251.0101,331.97974 256.0606,336.7881 261.1111,336.63617 266.16162,339.52884 271.21213,343.22113 276.26263,347.82892 281.3131,348.5921 286.36365,349.61853 291.41412,351.76666 296.46466,353.82178 301.51514,356.93784 306.56567,357.48395 311.61615,360.32745 316.6667,361.42038 321.71716,362.0921 326.7677,363.95474 331.81818,366.30463 336.86868,366.59958 341.9192,368.5757 346.9697,369.65128 352.0202,370.62097 357.0707,371.32498 362.12122,372.4463 367.17172,373.29227 372.22223,373.7966 377.2727,374.72998 382.32324,375.12027 387.37372,376.4016 392.42426,378.00223 397.47473,378.78748 402.52527,378.85583 407.57578,380.79904 412.62625,380.09332 417.67676,381.06436 422.7273,381.65286 427.77777,383.88547 432.82828,384.15247 437.87878,384.52493 442.9293,385.7214 447.9798,385.60464 453.0303,386.20755 458.0808,386.68774 463.13132,386.60223 468.18182,387.75507 473.23233,389.0004 478.28284,389.53693 483.33334,389.57587 488.38382,389.90793 493.43436,389.98288 498.48483,391.15887 503.53537,391.2245 508.58588,392.17816 513.63635,392.06696 518.6869,392.11835 523.73737,393.16705 528.78784,393.14624 533.8384,393.49994 538.8889,394.0518 543.9394,394.22668 548.98987,394.46838 554.0404,394.6711 559.09094,394.93802 564.1414,395.14 569.1919,395.71524 574.24243,396.09012 579.29297,396.27313 584.34344,396.2895 589.3939,396.511 594.44446,396.8496 599.49493,397.35144 604.5454,397.47934 609.59595,397.91666 614.6465,397.98706 619.69696,398.1884 624.74744,398.30658 629.798,398.15338 634.8485,398.88187 639.89905,398.95837 644.94946,400 650,399.93723 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,100.69995 155.0505,101.16162 160.10101,110.16937 165.15152,125.25549 170.20203,139.91904 175.25253,152.05057 180.30304,160.83855 185.35353,168.51445 190.40404,176.18803 195.45454,182.56006 200.50505,187.59915 205.55556,192.426 210.60606,196.81456 215.65656,200.43669 220.70706,203.96402 225.75757,206.9861 230.80807,209.72704 235.85858,212.30305 240.90909,214.83913 245.9596,216.98651 251.0101,219.22527 256.0606,221.1062 261.1111,222.86911 266.16162,224.6664 271.21213,226.13802 276.26263,227.69267 281.3131,229.3428 286.36365,230.49817 291.41412,231.78804 296.46466,232.98021 301.51514,234.1945 306.56567,235.35147 311.61615,236.28603 316.6667,237.34619 321.71716,238.35617 326.7677,239.12459 331.81818,240.11353 336.86868,241.13103 341.9192,241.79706 346.9697,242.74223 352.0202,243.46454 357.0707,244.11176 362.12122,244.81909 367.17172,245.57623 372.22223,246.18658 377.2727,246.83022 382.32324,247.42517 387.37372,248.05025 392.42426,248.66032 397.47473,249.34335 402.52527,249.82388 407.57578,250.29599 412.62625,250.81874 417.67676,251.35645 422.7273,251.8935 427.77777,252.32208 432.82828,252.75093 437.87878,253.19316 442.9293,253.65504 447.9798,254.13264 453.0303,254.52585 458.0808,254.86327 463.13132,255.33728 468.18182,255.63551 473.23233,256.15842 478.28284,256.49762 483.33334,256.8968 488.38382,257.1588 493.43436,257.45496 498.48483,257.74414 503.53537,258.21216 508.58588,258.6704 513.63635,258.95795 518.6869,259.18918 523.73737,259.38205 528.78784,259.82697 533.8384,260.09836 538.8889,260.37067 543.9394,260.65335 548.98987,260.89682 554.0404,261.13837 559.09094,261.50635 564.1414,261.6134 569.1919,261.92468 574.24243,262.24374 579.29297,262.4788 584.34344,262.69058 589.3939,262.86288 594.44446,263.12857 599.49493,263.33978 604.5454,263.60834 609.59595,263.80124 614.6465,264.0341 619.69696,264.21942 624.74744,264.4746 629.798,264.73743 634.8485,265.01166 639.89905,265.1668 644.94946,265.30676 650,265.5562 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,100 155.0505,100.52081 160.10101,111.2262 165.15152,129.19742 170.20203,147.59164 175.25253,163.0866 180.30304,175.54947 185.35353,187.74768 190.40404,199.12747 195.45454,209.0615 200.50505,216.2586 205.55556,225.41307 210.60606,230.62036 215.65656,236.9238 220.70706,242.43005 225.75757,246.38617 230.80807,250.9829 235.85858,257.39972 240.90909,259.8261 245.9596,264.20963 251.0101,268.10852 256.0606,272.61795 261.1111,272.29877 266.16162,276.3121 271.21213,279.9596 276.26263,286.30014 281.3131,285.06274 286.36365,287.09085 291.41412,288.9678 296.46466,290.91202 301.51514,295.57465 306.56567,295.55753 311.61615,300.31882 316.6667,301.34637 321.71716,303.00784 326.7677,303.9088 331.81818,309.43118 336.86868,307.94116 341.9192,311.63538 346.9697,313.33704 352.0202,314.04132 357.0707,315.06665 362.12122,316.30685 367.17172,318.93378 372.22223,319.0932 377.2727,321.3671 382.32324,322.16214 387.37372,322.91107 392.42426,326.63147 397.47473,327.55615 402.52527,327.39932 407.57578,331.6651 412.62625,329.3736 417.67676,330.12375 422.7273,330.94043 427.77777,336.19748 432.82828,337.15286 437.87878,337.57846 442.9293,339.68796 447.9798,339.76654 453.0303,340.1156 458.0808,341.73898 463.13132,339.31213 468.18182,342.51697 473.23233,346.60812 478.28284,347.73175 483.33334,346.23914 488.38382,347.4629 493.43436,347.95517 498.48483,348.31146 503.53537,350.49646 508.58588,349.50156 513.63635,350.80466 518.6869,350.6067 523.73737,351.94638 528.78784,352.06693 533.8384,353.1901 538.8889,355.20248 543.9394,353.4519 548.98987,354.35638 554.0404,354.12494 559.09094,356.0559 564.1414,355.86853 569.1919,357.3156 574.24243,358.05774 579.29297,356.58224 584.34344,356.84097 589.3939,358.3044 594.44446,359.4287 599.49493,359.28592 604.5454,359.63098 609.59595,360.6498 614.6465,360.50275 619.69696,360.80286 624.74744,359.5687 629.798,361.89722 634.8485,362.39087 639.89905,362.74622 644.94946,363.92972 650,364.8001 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,180.14519 155.0505,180.8692 160.10101,191.2537 165.15152,208.97864 170.20203,226.25284 175.25253,240.45882 180.30304,250.77359 185.35353,260.06403 190.40404,269.17453 195.45454,276.53506 200.50505,282.60812 205.55556,288.37595 210.60606,293.4577 215.65656,297.88547 220.70706,302.22397 225.75757,305.6638 230.80807,308.9594 235.85858,312.33197 240.90909,315.24185 245.9596,317.8035 251.0101,320.48157 256.0606,322.83954 261.1111,324.94467 266.16162,327.0043 271.21213,328.92758 276.26263,330.8506 281.3131,332.73102 286.36365,334.19443 291.41412,335.76743 296.46466,337.16016 301.51514,338.68185 306.56567,340.0222 311.61615,341.23645 316.6667,342.45923 321.71716,343.6789 326.7677,344.71628 331.81818,345.91425 336.86868,346.9863 341.9192,347.88354 346.9697,349.0321 352.0202,349.85358 357.0707,350.79095 362.12122,351.6051 367.17172,352.54263 372.22223,353.2487 377.2727,354.05917 382.32324,354.81406 387.37372,355.50674 392.42426,356.29282 397.47473,357.16983 402.52527,357.646 407.57578,358.2862 412.62625,359.00516 417.67676,359.5923 422.7273,360.21677 427.77777,360.82483 432.82828,361.35034 437.87878,361.91284 442.9293,362.4371 447.9798,362.96182 453.0303,363.55457 458.0808,363.9496 463.13132,364.45282 468.18182,364.89597 473.23233,365.51752 478.28284,365.8499 483.33334,366.42032 488.38382,366.78253 493.43436,367.17236 498.48483,367.59628 503.53537,368.10022 508.58588,368.61063 513.63635,368.89636 518.6869,369.25558 523.73737,369.5739 528.78784,369.98038 533.8384,370.3625 538.8889,370.70587 543.9394,371.07098 548.98987,371.37708 554.0404,371.70078 559.09094,372.05664 564.1414,372.2825 569.1919,372.72974 574.24243,372.96896 579.29297,373.25113 584.34344,373.59082 589.3939,373.84048 594.44446,374.18738 599.49493,374.46838 604.5454,374.79132 609.59595,375.03125 614.6465,375.29663 619.69696,375.5053 624.74744,375.83258 629.798,376.0879 634.8485,376.33267 639.89905,376.54727 644.94946,376.8719 650,377.15985 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Complexity of space partitioning algs with abspiral(3000,grow)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Grow</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Number of Comparisons</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Okay so there are some weird things going on here. For one thing naive isnt a straight line. For another broccoli and sweep cross over each other.</p>
<p>The first weird thing is explained by the fact that the naive implementation I used is not 100% naive. While it does check
every possible pair, it first checks if a pair of aabb's collides in one dimension. If it does not collide in that dimension, it does not even check the next dimension. So because of this &quot;short circuiting&quot;, there is a slight increase in comparisons when the aabbs are clumped up. If there were no short-circuiting, it would be flat all across. It is clear from the graph that this short-circuiting optimization does not gain you all that much.</p>
<p>The second weird thing of <code>sweep and prune</code> seemingly having a better worst case than the <code>broccoli</code>: This makes sense since in the worst case, <code>sweep and prune</code> will sort all the elements, and then sweep. In the worst case for <code>broccoli</code>, it will first find the median, and then sort all the elements, and then sweep. So <code>broccoli</code> is slower since it redundantly found the median, and then sorted everything. However, it is easy to see that this only happens when the aabbs are extremely clumped up (abspiral(grow) where grow&lt;=0.003). So while <code>sweep and prune</code> has a better worst-cast, the worst-cast scenario of <code>broccoli</code> is rare and it is not much worse (median finding + sort versus just sort). </p>
<p>Now lets look at the benches.</p>
<p><svg class='poloto' height='500' width='800' viewBox='0 0 800 500' xmlns='http://www.w3.org/2000/svg'><rect class='poloto_background' fill='white' x='0' y='0' width='800' height='500'/><style>.poloto {
font-family: &quot;Arial&quot;;
stroke-width:2;
}
.poloto_text{fill: var(--poloto_fg_color,black);  }
.poloto_axis_lines{stroke: var(--poloto_fg_color,black);stoke-width:3;fill:none}
.poloto_background{fill: var(--poloto_bg_color,aliceblue); }
.poloto0stroke{stroke:  var(--poloto_color0,blue); }
.poloto1stroke{stroke:  var(--poloto_color1,red); }
.poloto2stroke{stroke:  var(--poloto_color2,green); }
.poloto3stroke{stroke:  var(--poloto_color3,gold); }
.poloto4stroke{stroke:  var(--poloto_color4,aqua); }
.poloto5stroke{stroke:  var(--poloto_color5,brown); }
.poloto6stroke{stroke:  var(--poloto_color6,lime); }
.poloto7stroke{stroke:  var(--poloto_color7,chocolate); }
.poloto0fill{fill:var(--poloto_color0,blue);}
.poloto1fill{fill:var(--poloto_color1,red);}
.poloto2fill{fill:var(--poloto_color2,green);}
.poloto3fill{fill:var(--poloto_color3,gold);}
.poloto4fill{fill:var(--poloto_color4,aqua);}
.poloto5fill{fill:var(--poloto_color5,brown);}
.poloto6fill{fill:var(--poloto_color6,lime);}
.poloto7fill{fill:var(--poloto_color7,chocolate);}</style><line x1='150' x2='150' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='150' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.000</text><line x1='251.0101' x2='251.0101' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='251.0101' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.001</text><line x1='352.0202' x2='352.0202' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='352.0202' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.002</text><line x1='453.0303' x2='453.0303' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='453.0303' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.003</text><line x1='554.0404' x2='554.0404' y1='400' y2='405' stroke='black' class='poloto_axis_lines'/><text x='554.0404' y='440' alignment-baseline='start' text-anchor='middle' class='poloto_text'>0.004</text><line x1='150' x2='144' y1='381.87164' y2='381.87164' stroke='black' class='poloto_axis_lines'/><text x='120' y='381.87164' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.008</text><line x1='150' x2='144' y1='344.66904' y2='344.66904' stroke='black' class='poloto_axis_lines'/><text x='120' y='344.66904' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.010</text><line x1='150' x2='144' y1='307.46643' y2='307.46643' stroke='black' class='poloto_axis_lines'/><text x='120' y='307.46643' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.012</text><line x1='150' x2='144' y1='270.26382' y2='270.26382' stroke='black' class='poloto_axis_lines'/><text x='120' y='270.26382' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.014</text><line x1='150' x2='144' y1='233.06122' y2='233.06122' stroke='black' class='poloto_axis_lines'/><text x='120' y='233.06122' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.016</text><line x1='150' x2='144' y1='195.85861' y2='195.85861' stroke='black' class='poloto_axis_lines'/><text x='120' y='195.85861' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.018</text><line x1='150' x2='144' y1='158.656' y2='158.656' stroke='black' class='poloto_axis_lines'/><text x='120' y='158.656' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.020</text><line x1='150' x2='144' y1='121.4534' y2='121.4534' stroke='black' class='poloto_axis_lines'/><text x='120' y='121.4534' alignment-baseline='middle' text-anchor='end' class='poloto_text'>0.022</text><text x='675' y='100' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc</text><line x1='680' y1='81.25' x2='730' y2='81.25' class='poloto0stroke'/><polyline class='poloto0stroke' fill='none' stroke='black' points='150,245.9974 155.0505,245.06389 160.10101,244.33545 165.15152,244.93756 170.20203,243.92561 175.25253,243.66025 180.30304,243.23141 185.35353,240.51431 190.40404,238.40482 195.45454,236.36761 200.50505,234.97276 205.55556,229.654 210.60606,227.47006 215.65656,226.7902 220.70706,225.30466 225.75757,220.65495 230.80807,222.20224 235.85858,219.55942 240.90909,223.87727 245.9596,226.02844 251.0101,229.12782 256.0606,236.59898 261.1111,241.97404 266.16162,244.71156 271.21213,252.34692 276.26263,259.15167 281.3131,267.04944 286.36365,271.3437 291.41412,277.39627 296.46466,280.2907 301.51514,285.0272 306.56567,289.69144 311.61615,291.01312 316.6667,297.57745 321.71716,297.0127 326.7677,300.32913 331.81818,306.44098 336.86868,309.74982 341.9192,310.4643 346.9697,315.41434 352.0202,319.22592 357.0707,322.84647 362.12122,323.55792 367.17172,327.53674 372.22223,331.13324 377.2727,332.859 382.32324,334.15497 387.37372,334.53052 392.42426,337.6313 397.47473,338.94485 402.52527,342.9272 407.57578,344.8086 412.62625,345.15356 417.67676,348.0222 422.7273,351.3831 427.77777,353.22467 432.82828,351.46512 437.87878,355.25546 442.9293,353.72992 447.9798,358.4555 453.0303,360.1587 458.0808,360.194 463.13132,362.32407 468.18182,364.41098 473.23233,364.52832 478.28284,365.5952 483.33334,369.16833 488.38382,369.80853 493.43436,370.6164 498.48483,370.39218 503.53537,373.26385 508.58588,372.51578 513.63635,375.3827 518.6869,375.4733 523.73737,378.88922 528.78784,378.95813 533.8384,379.87155 538.8889,381.3544 543.9394,382.36942 548.98987,381.68454 554.0404,381.70834 559.09094,385.17166 564.1414,385.57834 569.1919,386.16815 574.24243,386.63684 579.29297,388.7684 584.34344,390.65607 589.3939,390.87427 594.44446,392.77338 599.49493,391.65375 604.5454,392.99948 609.59595,393.78543 614.6465,393.61508 619.69696,395.90176 624.74744,395.2619 629.798,396.3369 634.8485,397.82025 639.89905,399.14084 644.94946,398.2624 650,400 '/><text x='675' y='150' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>brocc_par</text><line x1='680' y1='131.25' x2='730' y2='131.25' class='poloto1stroke'/><polyline class='poloto1stroke' fill='none' stroke='black' points='150,232.90472 155.0505,227.1299 160.10101,230.7916 165.15152,230.05838 170.20203,230.47197 175.25253,229.54564 180.30304,230.68626 185.35353,226.59366 190.40404,225.54591 195.45454,222.45673 200.50505,224.6256 205.55556,222.50278 210.60606,215.04848 215.65656,213.90033 220.70706,221.43909 225.75757,216.67058 230.80807,218.95454 235.85858,217.13715 240.90909,220.05072 245.9596,223.22348 251.0101,225.94034 256.0606,233.13603 261.1111,238.15033 266.16162,240.96259 271.21213,247.82808 276.26263,255.85246 281.3131,264.2052 286.36365,266.61728 291.41412,267.1153 296.46466,277.68896 301.51514,274.47687 306.56567,287.07245 311.61615,287.88287 316.6667,294.9937 321.71716,294.8986 326.7677,297.42413 331.81818,303.65588 336.86868,309.12024 341.9192,309.82843 346.9697,313.3817 352.0202,317.93787 357.0707,322.64282 362.12122,323.34662 367.17172,327.4172 372.22223,330.68036 377.2727,333.4483 382.32324,333.4585 387.37372,336.61765 392.42426,337.52203 397.47473,334.2756 402.52527,342.72684 407.57578,345.1106 412.62625,346.17813 417.67676,347.94345 422.7273,349.76862 427.77777,351.83725 432.82828,349.96753 437.87878,351.8764 442.9293,352.14703 447.9798,356.49686 453.0303,357.77747 458.0808,356.1693 463.13132,359.21335 468.18182,361.02423 473.23233,360.55948 478.28284,361.70657 483.33334,366.13287 488.38382,365.69272 493.43436,368.45108 498.48483,366.5796 503.53537,370.91306 508.58588,154.7497 513.63635,373.00406 518.6869,373.76456 523.73737,376.15668 528.78784,377.45956 533.8384,378.8812 538.8889,379.8831 543.9394,379.97946 548.98987,380.87103 554.0404,380.13184 559.09094,384.14322 564.1414,385.49078 569.1919,385.63046 574.24243,385.60196 579.29297,389.0193 584.34344,391.30423 589.3939,390.74503 594.44446,391.71674 599.49493,392.25632 604.5454,393.91794 609.59595,392.04044 614.6465,395.49225 619.69696,396.77615 624.74744,396.4158 629.798,394.13025 634.8485,395.82776 639.89905,397.36087 644.94946,398.84576 650,398.54492 '/><text x='675' y='200' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>naive</text><line x1='680' y1='181.25' x2='730' y2='181.25' class='poloto2stroke'/><polyline class='poloto2stroke' fill='none' stroke='black' points='150,269.8435 155.0505,271.10892 160.10101,271.04865 165.15152,270.6136 170.20203,271.30453 175.25253,271.81204 180.30304,270.07892 185.35353,267.1009 190.40404,262.56403 195.45454,258.20755 200.50505,251.12799 205.55556,242.68747 210.60606,233.8434 215.65656,236.27641 220.70706,230.39745 225.75757,219.25238 230.80807,216.8972 235.85858,210.30373 240.90909,213.00829 245.9596,208.27316 251.0101,205.26143 256.0606,206.1702 261.1111,207.27109 266.16162,212.59096 271.21213,215.35576 276.26263,212.86568 281.3131,212.34866 286.36365,209.58337 291.41412,207.30965 296.46466,210.41446 301.51514,211.06882 306.56567,210.40884 311.61615,207.63042 316.6667,208.89581 321.71716,208.50299 326.7677,208.23886 331.81818,212.36655 336.86868,213.4931 341.9192,211.34784 346.9697,207.76945 352.0202,207.22383 357.0707,207.9251 362.12122,207.75131 367.17172,205.67729 372.22223,206.65886 377.2727,203.3669 382.32324,201.32216 387.37372,204.18336 392.42426,204.59006 397.47473,200.8442 402.52527,199.04594 407.57578,200.48633 412.62625,204.70921 417.67676,205.53018 422.7273,205.18124 427.77777,204.4505 432.82828,202.81973 437.87878,201.90244 442.9293,200.73668 447.9798,199.0791 453.0303,196.43515 458.0808,198.87857 463.13132,199.39003 468.18182,197.72762 473.23233,197.36058 478.28284,198.61119 483.33334,199.19844 488.38382,196.44374 493.43436,196.18748 498.48483,197.46623 503.53537,197.0166 508.58588,199.44347 513.63635,201.98982 518.6869,202.62831 523.73737,199.12616 528.78784,201.18271 533.8384,200.37216 538.8889,199.19754 543.9394,200.11736 548.98987,200.82153 554.0404,198.9806 559.09094,197.52364 564.1414,200.34479 569.1919,200.20927 574.24243,198.26454 579.29297,196.07825 584.34344,198.79361 589.3939,198.43854 594.44446,199.98903 599.49493,198.77844 604.5454,196.84042 609.59595,197.4285 614.6465,203.30086 619.69696,201.41377 624.74744,204.70845 629.798,204.27553 634.8485,204.57072 639.89905,203.92285 644.94946,202.3778 650,201.59521 '/><text x='675' y='250' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort</text><line x1='680' y1='231.25' x2='730' y2='231.25' class='poloto3stroke'/><polyline class='poloto3stroke' fill='none' stroke='black' points='150,246.2048 155.0505,246.1821 160.10101,246.81491 165.15152,245.15526 170.20203,246.93527 175.25253,246.74495 180.30304,244.21066 185.35353,233.89166 190.40404,224.35829 195.45454,207.8178 200.50505,197.05579 205.55556,211.01459 210.60606,192.07294 215.65656,149.34053 220.70706,173.97226 225.75757,164.81909 230.80807,164.4593 235.85858,128.96902 240.90909,152.63368 245.9596,155.44205 251.0101,136.99515 256.0606,138.9054 261.1111,135.5252 266.16162,151.57857 271.21213,135.9559 276.26263,148.22014 281.3131,166.58386 286.36365,150.8914 291.41412,152.83832 296.46466,163.16403 301.51514,164.17526 306.56567,173.60811 311.61615,177.76157 316.6667,176.72963 321.71716,168.58907 326.7677,180.13046 331.81818,174.3635 336.86868,183.40556 341.9192,179.34178 346.9697,188.5849 352.0202,174.94728 357.0707,194.58463 362.12122,188.33751 367.17172,191.0069 372.22223,195.57132 377.2727,194.23291 382.32324,187.89346 387.37372,176.37033 392.42426,208.11002 397.47473,209.57751 402.52527,199.7264 407.57578,202.26167 412.62625,221.64282 417.67676,220.26155 422.7273,218.58243 427.77777,208.00475 432.82828,224.64566 437.87878,238.81065 442.9293,208.54723 447.9798,220.40437 453.0303,223.29953 458.0808,228.6828 463.13132,246.6881 468.18182,221.86072 473.23233,225.31439 478.28284,233.23799 483.33334,224.8383 488.38382,253.59099 493.43436,239.98569 498.48483,241.82358 503.53537,237.2627 508.58588,224.08035 513.63635,243.42035 518.6869,263.30963 523.73737,264.4314 528.78784,261.7622 533.8384,213.38736 538.8889,251.6758 543.9394,266.58707 548.98987,260.92896 554.0404,265.18475 559.09094,242.3489 564.1414,267.3131 569.1919,255.43979 574.24243,271.60257 579.29297,266.59802 584.34344,244.43085 589.3939,261.9676 594.44446,277.33252 599.49493,280.12158 604.5454,260.5558 609.59595,265.1902 614.6465,273.81442 619.69696,287.0238 624.74744,282.24747 629.798,270.69672 634.8485,279.01257 639.89905,272.3129 644.94946,285.59634 650,277.43542 '/><text x='675' y='300' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>nosort_par</text><line x1='680' y1='281.25' x2='730' y2='281.25' class='poloto4stroke'/><polyline class='poloto4stroke' fill='none' stroke='black' points='150,225.40146 155.0505,223.21214 160.10101,223.54112 165.15152,221.92354 170.20203,223.57599 175.25253,222.9464 180.30304,217.58095 185.35353,215.64268 190.40404,198.96869 195.45454,186.24771 200.50505,170.64066 205.55556,127.64337 210.60606,166.07669 215.65656,125.348114 220.70706,145.14085 225.75757,136.34567 230.80807,134.66061 235.85858,100 240.90909,127.82559 245.9596,135.6018 251.0101,109.96826 256.0606,116.200714 261.1111,110.73389 266.16162,129.26685 271.21213,117.47516 276.26263,124.833374 281.3131,138.4786 286.36365,133.50519 291.41412,136.2428 296.46466,141.35757 301.51514,144.16751 306.56567,157.95633 311.61615,156.45895 316.6667,155.02306 321.71716,154.6271 326.7677,165.59204 331.81818,152.14613 336.86868,168.31049 341.9192,167.81686 346.9697,175.83994 352.0202,161.5205 357.0707,178.76898 362.12122,172.67928 367.17172,172.14647 372.22223,181.60966 377.2727,181.4012 382.32324,173.14644 387.37372,164.4962 392.42426,196.71721 397.47473,197.80869 402.52527,189.34811 407.57578,188.85861 412.62625,210.35063 417.67676,209.95988 422.7273,206.73007 427.77777,194.52063 432.82828,215.33713 437.87878,223.64046 442.9293,200.29364 447.9798,214.53735 453.0303,213.73714 458.0808,215.65204 463.13132,233.54747 468.18182,210.76822 473.23233,220.8103 478.28284,219.07068 483.33334,214.14989 488.38382,240.8876 493.43436,230.68858 498.48483,231.81557 503.53537,226.34523 508.58588,217.55142 513.63635,236.05243 518.6869,253.60443 523.73737,252.59018 528.78784,250.92603 533.8384,198.80904 538.8889,239.43767 543.9394,257.07904 548.98987,253.44836 554.0404,259.8744 559.09094,235.89082 564.1414,126.670074 569.1919,247.92038 574.24243,266.38385 579.29297,260.18945 584.34344,237.9121 589.3939,258.6541 594.44446,264.89838 599.49493,273.1809 604.5454,259.79376 609.59595,260.64658 614.6465,274.03943 619.69696,278.1401 624.74744,277.50226 629.798,271.93967 634.8485,280.32788 639.89905,271.32028 644.94946,284.32394 650,277.2137 '/><text x='675' y='350' alignment-baseline='middle' text-anchor='start' font-size='large' class='poloto_text'>sweep</text><line x1='680' y1='331.25' x2='730' y2='331.25' class='poloto5stroke'/><polyline class='poloto5stroke' fill='none' stroke='black' points='150,251.10997 155.0505,255.75833 160.10101,252.90462 165.15152,265.93213 170.20203,267.90106 175.25253,267.0869 180.30304,263.07782 185.35353,264.8136 190.40404,251.73785 195.45454,242.67604 200.50505,232.05121 205.55556,219.52682 210.60606,206.44252 215.65656,202.23163 220.70706,189.07626 225.75757,179.1045 230.80807,176.43362 235.85858,169.06165 240.90909,157.72276 245.9596,147.85973 251.0101,147.63373 256.0606,142.28662 261.1111,140.35837 266.16162,131.10562 271.21213,126.88309 276.26263,127.58417 281.3131,130.8711 286.36365,122.46588 291.41412,123.53177 296.46466,120.59415 301.51514,122.897736 306.56567,126.78595 311.61615,119.744934 316.6667,121.072266 321.71716,119.432465 326.7677,128.34436 331.81818,127.32797 336.86868,129.24399 341.9192,126.42447 346.9697,125.701935 352.0202,127.71045 357.0707,142.18823 362.12122,133.93506 367.17172,132.71774 372.22223,134.33368 377.2727,135.79034 382.32324,131.01382 387.37372,135.58508 392.42426,139.2818 397.47473,139.67001 402.52527,143.1351 407.57578,142.15955 412.62625,146.39198 417.67676,149.03653 422.7273,149.77151 427.77777,151.87276 432.82828,152.86842 437.87878,154.08328 442.9293,156.45955 447.9798,155.47386 453.0303,162.85023 458.0808,161.12323 463.13132,163.23705 468.18182,166.63057 473.23233,164.3969 478.28284,166.9987 483.33334,170.37137 488.38382,170.86925 493.43436,174.4381 498.48483,177.44025 503.53537,176.12103 508.58588,181.1651 513.63635,179.3618 518.6869,180.03137 523.73737,183.50095 528.78784,183.9682 533.8384,183.83232 538.8889,186.62398 543.9394,190.00302 548.98987,189.9532 554.0404,192.79369 559.09094,191.83893 564.1414,189.63025 569.1919,196.70679 574.24243,197.70308 579.29297,199.99034 584.34344,202.44852 589.3939,199.76094 594.44446,206.09203 599.49493,203.0704 604.5454,208.92863 609.59595,206.40816 614.6465,210.32129 619.69696,211.95451 624.74744,214.22517 629.798,214.55573 634.8485,216.10391 639.89905,216.05914 644.94946,219.41089 650,218.41467 '/><text x='400' y='37.5' alignment-baseline='start' text-anchor='middle' font-size='x-large' class='poloto_text'>Bench of space partitioning algs with abspiral(3000,grow)</text><text x='400' y='481.25' alignment-baseline='start' text-anchor='middle' font-size='large' class='poloto_text'>Grow</text>
<text x='37.5' y='250' alignment-baseline='start' text-anchor='middle' transform='rotate(-90,37.5,250)' font-size='large' class='poloto_text'>Time in Seconds</text><path stroke='black' class='poloto_axis_lines' d='M 150 100 L 150 400 L 650 400 '/></svg></p>
<p>Above we benched for a smaller number of elements since it simply takes too long at this density to bench 30_000 elements like we did in the non-extremely-clumped-up case earlier. This graph looks extremely weird!</p>
<p>I really can't fathom why its faster to find collisions when everything is touching everything when everything is almost touching everything. My only guess is that in the former case, branch prediction is very straight forward. You just assume you're also going down the path of a collision hit. </p>
<h3><a class="header" href="#fairness" id="fairness">Fairness</a></h3>
<p>It's important to note that these comparisons aren't really fair. With broccoli, we are focused on optimising the finding colliding pairs portion, but these comparisons are comparing construct + one call to finding colliding pairs. However, we can't really show a graph of just the query portion, because other algorithms can't be easily split up into a construction and query part. Perhaps a better test would be to compare multiple query calls. So for each algorithm with one set of elements, find all the colliding pairs, then also find all the elements in a rectangle, then also find knearest, etc.</p>
<h3><a class="header" href="#sweep-vs-kd-tree-vs-both" id="sweep-vs-kd-tree-vs-both">Sweep vs Kd-Tree vs Both</a></h3>
<p>Sweep and prune is a nice and simple AABB collision finding system, but it degenerates as there are more and more &quot;false-positives&quot; (objects that intersect on one axis, but not both). Kd Trees have a great recursive way of pruning out elements, but non-point objects that can't be inserted into children are left in the parent node and those objects must be collision checked with everybody else naively. A better solution is to use both. </p>
<p>The basic idea is that you use a tree up until a specific tree height, and then switch to sweep and prune, and then additionally use sweep and prune for elements stuck in higher up tree nodes. The sweep and prune algorithm is a good candidate to use since it uses very little memory (just a stack that can be reused as you handle descendant nodes). But the real reason why it is good is the fact that the aabbs that belong to a non-leaf node in a kd tree are likely to be strewn across the divider in a line. Sweep and prune degenerates when the active list that it must maintain has many aabbs that end up not intersecting. This isn't likely to happen for the aabbs that belong to a node since the aabbs that belong to a node are guaranteed to touch the divider. If the divider partitions aabbs based off their x value, then the aabbs that belong to that node will all have x values that are roughly close together (they must intersect divider), but they y values can be vastly different (all the aabbs will be scattered up and down the dividing line). So when we do sweep and prune, it is important that we sweep and prune along axis that is different from the axis along which the divider is partitioning, otherwise it will degenerate to practically the naive algorithm.</p>
<h3><a class="header" href="#kd-tree-vs-quad-tree" id="kd-tree-vs-quad-tree">KD tree vs Quad Tree</a></h3>
<p>I think the main benefit of a quad tree is that tree construction is fast since we don't need to find the median at each level. They also have a interesting relationship with <a href="https://en.wikipedia.org/wiki/Z-order_curve">z order curves</a>.</p>
<p>But that comes at a cost of a potentially not great partitioning of the physical elements. Our goal is to make the querying as fast as possible as this is the part that can vary and dominate very easily in dense/clumped up situations. The slow construction time of the kdtree is not ideal, but it is a very consistent load (doesn't vary from how clumped the elements are). </p>
<p>KD trees are also great in a multi-threaded setting. With a kd tree, you are guaranteed that for any parent, there are an equal number of objects if you recurse the left side and the right side since you specifically chose the divider to be the median. </p>
<p>This means that during the query phase, the work-load will be fairly equal on both sides. It might not be truly equal because even though for a given node, you can expect both the left and right sub-trees to have an equal number of elements, they most likely will be distributed differently within each sub-tree. For example the left sub-tree might have all of its elements stuck in just one node, while the right sub-tree has all of its elements in its leaf nodes. However, the size of each sub-tree is a somewhat good estimate of the size of the problem of querying it. So this is a good property for a divide and conquer multi-threaded style algorithm. With a quad tree, the load is not as likely to be even between the four children nodes. </p>
<h3><a class="header" href="#tree-space-partitioning-vs-grid" id="tree-space-partitioning-vs-grid">Tree space partitioning vs grid</a></h3>
<p>I wanted to make a collision system that could be used in the general case and did not need to be fine-tuned. Grid based collision systems suffer from the teapot-in-a-stadium problem. They also degenerate more rapidly as objects get more clumped up. If, however, you have a system where you have strict rules with how evenly distributed objects will be among the entire space you're checking collisions against, then I think a grid system can be better. But I think these systems are few and far in between. I think in most systems, for example, its perfectly possible for all the objects to exist entirely on one half of the space being collision checked leaving the other half empty. In such a case, half of the data structure of the grid system is not being used to partition anything. There are also difficulties in how to represent the data structure since every grid cell could have a variable number of aabbs in side of it. Having a Vec in each cell, for example, would hardly be efficient.</p>
<p>The way <a href="https://google.github.io/liquidfun/">liquid fun</a> does collisions by using grids in one dimension and sweep and prune in the other. </p>
<h3><a class="header" href="#broccoli-vs-bvt" id="broccoli-vs-bvt">broccoli vs BVT</a></h3>
<p>I'm not sure how broccoli stacks up against a bounding volume tree. This is something I would like to investigate in the future. It would be interesting to compare against bottom up and top down constructions of BVT seeing as KD Tree are top down by nature.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch0-analysis-method.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch2-construction-vs-query.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch0-analysis-method.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch2-construction-vs-query.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
